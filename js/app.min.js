$(document).ready(function(){
    $('.banner--left').owlCarousel({
        loop:false,
        margin:0,
        nav:true,
        items:1,
        autoplay:true,
        smartSpeed:1000,
        dots:true,
        navText : ["<i class='fas fa-angle-left fa-2x'></i>","<i class='fas fa-angle-right fa-2x'></i>"],
        responsive:{
            0:{
                items:1
            }
        }
    });
    $('.clientsay-owl').owlCarousel({
        loop:true,
        margin:20,
        nav:true,
        items:1,
        autoplay:true,
        smartSpeed:1000,
        dots:true,
        navText : ["<i class='fas fa-angle-left fa-2x'></i>","<i class='fas fa-angle-right fa-2x'></i>"],
        responsive:{
            0:{
                items:1
            }
        }
    });



    $('.owl-carousel').owlCarousel({
        loop:true,
        // margin:10,
        nav:true,
        items:4,
        pagination: false,
        autoplay:false,
        smartSpeed:1000,
        navText : ["<i class='fa fa-chevron-left fa-1x'></i>","<i class='fa fa-chevron-right fa-1x'></i>"],
        dots:true,
        responsive:{
            0:{
                items:1
            },
            400:{
                items:2
            },
            600:{
                items:3
            },
            1000:{
                items:4
            }
        }
    });

});

// loader
// $(window).load(function()  {
//
//     // Fakes the loading setting a timeout
//     setTimeout(function() {
//         $('body').addClass('loaded');
//     }, 2500);
//
// });
// !function(t) {
//     t.flexslider = function(e, n) {
//         var i = t(e);
//         i.vars = t.extend({}, t.flexslider.defaults, n);
//         var o, a = i.vars.namespace, s = window.navigator && window.navigator.msPointerEnabled && window.MSGesture, r = ("ontouchstart"in window || s || window.DocumentTouch && document instanceof DocumentTouch) && i.vars.touch, l = "click touchend MSPointerUp", u = "", c = "vertical" === i.vars.direction, d = i.vars.reverse, p = i.vars.itemWidth > 0, h = "fade" === i.vars.animation, f = "" !== i.vars.asNavFor, v = {}, m = !0;
//         t.data(e, "flexslider", i),
//             v = {
//                 init: function() {
//                     i.animating = !1,
//                         i.currentSlide = parseInt(i.vars.startAt ? i.vars.startAt : 0, 10),
//                     isNaN(i.currentSlide) && (i.currentSlide = 0),
//                         i.animatingTo = i.currentSlide,
//                         i.atEnd = 0 === i.currentSlide || i.currentSlide === i.last,
//                         i.containerSelector = i.vars.selector.substr(0, i.vars.selector.search(" ")),
//                         i.slides = t(i.vars.selector, i),
//                         i.container = t(i.containerSelector, i),
//                         i.count = i.slides.length,
//                         i.syncExists = t(i.vars.sync).length > 0,
//                     "slide" === i.vars.animation && (i.vars.animation = "swing"),
//                         i.prop = c ? "top" : "marginLeft",
//                         i.args = {},
//                         i.manualPause = !1,
//                         i.stopped = !1,
//                         i.started = !1,
//                         i.startTimeout = null,
//                         i.transitions = !i.vars.video && !h && i.vars.useCSS && function() {
//                             var t = document.createElement("div"),
//                                 e = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"];
//                             for (var n in e)
//                                 if (void 0 !== t.style[e[n]])
//                                     return i.pfx = e[n].replace("Perspective", "").toLowerCase(),
//                                         i.prop = "-" + i.pfx + "-transform",
//                                         !0;
//                             return !1;
//                         }(),
//                         i.ensureAnimationEnd = "",
//                     "" !== i.vars.controlsContainer && (i.controlsContainer = t(i.vars.controlsContainer).length > 0 && t(i.vars.controlsContainer)),
//                     "" !== i.vars.manualControls && (i.manualControls = t(i.vars.manualControls).length > 0 && t(i.vars.manualControls)),
//                     i.vars.randomize && (i.slides.sort(function() {
//                         return Math.round(Math.random()) - 0.5;
//                     }),
//                         i.container.empty().append(i.slides)),
//                         i.doMath(),
//                         i.setup("init"),
//                     i.vars.controlNav && v.controlNav.setup(),
//                     i.vars.directionNav && v.directionNav.setup(),
//                     i.vars.keyboard && (1 === t(i.containerSelector).length || i.vars.multipleKeyboard) && t(document).bind("keyup", function(t) {
//                         var e = t.keyCode;
//                         if (!i.animating && (39 === e || 37 === e)) {
//                             var n = 39 === e ? i.getTarget("next") : 37 === e ? i.getTarget("prev") : !1;
//                             i.flexAnimate(n, i.vars.pauseOnAction);
//                         }
//                     }),
//                     i.vars.mousewheel && i.bind("mousewheel", function(t, e) {
//                         t.preventDefault();
//                         var n = i.getTarget(0 > e ? "next" : "prev");
//                         i.flexAnimate(n, i.vars.pauseOnAction);
//                     }),
//                     i.vars.pausePlay && v.pausePlay.setup(),
//                     i.vars.slideshow && i.vars.pauseInvisible && v.pauseInvisible.init(),
//                     i.vars.slideshow && (i.vars.pauseOnHover && i.hover(function() {
//                         i.manualPlay || i.manualPause || i.pause();
//                     }, function() {
//                         i.manualPause || i.manualPlay || i.stopped || i.play();
//                     }),
//                     i.vars.pauseInvisible && v.pauseInvisible.isHidden() || (i.vars.initDelay > 0 ? i.startTimeout = setTimeout(i.play, i.vars.initDelay) : i.play())),
//                     f && v.asNav.setup(),
//                     r && i.vars.touch && v.touch(),
//                     (!h || h && i.vars.smoothHeight) && t(window).bind("resize orientationchange focus", v.resize),
//                         i.find("img").attr("draggable", "false"),
//                         setTimeout(function() {
//                             i.vars.start(i);
//                         }, 200);
//                 },
//                 asNav: {
//                     setup: function() {
//                         i.asNav = !0,
//                             i.animatingTo = Math.floor(i.currentSlide / i.move),
//                             i.currentItem = i.currentSlide,
//                             i.slides.removeClass(a + "active-slide").eq(i.currentItem).addClass(a + "active-slide"),
//                             s ? (e._slider = i,
//                                 i.slides.each(function() {
//                                     var e = this;
//                                     e._gesture = new MSGesture,
//                                         e._gesture.target = e,
//                                         e.addEventListener("MSPointerDown", function(t) {
//                                             t.preventDefault(),
//                                             t.currentTarget._gesture && t.currentTarget._gesture.addPointer(t.pointerId);
//                                         }, !1),
//                                         e.addEventListener("MSGestureTap", function(e) {
//                                             e.preventDefault();
//                                             var n = t(this),
//                                                 o = n.index();
//                                             t(i.vars.asNavFor).data("flexslider").animating || n.hasClass("active") || (i.direction = i.currentItem < o ? "next" : "prev",
//                                                 i.flexAnimate(o, i.vars.pauseOnAction, !1, !0, !0));
//                                         });
//                                 })) : i.slides.on(l, function(e) {
//                                 e.preventDefault();
//                                 var n = t(this)
//                                     , o = n.index()
//                                     , s = n.offset().left - t(i).scrollLeft();
//                                 0 >= s && n.hasClass(a + "active-slide") ? i.flexAnimate(i.getTarget("prev"), !0) : t(i.vars.asNavFor).data("flexslider").animating || n.hasClass(a + "active-slide") || (i.direction = i.currentItem < o ? "next" : "prev",
//                                     i.flexAnimate(o, i.vars.pauseOnAction, !1, !0, !0))
//                             })
//                     }
//                 },
//                 controlNav: {
//                     setup: function() {
//                         i.manualControls ? v.controlNav.setupManual() : v.controlNav.setupPaging()
//                     },
//                     setupPaging: function() {
//                         var e, n, o = "thumbnails" === i.vars.controlNav ? "control-thumbs" : "control-paging", s = 1;
//                         if (i.controlNavScaffold = t('<ol class="' + a + "control-nav " + a + o + '"></ol>'),
//                             i.pagingCount > 1)
//                             for (var r = 0; r < i.pagingCount; r++) {
//                                 if (n = i.slides.eq(r),
//                                         e = "thumbnails" === i.vars.controlNav ? '<img src="' + n.attr("data-thumb") + '"/>' : "<a>" + s + "</a>",
//                                     "thumbnails" === i.vars.controlNav && !0 === i.vars.thumbCaptions) {
//                                     var c = n.attr("data-thumbcaption");
//                                     "" != c && void 0 != c && (e += '<span class="' + a + 'caption">' + c + "</span>")
//                                 }
//                                 i.controlNavScaffold.append("<li>" + e + "</li>"),
//                                     s++
//                             }
//                         i.controlsContainer ? t(i.controlsContainer).append(i.controlNavScaffold) : i.append(i.controlNavScaffold),
//                             v.controlNav.set(),
//                             v.controlNav.active(),
//                             i.controlNavScaffold.delegate("a, img", l, function(e) {
//                                 if (e.preventDefault(),
//                                     "" === u || u === e.type) {
//                                     var n = t(this)
//                                         , o = i.controlNav.index(n);
//                                     n.hasClass(a + "active") || (i.direction = o > i.currentSlide ? "next" : "prev",
//                                         i.flexAnimate(o, i.vars.pauseOnAction))
//                                 }
//                                 "" === u && (u = e.type),
//                                     v.setToClearWatchedEvent()
//                             })
//                     },
//                     setupManual: function() {
//                         i.controlNav = i.manualControls,
//                             v.controlNav.active(),
//                             i.controlNav.bind(l, function(e) {
//                                 if (e.preventDefault(),
//                                     "" === u || u === e.type) {
//                                     var n = t(this)
//                                         , o = i.controlNav.index(n);
//                                     n.hasClass(a + "active") || (i.direction = o > i.currentSlide ? "next" : "prev",
//                                         i.flexAnimate(o, i.vars.pauseOnAction))
//                                 }
//                                 "" === u && (u = e.type),
//                                     v.setToClearWatchedEvent()
//                             })
//                     },
//                     set: function() {
//                         var e = "thumbnails" === i.vars.controlNav ? "img" : "a";
//                         i.controlNav = t("." + a + "control-nav li " + e, i.controlsContainer ? i.controlsContainer : i)
//                     },
//                     active: function() {
//                         i.controlNav.removeClass(a + "active").eq(i.animatingTo).addClass(a + "active")
//                     },
//                     update: function(e, n) {
//                         i.pagingCount > 1 && "add" === e ? i.controlNavScaffold.append(t("<li><a>" + i.count + "</a></li>")) : 1 === i.pagingCount ? i.controlNavScaffold.find("li").remove() : i.controlNav.eq(n).closest("li").remove(),
//                             v.controlNav.set(),
//                             i.pagingCount > 1 && i.pagingCount !== i.controlNav.length ? i.update(n, e) : v.controlNav.active()
//                     }
//                 },
//                 directionNav: {
//                     setup: function() {
//                         var e = t('<ul class="' + a + 'direction-nav"><li><a class="' + a + 'prev" href="#">' + i.vars.prevText + '</a></li><li><a class="' + a + 'next" href="#">' + i.vars.nextText + "</a></li></ul>");
//                         i.controlsContainer ? (t(i.controlsContainer).append(e),
//                             i.directionNav = t("." + a + "direction-nav li a", i.controlsContainer)) : (i.append(e),
//                             i.directionNav = t("." + a + "direction-nav li a", i)),
//                             v.directionNav.update(),
//                             i.directionNav.bind(l, function(e) {
//                                 e.preventDefault();
//                                 var n;
//                                 ("" === u || u === e.type) && (n = i.getTarget(t(this).hasClass(a + "next") ? "next" : "prev"),
//                                     i.flexAnimate(n, i.vars.pauseOnAction)),
//                                 "" === u && (u = e.type),
//                                     v.setToClearWatchedEvent()
//                             })
//                     },
//                     update: function() {
//                         var t = a + "disabled";
//                         1 === i.pagingCount ? i.directionNav.addClass(t).attr("tabindex", "-1") : i.vars.animationLoop ? i.directionNav.removeClass(t).removeAttr("tabindex") : 0 === i.animatingTo ? i.directionNav.removeClass(t).filter("." + a + "prev").addClass(t).attr("tabindex", "-1") : i.animatingTo === i.last ? i.directionNav.removeClass(t).filter("." + a + "next").addClass(t).attr("tabindex", "-1") : i.directionNav.removeClass(t).removeAttr("tabindex")
//                     }
//                 },
//                 pausePlay: {
//                     setup: function() {
//                         var e = t('<div class="' + a + 'pauseplay"><a></a></div>');
//                         i.controlsContainer ? (i.controlsContainer.append(e),
//                             i.pausePlay = t("." + a + "pauseplay a", i.controlsContainer)) : (i.append(e),
//                             i.pausePlay = t("." + a + "pauseplay a", i)),
//                             v.pausePlay.update(i.vars.slideshow ? a + "pause" : a + "play"),
//                             i.pausePlay.bind(l, function(e) {
//                                 e.preventDefault(),
//                                 ("" === u || u === e.type) && (t(this).hasClass(a + "pause") ? (i.manualPause = !0,
//                                     i.manualPlay = !1,
//                                     i.pause()) : (i.manualPause = !1,
//                                     i.manualPlay = !0,
//                                     i.play())),
//                                 "" === u && (u = e.type),
//                                     v.setToClearWatchedEvent()
//                             });
//                     },
//                     update: function(t) {
//                         "play" === t ? i.pausePlay.removeClass(a + "pause").addClass(a + "play").html(i.vars.playText) : i.pausePlay.removeClass(a + "play").addClass(a + "pause").html(i.vars.pauseText)
//                     }
//                 },
//                 touch: function() {
//                     function t(t) {
//                         i.animating ? t.preventDefault() : (window.navigator.msPointerEnabled || 1 === t.touches.length) && (i.pause(),
//                             m = c ? i.h : i.w,
//                             y = Number(new Date),
//                             b = t.touches[0].pageX,
//                             x = t.touches[0].pageY,
//                             v = p && d && i.animatingTo === i.last ? 0 : p && d ? i.limit - (i.itemW + i.vars.itemMargin) * i.move * i.animatingTo : p && i.currentSlide === i.last ? i.limit : p ? (i.itemW + i.vars.itemMargin) * i.move * i.currentSlide : d ? (i.last - i.currentSlide + i.cloneOffset) * m : (i.currentSlide + i.cloneOffset) * m,
//                             u = c ? x : b,
//                             f = c ? b : x,
//                             e.addEventListener("touchmove", n, !1),
//                             e.addEventListener("touchend", o, !1))
//                     }
//                     function n(t) {
//                         b = t.touches[0].pageX,
//                             x = t.touches[0].pageY,
//                             g = c ? u - x : u - b,
//                             w = c ? Math.abs(g) < Math.abs(b - f) : Math.abs(g) < Math.abs(x - f);
//                         var e = 500;
//                         (!w || Number(new Date) - y > e) && (t.preventDefault(),
//                         !h && i.transitions && (i.vars.animationLoop || (g /= 0 === i.currentSlide && 0 > g || i.currentSlide === i.last && g > 0 ? Math.abs(g) / m + 2 : 1),
//                             i.setProps(v + g, "setTouch")))
//                     }
//                     function o() {
//                         if (e.removeEventListener("touchmove", n, !1),
//                             i.animatingTo === i.currentSlide && !w && null !== g) {
//                             var t = d ? -g : g
//                                 , a = i.getTarget(t > 0 ? "next" : "prev");
//                             i.canAdvance(a) && (Number(new Date) - y < 550 && Math.abs(t) > 50 || Math.abs(t) > m / 2) ? i.flexAnimate(a, i.vars.pauseOnAction) : h || i.flexAnimate(i.currentSlide, i.vars.pauseOnAction, !0)
//                         }
//                         e.removeEventListener("touchend", o, !1),
//                             u = null,
//                             f = null,
//                             g = null,
//                             v = null
//                     }
//                     function a(t) {
//                         t.stopPropagation(),
//                             i.animating ? t.preventDefault() : (i.pause(),
//                                 e._gesture.addPointer(t.pointerId),
//                                 S = 0,
//                                 m = c ? i.h : i.w,
//                                 y = Number(new Date),
//                                 v = p && d && i.animatingTo === i.last ? 0 : p && d ? i.limit - (i.itemW + i.vars.itemMargin) * i.move * i.animatingTo : p && i.currentSlide === i.last ? i.limit : p ? (i.itemW + i.vars.itemMargin) * i.move * i.currentSlide : d ? (i.last - i.currentSlide + i.cloneOffset) * m : (i.currentSlide + i.cloneOffset) * m)
//                     }
//                     function r(t) {
//                         t.stopPropagation();
//                         var n = t.target._slider;
//                         if (n) {
//                             var i = -t.translationX
//                                 , o = -t.translationY;
//                             return S += c ? o : i,
//                                 g = S,
//                                 w = c ? Math.abs(S) < Math.abs(-i) : Math.abs(S) < Math.abs(-o),
//                                 t.detail === t.MSGESTURE_FLAG_INERTIA ? void setImmediate(function() {
//                                     e._gesture.stop()
//                                 }) : void ((!w || Number(new Date) - y > 500) && (t.preventDefault(),
//                                 !h && n.transitions && (n.vars.animationLoop || (g = S / (0 === n.currentSlide && 0 > S || n.currentSlide === n.last && S > 0 ? Math.abs(S) / m + 2 : 1)),
//                                     n.setProps(v + g, "setTouch"))))
//                         }
//                     }
//                     function l(t) {
//                         t.stopPropagation();
//                         var e = t.target._slider;
//                         if (e) {
//                             if (e.animatingTo === e.currentSlide && !w && null !== g) {
//                                 var n = d ? -g : g
//                                     , i = e.getTarget(n > 0 ? "next" : "prev");
//                                 e.canAdvance(i) && (Number(new Date) - y < 550 && Math.abs(n) > 50 || Math.abs(n) > m / 2) ? e.flexAnimate(i, e.vars.pauseOnAction) : h || e.flexAnimate(e.currentSlide, e.vars.pauseOnAction, !0)
//                             }
//                             u = null,
//                                 f = null,
//                                 g = null,
//                                 v = null,
//                                 S = 0
//                         }
//                     }
//                     var u, f, v, m, g, y, w = !1, b = 0, x = 0, S = 0;
//                     s ? (e.style.msTouchAction = "none",
//                         e._gesture = new MSGesture,
//                         e._gesture.target = e,
//                         e.addEventListener("MSPointerDown", a, !1),
//                         e._slider = i,
//                         e.addEventListener("MSGestureChange", r, !1),
//                         e.addEventListener("MSGestureEnd", l, !1)) : e.addEventListener("touchstart", t, !1)
//                 },
//                 resize: function() {
//                     !i.animating && i.is(":visible") && (p || i.doMath(),
//                         h ? v.smoothHeight() : p ? (i.slides.width(i.computedW),
//                             i.update(i.pagingCount),
//                             i.setProps()) : c ? (i.viewport.height(i.h),
//                             i.setProps(i.h, "setTotal")) : (i.vars.smoothHeight && v.smoothHeight(),
//                             i.newSlides.width(i.computedW),
//                             i.setProps(i.computedW, "setTotal")))
//                 },
//                 smoothHeight: function(t) {
//                     if (!c || h) {
//                         var e = h ? i : i.viewport;
//                         t ? e.animate({
//                             height: i.slides.eq(i.animatingTo).height()
//                         }, t) : e.height(i.slides.eq(i.animatingTo).height())
//                     }
//                 },
//                 sync: function(e) {
//                     var n = t(i.vars.sync).data("flexslider")
//                         , o = i.animatingTo;
//                     switch (e) {
//                         case "animate":
//                             n.flexAnimate(o, i.vars.pauseOnAction, !1, !0);
//                             break;
//                         case "play":
//                             n.playing || n.asNav || n.play();
//                             break;
//                         case "pause":
//                             n.pause()
//                     }
//                 },
//                 uniqueID: function(e) {
//                     return e.find("[id]").each(function() {
//                         var e = t(this);
//                         e.attr("id", e.attr("id") + "_clone")
//                     }),
//                         e
//                 },
//                 pauseInvisible: {
//                     visProp: null,
//                     init: function() {
//                         var t = ["webkit", "moz", "ms", "o"];
//                         if ("hidden"in document)
//                             return "hidden";
//                         for (var e = 0; e < t.length; e++)
//                             t[e] + "Hidden"in document && (v.pauseInvisible.visProp = t[e] + "Hidden");
//                         if (v.pauseInvisible.visProp) {
//                             var n = v.pauseInvisible.visProp.replace(/[H|h]idden/, "") + "visibilitychange";
//                             document.addEventListener(n, function() {
//                                 v.pauseInvisible.isHidden() ? i.startTimeout ? clearTimeout(i.startTimeout) : i.pause() : i.started ? i.play() : i.vars.initDelay > 0 ? setTimeout(i.play, i.vars.initDelay) : i.play()
//                             })
//                         }
//                     },
//                     isHidden: function() {
//                         return document[v.pauseInvisible.visProp] || !1
//                     }
//                 },
//                 setToClearWatchedEvent: function() {
//                     clearTimeout(o),
//                         o = setTimeout(function() {
//                             u = ""
//                         }, 3e3)
//                 }
//             },
//             i.flexAnimate = function(e, n, o, s, l) {
//                 if (i.vars.animationLoop || e === i.currentSlide || (i.direction = e > i.currentSlide ? "next" : "prev"),
//                     f && 1 === i.pagingCount && (i.direction = i.currentItem < e ? "next" : "prev"),
//                     !i.animating && (i.canAdvance(e, l) || o) && i.is(":visible")) {
//                     if (f && s) {
//                         var u = t(i.vars.asNavFor).data("flexslider");
//                         if (i.atEnd = 0 === e || e === i.count - 1,
//                                 u.flexAnimate(e, !0, !1, !0, l),
//                                 i.direction = i.currentItem < e ? "next" : "prev",
//                                 u.direction = i.direction,
//                             Math.ceil((e + 1) / i.visible) - 1 === i.currentSlide || 0 === e)
//                             return i.currentItem = e,
//                                 i.slides.removeClass(a + "active-slide").eq(e).addClass(a + "active-slide"),
//                                 !1;
//                         i.currentItem = e,
//                             i.slides.removeClass(a + "active-slide").eq(e).addClass(a + "active-slide"),
//                             e = Math.floor(e / i.visible)
//                     }
//                     if (i.animating = !0,
//                             i.animatingTo = e,
//                         n && i.pause(),
//                             i.vars.before(i),
//                         i.syncExists && !l && v.sync("animate"),
//                         i.vars.controlNav && v.controlNav.active(),
//                         p || i.slides.removeClass(a + "active-slide").eq(e).addClass(a + "active-slide"),
//                             i.atEnd = 0 === e || e === i.last,
//                         i.vars.directionNav && v.directionNav.update(),
//                         e === i.last && (i.vars.end(i),
//                         i.vars.animationLoop || i.pause()),
//                             h)
//                         r ? (i.slides.eq(i.currentSlide).css({
//                             opacity: 0,
//                             zIndex: 1
//                         }),
//                             i.slides.eq(e).css({
//                                 opacity: 1,
//                                 zIndex: 2
//                             }),
//                             i.wrapup(w)) : (i.slides.eq(i.currentSlide).css({
//                             zIndex: 1
//                         }).animate({
//                             opacity: 0
//                         }, i.vars.animationSpeed, i.vars.easing),
//                             i.slides.eq(e).css({
//                                 zIndex: 2
//                             }).animate({
//                                 opacity: 1
//                             }, i.vars.animationSpeed, i.vars.easing, i.wrapup));
//                     else {
//                         var m, g, y, w = c ? i.slides.filter(":first").height() : i.computedW;
//                         p ? (m = i.vars.itemMargin,
//                             y = (i.itemW + m) * i.move * i.animatingTo,
//                             g = y > i.limit && 1 !== i.visible ? i.limit : y) : g = 0 === i.currentSlide && e === i.count - 1 && i.vars.animationLoop && "next" !== i.direction ? d ? (i.count + i.cloneOffset) * w : 0 : i.currentSlide === i.last && 0 === e && i.vars.animationLoop && "prev" !== i.direction ? d ? 0 : (i.count + 1) * w : d ? (i.count - 1 - e + i.cloneOffset) * w : (e + i.cloneOffset) * w,
//                             i.setProps(g, "", i.vars.animationSpeed),
//                             i.transitions ? (i.vars.animationLoop && i.atEnd || (i.animating = !1,
//                                 i.currentSlide = i.animatingTo),
//                                 i.container.unbind("webkitTransitionEnd transitionend"),
//                                 i.container.bind("webkitTransitionEnd transitionend", function() {
//                                     clearTimeout(i.ensureAnimationEnd),
//                                         i.wrapup(w)
//                                 }),
//                                 clearTimeout(i.ensureAnimationEnd),
//                                 i.ensureAnimationEnd = setTimeout(function() {
//                                     i.wrapup(w)
//                                 }, i.vars.animationSpeed + 100)) : i.container.animate(i.args, i.vars.animationSpeed, i.vars.easing, function() {
//                                 i.wrapup(w)
//                             })
//                     }
//                     i.vars.smoothHeight && v.smoothHeight(i.vars.animationSpeed)
//                 }
//             }
//             ,
//             i.wrapup = function(t) {
//                 h || p || (0 === i.currentSlide && i.animatingTo === i.last && i.vars.animationLoop ? i.setProps(t, "jumpEnd") : i.currentSlide === i.last && 0 === i.animatingTo && i.vars.animationLoop && i.setProps(t, "jumpStart")),
//                     i.animating = !1,
//                     i.currentSlide = i.animatingTo,
//                     i.vars.after(i)
//             }
//             ,
//             i.animateSlides = function() {
//                 !i.animating && m && i.flexAnimate(i.getTarget("next"))
//             }
//             ,
//             i.pause = function() {
//                 clearInterval(i.animatedSlides),
//                     i.animatedSlides = null,
//                     i.playing = !1,
//                 i.vars.pausePlay && v.pausePlay.update("play"),
//                 i.syncExists && v.sync("pause")
//             }
//             ,
//             i.play = function() {
//                 i.playing && clearInterval(i.animatedSlides),
//                     i.animatedSlides = i.animatedSlides || setInterval(i.animateSlides, i.vars.slideshowSpeed),
//                     i.started = i.playing = !0,
//                 i.vars.pausePlay && v.pausePlay.update("pause"),
//                 i.syncExists && v.sync("play")
//             }
//             ,
//             i.stop = function() {
//                 i.pause(),
//                     i.stopped = !0
//             }
//             ,
//             i.canAdvance = function(t, e) {
//                 var n = f ? i.pagingCount - 1 : i.last;
//                 return e ? !0 : f && i.currentItem === i.count - 1 && 0 === t && "prev" === i.direction ? !0 : f && 0 === i.currentItem && t === i.pagingCount - 1 && "next" !== i.direction ? !1 : t !== i.currentSlide || f ? i.vars.animationLoop ? !0 : i.atEnd && 0 === i.currentSlide && t === n && "next" !== i.direction ? !1 : i.atEnd && i.currentSlide === n && 0 === t && "next" === i.direction ? !1 : !0 : !1
//             }
//             ,
//             i.getTarget = function(t) {
//                 return i.direction = t,
//                     "next" === t ? i.currentSlide === i.last ? 0 : i.currentSlide + 1 : 0 === i.currentSlide ? i.last : i.currentSlide - 1
//             }
//             ,
//             i.setProps = function(t, e, n) {
//                 var o = function() {
//                     var n = t ? t : (i.itemW + i.vars.itemMargin) * i.move * i.animatingTo
//                         , o = function() {
//                         if (p)
//                             return "setTouch" === e ? t : d && i.animatingTo === i.last ? 0 : d ? i.limit - (i.itemW + i.vars.itemMargin) * i.move * i.animatingTo : i.animatingTo === i.last ? i.limit : n;
//                         switch (e) {
//                             case "setTotal":
//                                 return d ? (i.count - 1 - i.currentSlide + i.cloneOffset) * t : (i.currentSlide + i.cloneOffset) * t;
//                             case "setTouch":
//                                 return d ? t : t;
//                             case "jumpEnd":
//                                 return d ? t : i.count * t;
//                             case "jumpStart":
//                                 return d ? i.count * t : t;
//                             default:
//                                 return t
//                         }
//                     }();
//                     return -1 * o + "px"
//                 }();
//                 i.transitions && (o = c ? "translate3d(0," + o + ",0)" : "translate3d(" + o + ",0,0)",
//                     n = void 0 !== n ? n / 1e3 + "s" : "0s",
//                     i.container.css("-" + i.pfx + "-transition-duration", n),
//                     i.container.css("transition-duration", n)),
//                     i.args[i.prop] = o,
//                 (i.transitions || void 0 === n) && i.container.css(i.args),
//                     i.container.css("transform", o)
//             }
//             ,
//             i.setup = function(e) {
//                 if (h)
//                     i.slides.css({
//                         width: "100%",
//                         "float": "left",
//                         marginRight: "-100%",
//                         position: "relative"
//                     }),
//                     "init" === e && (r ? i.slides.css({
//                         opacity: 0,
//                         display: "block",
//                         webkitTransition: "opacity " + i.vars.animationSpeed / 1e3 + "s ease",
//                         zIndex: 1
//                     }).eq(i.currentSlide).css({
//                         opacity: 1,
//                         zIndex: 2
//                     }) : i.slides.css({
//                         opacity: 0,
//                         display: "block",
//                         zIndex: 1
//                     }).eq(i.currentSlide).css({
//                         zIndex: 2
//                     }).animate({
//                         opacity: 1
//                     }, i.vars.animationSpeed, i.vars.easing)),
//                     i.vars.smoothHeight && v.smoothHeight();
//                 else {
//                     var n, o;
//                     "init" === e && (i.viewport = t('<div class="' + a + 'viewport"></div>').css({
//                         overflow: "hidden",
//                         position: "relative"
//                     }).appendTo(i).append(i.container),
//                         i.cloneCount = 0,
//                         i.cloneOffset = 0,
//                     d && (o = t.makeArray(i.slides).reverse(),
//                         i.slides = t(o),
//                         i.container.empty().append(i.slides))),
//                     i.vars.animationLoop && !p && (i.cloneCount = 2,
//                         i.cloneOffset = 1,
//                     "init" !== e && i.container.find(".clone").remove(),
//                         v.uniqueID(i.slides.first().clone().addClass("clone").attr("aria-hidden", "true")).appendTo(i.container),
//                         v.uniqueID(i.slides.last().clone().addClass("clone").attr("aria-hidden", "true")).prependTo(i.container)),
//                         i.newSlides = t(i.vars.selector, i),
//                         n = d ? i.count - 1 - i.currentSlide + i.cloneOffset : i.currentSlide + i.cloneOffset,
//                         c && !p ? (i.container.height(200 * (i.count + i.cloneCount) + "%").css("position", "absolute").width("100%"),
//                             setTimeout(function() {
//                                 i.newSlides.css({
//                                     display: "block"
//                                 }),
//                                     i.doMath(),
//                                     i.viewport.height(i.h),
//                                     i.setProps(n * i.h, "init")
//                             }, "init" === e ? 100 : 0)) : (i.container.width(200 * (i.count + i.cloneCount) + "%"),
//                             i.setProps(n * i.computedW, "init"),
//                             setTimeout(function() {
//                                 i.doMath(),
//                                     i.newSlides.css({
//                                         width: i.computedW,
//                                         "float": "left",
//                                         display: "block"
//                                     }),
//                                 i.vars.smoothHeight && v.smoothHeight()
//                             }, "init" === e ? 100 : 0))
//                 }
//                 p || i.slides.removeClass(a + "active-slide").eq(i.currentSlide).addClass(a + "active-slide"),
//                     i.vars.init(i)
//             }
//             ,
//             i.doMath = function() {
//                 var t = i.slides.first()
//                     , e = i.vars.itemMargin
//                     , n = i.vars.minItems
//                     , o = i.vars.maxItems;
//                 i.w = void 0 === i.viewport ? i.width() : i.viewport.width(),
//                     i.h = t.height(),
//                     i.boxPadding = t.outerWidth() - t.width(),
//                     p ? (i.itemT = i.vars.itemWidth + e,
//                         i.minW = n ? n * i.itemT : i.w,
//                         i.maxW = o ? o * i.itemT - e : i.w,
//                         i.itemW = i.minW > i.w ? (i.w - e * (n - 1)) / n : i.maxW < i.w ? (i.w - e * (o - 1)) / o : i.vars.itemWidth > i.w ? i.w : i.vars.itemWidth,
//                         i.visible = Math.floor(i.w / i.itemW),
//                         i.move = i.vars.move > 0 && i.vars.move < i.visible ? i.vars.move : i.visible,
//                         i.pagingCount = Math.ceil((i.count - i.visible) / i.move + 1),
//                         i.last = i.pagingCount - 1,
//                         i.limit = 1 === i.pagingCount ? 0 : i.vars.itemWidth > i.w ? i.itemW * (i.count - 1) + e * (i.count - 1) : (i.itemW + e) * i.count - i.w - e) : (i.itemW = i.w,
//                         i.pagingCount = i.count,
//                         i.last = i.count - 1),
//                     i.computedW = i.itemW - i.boxPadding
//             }
//             ,
//             i.update = function(t, e) {
//                 i.doMath(),
//                 p || (t < i.currentSlide ? i.currentSlide += 1 : t <= i.currentSlide && 0 !== t && (i.currentSlide -= 1),
//                     i.animatingTo = i.currentSlide),
//                 i.vars.controlNav && !i.manualControls && ("add" === e && !p || i.pagingCount > i.controlNav.length ? v.controlNav.update("add") : ("remove" === e && !p || i.pagingCount < i.controlNav.length) && (p && i.currentSlide > i.last && (i.currentSlide -= 1,
//                     i.animatingTo -= 1),
//                     v.controlNav.update("remove", i.last))),
//                 i.vars.directionNav && v.directionNav.update()
//             }
//             ,
//             i.addSlide = function(e, n) {
//                 var o = t(e);
//                 i.count += 1,
//                     i.last = i.count - 1,
//                     c && d ? void 0 !== n ? i.slides.eq(i.count - n).after(o) : i.container.prepend(o) : void 0 !== n ? i.slides.eq(n).before(o) : i.container.append(o),
//                     i.update(n, "add"),
//                     i.slides = t(i.vars.selector + ":not(.clone)", i),
//                     i.setup(),
//                     i.vars.added(i)
//             }
//             ,
//             i.removeSlide = function(e) {
//                 var n = isNaN(e) ? i.slides.index(t(e)) : e;
//                 i.count -= 1,
//                     i.last = i.count - 1,
//                     isNaN(e) ? t(e, i.slides).remove() : c && d ? i.slides.eq(i.last).remove() : i.slides.eq(e).remove(),
//                     i.doMath(),
//                     i.update(n, "remove"),
//                     i.slides = t(i.vars.selector + ":not(.clone)", i),
//                     i.setup(),
//                     i.vars.removed(i)
//             }
//             ,
//             v.init()
//     }
//         ,
//         t(window).blur(function() {
//             focused = !1
//         }).focus(function() {
//             focused = !0
//         }),
//         t.flexslider.defaults = {
//             namespace: "flex-",
//             selector: ".slides > li",
//             animation: "fade",
//             easing: "swing",
//             direction: "horizontal",
//             reverse: !1,
//             animationLoop: !0,
//             smoothHeight: !1,
//             startAt: 0,
//             slideshow: !0,
//             slideshowSpeed: 7e3,
//             animationSpeed: 600,
//             initDelay: 0,
//             randomize: !1,
//             thumbCaptions: !1,
//             pauseOnAction: !0,
//             pauseOnHover: !1,
//             pauseInvisible: !0,
//             useCSS: !0,
//             touch: !0,
//             video: !1,
//             controlNav: !0,
//             directionNav: !0,
//             prevText: "Previous",
//             nextText: "Next",
//             keyboard: !0,
//             multipleKeyboard: !1,
//             mousewheel: !1,
//             pausePlay: !1,
//             pauseText: "Pause",
//             playText: "Play",
//             controlsContainer: "",
//             manualControls: "",
//             sync: "",
//             asNavFor: "",
//             itemWidth: 0,
//             itemMargin: 0,
//             minItems: 1,
//             maxItems: 0,
//             move: 0,
//             allowOneSlide: !0,
//             start: function() {},
//             before: function() {},
//             after: function() {},
//             end: function() {},
//             added: function() {},
//             removed: function() {},
//             init: function() {}
//         },
//         t.fn.flexslider = function(e) {
//             if (void 0 === e && (e = {}),
//                 "object" == typeof e)
//                 return this.each(function() {
//                     var n = t(this)
//                         , i = e.selector ? e.selector : ".slides > li"
//                         , o = n.find(i);
//                     1 === o.length && e.allowOneSlide === !0 || 0 === o.length ? (o.fadeIn(400),
//                     e.start && e.start(n)) : void 0 === n.data("flexslider") && new t.flexslider(this,e)
//                 });
//             var n = t(this).data("flexslider");
//             switch (e) {
//                 case "play":
//                     n.play();
//                     break;
//                 case "pause":
//                     n.pause();
//                     break;
//                 case "stop":
//                     n.stop();
//                     break;
//                 case "next":
//                     n.flexAnimate(n.getTarget("next"), !0);
//                     break;
//                 case "prev":
//                 case "previous":
//                     n.flexAnimate(n.getTarget("prev"), !0);
//                     break;
//                 default:
//                     "number" == typeof e && n.flexAnimate(e, !0)
//             }
//         }
// }(jQuery),
//     !function() {
//         function t() {}
//         function e(t) {
//             return a.retinaImageSuffix + t
//         }
//         function n(t, n) {
//             if (this.path = t || "",
//                 "undefined" != typeof n && null !== n)
//                 this.at_2x_path = n,
//                     this.perform_check = !1;
//             else {
//                 if (void 0 !== document.createElement) {
//                     var i = document.createElement("a");
//                     i.href = this.path,
//                         i.pathname = i.pathname.replace(s, e),
//                         this.at_2x_path = i.href
//                 } else {
//                     var o = this.path.split("?");
//                     o[0] = o[0].replace(s, e),
//                         this.at_2x_path = o.join("?")
//                 }
//                 this.perform_check = !0
//             }
//         }
//         function i(t) {
//             this.el = t,
//                 this.path = new n(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));
//             var e = this;
//             this.path.check_2x_variant(function(t) {
//                 t && e.swap()
//             })
//         }
//         var o = "undefined" == typeof exports ? window : exports
//             , a = {
//             retinaImageSuffix: "@2x",
//             check_mime_type: !0,
//             force_original_dimensions: !0
//         };
//         o.Retina = t,
//             t.configure = function(t) {
//                 null === t && (t = {});
//                 for (var e in t)
//                     t.hasOwnProperty(e) && (a[e] = t[e])
//             }
//             ,
//             t.init = function(t) {
//                 null === t && (t = o);
//                 var e = t.onload || function() {}
//                 ;
//                 t.onload = function() {
//                     var t, n, o = document.getElementsByTagName("img"), a = [];
//                     for (t = 0; t < o.length; t += 1)
//                         n = o[t],
//                         n.getAttributeNode("data-no-retina") || a.push(new i(n));
//                     e()
//                 }
//             }
//             ,
//             t.isRetina = function() {
//                 var t = "(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";
//                 return o.devicePixelRatio > 1 ? !0 : o.matchMedia && o.matchMedia(t).matches ? !0 : !1
//             }
//         ;
//         var s = /\.\w+$/;
//         o.RetinaImagePath = n,
//             n.confirmed_paths = [],
//             n.prototype.is_external = function() {
//                 return !(!this.path.match(/^https?\:/i) || this.path.match("//" + document.domain))
//             }
//             ,
//             n.prototype.check_2x_variant = function(t) {
//                 var e, i = this;
//                 return this.is_external() ? t(!1) : this.perform_check || "undefined" == typeof this.at_2x_path || null === this.at_2x_path ? this.at_2x_path in n.confirmed_paths ? t(!0) : (e = new XMLHttpRequest,
//                     e.open("HEAD", this.at_2x_path),
//                     e.onreadystatechange = function() {
//                         if (4 !== e.readyState)
//                             return t(!1);
//                         if (e.status >= 200 && e.status <= 399) {
//                             if (a.check_mime_type) {
//                                 var o = e.getResponseHeader("Content-Type");
//                                 if (null === o || !o.match(/^image/i))
//                                     return t(!1)
//                             }
//                             return n.confirmed_paths.push(i.at_2x_path),
//                                 t(!0)
//                         }
//                         return t(!1)
//                     }
//                     ,
//                     void e.send()) : t(!0)
//             }
//             ,
//             o.RetinaImage = i,
//             i.prototype.swap = function(t) {
//                 function e() {
//                     n.el.complete ? (a.force_original_dimensions && (n.el.setAttribute("width", n.el.offsetWidth),
//                         n.el.setAttribute("height", n.el.offsetHeight)),
//                         n.el.setAttribute("src", t)) : setTimeout(e, 5)
//                 }
//                 "undefined" == typeof t && (t = this.path.at_2x_path);
//                 var n = this;
//                 e()
//             }
//             ,
//         t.isRetina() && t.init(o)
//     }(),
//     window.Modernizr = function(t, e, n) {
//         function i(t) {
//             m.cssText = t
//         }
//         function o(t, e) {
//             return i(w.join(t + ";") + (e || ""))
//         }
//         function a(t, e) {
//             return typeof t === e
//         }
//         function s(t, e) {
//             return !!~("" + t).indexOf(e)
//         }
//         function r(t, e) {
//             for (var i in t) {
//                 var o = t[i];
//                 if (!s(o, "-") && m[o] !== n)
//                     return "pfx" == e ? o : !0
//             }
//             return !1
//         }
//         function l(t, e, i) {
//             for (var o in t) {
//                 var s = e[t[o]];
//                 if (s !== n)
//                     return i === !1 ? t[o] : a(s, "function") ? s.bind(i || e) : s
//             }
//             return !1
//         }
//         function u(t, e, n) {
//             var i = t.charAt(0).toUpperCase() + t.slice(1)
//                 , o = (t + " " + x.join(i + " ") + i).split(" ");
//             return a(e, "string") || a(e, "undefined") ? r(o, e) : (o = (t + " " + S.join(i + " ") + i).split(" "),
//                 l(o, e, n))
//         }
//         var c = "2.8.3", d = {}, p = !0, h = e.documentElement, f = "modernizr", v = e.createElement(f), m = v.style, g, y = {}.toString, w = " -webkit- -moz- -o- -ms- ".split(" "), b = "Webkit Moz O ms", x = b.split(" "), S = b.toLowerCase().split(" "), C = {
//             svg: "http://www.w3.org/2000/svg"
//         }, _ = {}, M = {}, A = {}, L = [], T = L.slice, P, I = {}.hasOwnProperty, k;
//         k = a(I, "undefined") || a(I.call, "undefined") ? function(t, e) {
//                 return e in t && a(t.constructor.prototype[e], "undefined")
//             }
//             : function(t, e) {
//                 return I.call(t, e)
//             }
//             ,
//         Function.prototype.bind || (Function.prototype.bind = function(t) {
//                 var e = this;
//                 if ("function" != typeof e)
//                     throw new TypeError;
//                 var n = T.call(arguments, 1)
//                     , i = function() {
//                     if (this instanceof i) {
//                         var o = function() {};
//                         o.prototype = e.prototype;
//                         var a = new o
//                             , s = e.apply(a, n.concat(T.call(arguments)));
//                         return Object(s) === s ? s : a
//                     }
//                     return e.apply(t, n.concat(T.call(arguments)))
//                 };
//                 return i
//             }
//         ),
//             _.cssgradients = function() {
//                 var t = "background-image:"
//                     , e = "gradient(linear,left top,right bottom,from(#9f9),to(white));"
//                     , n = "linear-gradient(left top,#9f9, white);";
//                 return i((t + "-webkit- ".split(" ").join(e + t) + w.join(n + t)).slice(0, -t.length)),
//                     s(m.backgroundImage, "gradient")
//             }
//             ,
//             _.csstransforms = function() {
//                 return !!u("transform")
//             }
//             ,
//             _.csstransitions = function() {
//                 return u("transition")
//             }
//             ,
//             _.svg = function() {
//                 return !!e.createElementNS && !!e.createElementNS(C.svg, "svg").createSVGRect
//             }
//             ,
//             _.inlinesvg = function() {
//                 var t = e.createElement("div");
//                 return t.innerHTML = "<svg/>",
//                 (t.firstChild && t.firstChild.namespaceURI) == C.svg
//             }
//             ,
//             _.svgclippaths = function() {
//                 return !!e.createElementNS && /SVGClipPath/.test(y.call(e.createElementNS(C.svg, "clipPath")))
//             }
//         ;
//         for (var E in _)
//             k(_, E) && (P = E.toLowerCase(),
//                 d[P] = _[E](),
//                 L.push((d[P] ? "" : "no-") + P));
//         return d.addTest = function(t, e) {
//             if ("object" == typeof t)
//                 for (var i in t)
//                     k(t, i) && d.addTest(i, t[i]);
//             else {
//                 if (t = t.toLowerCase(),
//                     d[t] !== n)
//                     return d;
//                 e = "function" == typeof e ? e() : e,
//                 "undefined" != typeof p && p && (h.className += " " + (e ? "" : "no-") + t),
//                     d[t] = e
//             }
//             return d
//         }
//             ,
//             i(""),
//             v = g = null,
//             function(t, e) {
//                 function n(t, e) {
//                     var n = t.createElement("p")
//                         , i = t.getElementsByTagName("head")[0] || t.documentElement;
//                     return n.innerHTML = "x<style>" + e + "</style>",
//                         i.insertBefore(n.lastChild, i.firstChild)
//                 }
//                 function i() {
//                     var t = y.elements;
//                     return "string" == typeof t ? t.split(" ") : t
//                 }
//                 function o(t) {
//                     var e = m[t[f]];
//                     return e || (e = {},
//                         v++,
//                         t[f] = v,
//                         m[v] = e),
//                         e
//                 }
//                 function a(t, n, i) {
//                     if (n || (n = e),
//                             g)
//                         return n.createElement(t);
//                     i || (i = o(n));
//                     var a;
//                     return a = i.cache[t] ? i.cache[t].cloneNode() : p.test(t) ? (i.cache[t] = i.createElem(t)).cloneNode() : i.createElem(t),
//                         !a.canHaveChildren || d.test(t) || a.tagUrn ? a : i.frag.appendChild(a)
//                 }
//                 function s(t, n) {
//                     if (t || (t = e),
//                             g)
//                         return t.createDocumentFragment();
//                     n = n || o(t);
//                     for (var a = n.frag.cloneNode(), s = 0, r = i(), l = r.length; l > s; s++)
//                         a.createElement(r[s]);
//                     return a
//                 }
//                 function r(t, e) {
//                     e.cache || (e.cache = {},
//                         e.createElem = t.createElement,
//                         e.createFrag = t.createDocumentFragment,
//                         e.frag = e.createFrag()),
//                         t.createElement = function(n) {
//                             return y.shivMethods ? a(n, t, e) : e.createElem(n)
//                         }
//                         ,
//                         t.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + i().join().replace(/[\w\-]+/g, function(t) {
//                             return e.createElem(t),
//                                 e.frag.createElement(t),
//                             'c("' + t + '")'
//                         }) + ");return n}")(y, e.frag)
//                 }
//                 function l(t) {
//                     t || (t = e);
//                     var i = o(t);
//                     return y.shivCSS && !h && !i.hasCSS && (i.hasCSS = !!n(t, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),
//                     g || r(t, i),
//                         t
//                 }
//                 var u = "3.7.0", c = t.html5 || {}, d = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i, p = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i, h, f = "_html5shiv", v = 0, m = {}, g;
//                 !function() {
//                     try {
//                         var t = e.createElement("a");
//                         t.innerHTML = "<xyz></xyz>",
//                             h = "hidden"in t,
//                             g = 1 == t.childNodes.length || function() {
//                                 e.createElement("a");
//                                 var t = e.createDocumentFragment();
//                                 return "undefined" == typeof t.cloneNode || "undefined" == typeof t.createDocumentFragment || "undefined" == typeof t.createElement
//                             }()
//                     } catch (n) {
//                         h = !0,
//                             g = !0
//                     }
//                 }();
//                 var y = {
//                     elements: c.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
//                     version: u,
//                     shivCSS: c.shivCSS !== !1,
//                     supportsUnknownElements: g,
//                     shivMethods: c.shivMethods !== !1,
//                     type: "default",
//                     shivDocument: l,
//                     createElement: a,
//                     createDocumentFragment: s
//                 };
//                 t.html5 = y,
//                     l(e)
//             }(this, e),
//             d._version = c,
//             d._prefixes = w,
//             d._domPrefixes = S,
//             d._cssomPrefixes = x,
//             d.testProp = function(t) {
//                 return r([t])
//             }
//             ,
//             d.testAllProps = u,
//             h.className = h.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (p ? " js " + L.join(" ") : ""),
//             d
//     }(this, this.document),
//     function(t, e, n) {
//         function i(t) {
//             return "[object Function]" == f.call(t)
//         }
//         function o(t) {
//             return "string" == typeof t
//         }
//         function a() {}
//         function s(t) {
//             return !t || "loaded" == t || "complete" == t || "uninitialized" == t
//         }
//         function r() {
//             var t = v.shift();
//             m = 1,
//                 t ? t.t ? p(function() {
//                     ("c" == t.t ? L.injectCss : L.injectJs)(t.s, 0, t.a, t.x, t.e, 1)
//                 }, 0) : (t(),
//                     r()) : m = 0
//         }
//         function l(t, n, i, o, a, l, u) {
//             function c(e) {
//                 if (!f && s(d.readyState) && (b.r = f = 1,
//                     !m && r(),
//                         d.onload = d.onreadystatechange = null,
//                         e)) {
//                     "img" != t && p(function() {
//                         w.removeChild(d)
//                     }, 50);
//                     for (var i in _[n])
//                         _[n].hasOwnProperty(i) && _[n][i].onload()
//                 }
//             }
//             var u = u || L.errorTimeout
//                 , d = e.createElement(t)
//                 , f = 0
//                 , g = 0
//                 , b = {
//                 t: i,
//                 s: n,
//                 e: a,
//                 a: l,
//                 x: u
//             };
//             1 === _[n] && (g = 1,
//                 _[n] = []),
//                 "object" == t ? d.data = n : (d.src = n,
//                     d.type = t),
//                 d.width = d.height = "0",
//                 d.onerror = d.onload = d.onreadystatechange = function() {
//                     c.call(this, g)
//                 }
//                 ,
//                 v.splice(o, 0, b),
//             "img" != t && (g || 2 === _[n] ? (w.insertBefore(d, y ? null : h),
//                 p(c, u)) : _[n].push(d))
//         }
//         function u(t, e, n, i, a) {
//             return m = 0,
//                 e = e || "j",
//                 o(t) ? l("c" == e ? x : b, t, e, this.i++, n, i, a) : (v.splice(this.i++, 0, t),
//                 1 == v.length && r()),
//                 this
//         }
//         function c() {
//             var t = L;
//             return t.loader = {
//                 load: u,
//                 i: 0
//             },
//                 t
//         }
//         var d = e.documentElement, p = t.setTimeout, h = e.getElementsByTagName("script")[0], f = {}.toString, v = [], m = 0, g = "MozAppearance"in d.style, y = g && !!e.createRange().compareNode, w = y ? d : h.parentNode, d = t.opera && "[object Opera]" == f.call(t.opera), d = !!e.attachEvent && !d, b = g ? "object" : d ? "script" : "img", x = d ? "script" : b, S = Array.isArray || function(t) {
//             return "[object Array]" == f.call(t)
//         }
//             , C = [], _ = {}, M = {
//             timeout: function(t, e) {
//                 return e.length && (t.timeout = e[0]),
//                     t
//             }
//         }, A, L;
//         L = function(t) {
//             function e(t) {
//                 var t = t.split("!"), e = C.length, n = t.pop(), i = t.length, n = {
//                     url: n,
//                     origUrl: n,
//                     prefixes: t
//                 }, o, a, s;
//                 for (a = 0; i > a; a++)
//                     s = t[a].split("="),
//                     (o = M[s.shift()]) && (n = o(n, s));
//                 for (a = 0; e > a; a++)
//                     n = C[a](n);
//                 return n
//             }
//             function s(t, o, a, s, r) {
//                 var l = e(t)
//                     , u = l.autoCallback;
//                 l.url.split(".").pop().split("?").shift(),
//                 l.bypass || (o && (o = i(o) ? o : o[t] || o[s] || o[t.split("/").pop().split("?")[0]]),
//                     l.instead ? l.instead(t, o, a, s, r) : (_[l.url] ? l.noexec = !0 : _[l.url] = 1,
//                         a.load(l.url, l.forceCSS || !l.forceJS && "css" == l.url.split(".").pop().split("?").shift() ? "c" : n, l.noexec, l.attrs, l.timeout),
//                     (i(o) || i(u)) && a.load(function() {
//                         c(),
//                         o && o(l.origUrl, r, s),
//                         u && u(l.origUrl, r, s),
//                             _[l.url] = 2
//                     })))
//             }
//             function r(t, e) {
//                 function n(t, n) {
//                     if (t) {
//                         if (o(t))
//                             n || (u = function() {
//                                     var t = [].slice.call(arguments);
//                                     c.apply(this, t),
//                                         d()
//                                 }
//                             ),
//                                 s(t, u, e, 0, r);
//                         else if (Object(t) === t)
//                             for (h in p = function() {
//                                 var e = 0, n;
//                                 for (n in t)
//                                     t.hasOwnProperty(n) && e++;
//                                 return e
//                             }(),
//                                 t)
//                                 t.hasOwnProperty(h) && (!n && !--p && (i(u) ? u = function() {
//                                         var t = [].slice.call(arguments);
//                                         c.apply(this, t),
//                                             d()
//                                     }
//                                     : u[h] = function(t) {
//                                         return function() {
//                                             var e = [].slice.call(arguments);
//                                             t && t.apply(this, e),
//                                                 d()
//                                         }
//                                     }(c[h])),
//                                     s(t[h], u, e, h, r))
//                     } else
//                         !n && d()
//                 }
//                 var r = !!t.test, l = t.load || t.both, u = t.callback || a, c = u, d = t.complete || a, p, h;
//                 n(r ? t.yep : t.nope, !!l),
//                 l && n(l)
//             }
//             var l, u, d = this.yepnope.loader;
//             if (o(t))
//                 s(t, 0, d, 0);
//             else if (S(t))
//                 for (l = 0; l < t.length; l++)
//                     u = t[l],
//                         o(u) ? s(u, 0, d, 0) : S(u) ? L(u) : Object(u) === u && r(u, d);
//             else
//                 Object(t) === t && r(t, d)
//         }
//             ,
//             L.addPrefix = function(t, e) {
//                 M[t] = e
//             }
//             ,
//             L.addFilter = function(t) {
//                 C.push(t)
//             }
//             ,
//             L.errorTimeout = 1e4,
//         null == e.readyState && e.addEventListener && (e.readyState = "loading",
//             e.addEventListener("DOMContentLoaded", A = function() {
//                     e.removeEventListener("DOMContentLoaded", A, 0),
//                         e.readyState = "complete"
//                 }
//                 , 0)),
//             t.yepnope = c(),
//             t.yepnope.executeStack = r,
//             t.yepnope.injectJs = function(t, n, i, o, l, u) {
//                 var c = e.createElement("script"), d, f, o = o || L.errorTimeout;
//                 c.src = t;
//                 for (f in i)
//                     c.setAttribute(f, i[f]);
//                 n = u ? r : n || a,
//                     c.onreadystatechange = c.onload = function() {
//                         !d && s(c.readyState) && (d = 1,
//                             n(),
//                             c.onload = c.onreadystatechange = null)
//                     }
//                     ,
//                     p(function() {
//                         d || (d = 1,
//                             n(1))
//                     }, o),
//                     l ? c.onload() : h.parentNode.insertBefore(c, h)
//             }
//             ,
//             t.yepnope.injectCss = function(t, n, i, o, s, l) {
//                 var o = e.createElement("link"), u, n = l ? r : n || a;
//                 o.href = t,
//                     o.rel = "stylesheet",
//                     o.type = "text/css";
//                 for (u in i)
//                     o.setAttribute(u, i[u]);
//                 s || (h.parentNode.insertBefore(o, h),
//                     p(n, 0))
//             }
//     }(this, document),
//     Modernizr.load = function() {
//         yepnope.apply(window, [].slice.call(arguments, 0))
//     }
//     ,
//     function() {
//         var t, e, n, i = function(t, e) {
//                 return function() {
//                     return t.apply(e, arguments)
//                 }
//             }, o = [].indexOf || function(t) {
//                 for (var e = 0, n = this.length; n > e; e++)
//                     if (e in this && this[e] === t)
//                         return e;
//                 return -1
//             }
//         ;
//         e = function() {
//             function t() {}
//             return t.prototype.extend = function(t, e) {
//                 var n, i;
//                 for (n in e)
//                     i = e[n],
//                     null == t[n] && (t[n] = i);
//                 return t
//             }
//                 ,
//                 t.prototype.isMobile = function(t) {
//                     return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)
//                 }
//                 ,
//                 t
//         }(),
//             n = this.WeakMap || this.MozWeakMap || (n = function() {
//                 function t() {
//                     this.keys = [],
//                         this.values = []
//                 }
//                 return t.prototype.get = function(t) {
//                     var e, n, i, o, a;
//                     for (a = this.keys,
//                              e = i = 0,
//                              o = a.length; o > i; e = ++i)
//                         if (n = a[e],
//                             n === t)
//                             return this.values[e]
//                 }
//                     ,
//                     t.prototype.set = function(t, e) {
//                         var n, i, o, a, s;
//                         for (s = this.keys,
//                                  n = o = 0,
//                                  a = s.length; a > o; n = ++o)
//                             if (i = s[n],
//                                 i === t)
//                                 return void (this.values[n] = e);
//                         return this.keys.push(t),
//                             this.values.push(e)
//                     }
//                     ,
//                     t
//             }()),
//             t = this.MutationObserver || this.WebkitMutationObserver || this.MozMutationObserver || (t = function() {
//                 function t() {
//                     console.warn("MutationObserver is not supported by your browser."),
//                         console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")
//                 }
//                 return t.notSupported = !0,
//                     t.prototype.observe = function() {}
//                     ,
//                     t
//             }()),
//             this.WOW = function() {
//                 function a(t) {
//                     null == t && (t = {}),
//                         this.scrollCallback = i(this.scrollCallback, this),
//                         this.scrollHandler = i(this.scrollHandler, this),
//                         this.start = i(this.start, this),
//                         this.scrolled = !0,
//                         this.config = this.util().extend(t, this.defaults),
//                         this.animationNameCache = new n
//                 }
//                 return a.prototype.defaults = {
//                     boxClass: "wow",
//                     animateClass: "animated",
//                     offset: 0,
//                     mobile: !0,
//                     live: !0
//                 },
//                     a.prototype.init = function() {
//                         var t;
//                         return this.element = window.document.documentElement,
//                             "interactive" === (t = document.readyState) || "complete" === t ? this.start() : document.addEventListener("DOMContentLoaded", this.start),
//                             this.finished = []
//                     }
//                     ,
//                     a.prototype.start = function() {
//                         var e, n, i, o;
//                         if (this.stopped = !1,
//                                 this.boxes = function() {
//                                     var t, n, i, o;
//                                     for (i = this.element.getElementsByClassName(this.config.boxClass),
//                                              o = [],
//                                              t = 0,
//                                              n = i.length; n > t; t++)
//                                         e = i[t],
//                                             o.push(e);
//                                     return o
//                                 }
//                                     .call(this),
//                                 this.all = function() {
//                                     var t, n, i, o;
//                                     for (i = this.boxes,
//                                              o = [],
//                                              t = 0,
//                                              n = i.length; n > t; t++)
//                                         e = i[t],
//                                             o.push(e);
//                                     return o
//                                 }
//                                     .call(this),
//                                 this.boxes.length)
//                             if (this.disabled())
//                                 this.resetStyle();
//                             else {
//                                 for (o = this.boxes,
//                                          n = 0,
//                                          i = o.length; i > n; n++)
//                                     e = o[n],
//                                         this.applyStyle(e, !0);
//                                 window.addEventListener("scroll", this.scrollHandler, !1),
//                                     window.addEventListener("resize", this.scrollHandler, !1),
//                                     this.interval = setInterval(this.scrollCallback, 50)
//                             }
//                         return this.config.live ? new t(function(t) {
//                             return function(e) {
//                                 var n, i, o, a, s;
//                                 for (s = [],
//                                          o = 0,
//                                          a = e.length; a > o; o++)
//                                     i = e[o],
//                                         s.push(function() {
//                                             var t, e, o, a;
//                                             for (o = i.addedNodes || [],
//                                                      a = [],
//                                                      t = 0,
//                                                      e = o.length; e > t; t++)
//                                                 n = o[t],
//                                                     a.push(this.doSync(n));
//                                             return a
//                                         }
//                                             .call(t));
//                                 return s
//                             }
//                         }(this)).observe(document.body, {
//                             childList: !0,
//                             subtree: !0
//                         }) : void 0
//                     }
//                     ,
//                     a.prototype.stop = function() {
//                         return this.stopped = !0,
//                             window.removeEventListener("scroll", this.scrollHandler, !1),
//                             window.removeEventListener("resize", this.scrollHandler, !1),
//                             null != this.interval ? clearInterval(this.interval) : void 0
//                     }
//                     ,
//                     a.prototype.sync = function() {
//                         return t.notSupported ? this.doSync(this.element) : void 0
//                     }
//                     ,
//                     a.prototype.doSync = function(t) {
//                         var e, n, i, a, s;
//                         if (!this.stopped) {
//                             if (null == t && (t = this.element),
//                                 1 !== t.nodeType)
//                                 return;
//                             for (t = t.parentNode || t,
//                                      a = t.getElementsByClassName(this.config.boxClass),
//                                      s = [],
//                                      n = 0,
//                                      i = a.length; i > n; n++)
//                                 e = a[n],
//                                     o.call(this.all, e) < 0 ? (this.applyStyle(e, !0),
//                                         this.boxes.push(e),
//                                         this.all.push(e),
//                                         s.push(this.scrolled = !0)) : s.push(void 0);
//                             return s
//                         }
//                     }
//                     ,
//                     a.prototype.show = function(t) {
//                         return this.applyStyle(t),
//                             t.className = "" + t.className + " " + this.config.animateClass
//                     }
//                     ,
//                     a.prototype.applyStyle = function(t, e) {
//                         var n, i, o;
//                         return i = t.getAttribute("data-wow-duration"),
//                             n = t.getAttribute("data-wow-delay"),
//                             o = t.getAttribute("data-wow-iteration"),
//                             this.animate(function(a) {
//                                 return function() {
//                                     return a.customStyle(t, e, i, n, o)
//                                 }
//                             }(this))
//                     }
//                     ,
//                     a.prototype.animate = function() {
//                         return "requestAnimationFrame"in window ? function(t) {
//                                 return window.requestAnimationFrame(t)
//                             }
//                             : function(t) {
//                                 return t()
//                             }
//                     }(),
//                     a.prototype.resetStyle = function() {
//                         var t, e, n, i, o;
//                         for (i = this.boxes,
//                                  o = [],
//                                  e = 0,
//                                  n = i.length; n > e; e++)
//                             t = i[e],
//                                 o.push(t.setAttribute("style", "visibility: visible;"));
//                         return o
//                     }
//                     ,
//                     a.prototype.customStyle = function(t, e, n, i, o) {
//                         return e && this.cacheAnimationName(t),
//                             t.style.visibility = e ? "hidden" : "visible",
//                         n && this.vendorSet(t.style, {
//                             animationDuration: n
//                         }),
//                         i && this.vendorSet(t.style, {
//                             animationDelay: i
//                         }),
//                         o && this.vendorSet(t.style, {
//                             animationIterationCount: o
//                         }),
//                             this.vendorSet(t.style, {
//                                 animationName: e ? "none" : this.cachedAnimationName(t)
//                             }),
//                             t
//                     }
//                     ,
//                     a.prototype.vendors = ["moz", "webkit"],
//                     a.prototype.vendorSet = function(t, e) {
//                         var n, i, o, a;
//                         a = [];
//                         for (n in e)
//                             i = e[n],
//                                 t["" + n] = i,
//                                 a.push(function() {
//                                     var e, a, s, r;
//                                     for (s = this.vendors,
//                                              r = [],
//                                              e = 0,
//                                              a = s.length; a > e; e++)
//                                         o = s[e],
//                                             r.push(t["" + o + n.charAt(0).toUpperCase() + n.substr(1)] = i);
//                                     return r
//                                 }
//                                     .call(this));
//                         return a
//                     }
//                     ,
//                     a.prototype.vendorCSS = function(t, e) {
//                         var n, i, o, a, s, r;
//                         for (i = window.getComputedStyle(t),
//                                  n = i.getPropertyCSSValue(e),
//                                  r = this.vendors,
//                                  a = 0,
//                                  s = r.length; s > a; a++)
//                             o = r[a],
//                                 n = n || i.getPropertyCSSValue("-" + o + "-" + e);
//                         return n
//                     }
//                     ,
//                     a.prototype.animationName = function(t) {
//                         var e;
//                         try {
//                             e = this.vendorCSS(t, "animation-name").cssText
//                         } catch (n) {
//                             e = window.getComputedStyle(t).getPropertyValue("animation-name")
//                         }
//                         return "none" === e ? "" : e
//                     }
//                     ,
//                     a.prototype.cacheAnimationName = function(t) {
//                         return this.animationNameCache.set(t, this.animationName(t))
//                     }
//                     ,
//                     a.prototype.cachedAnimationName = function(t) {
//                         return this.animationNameCache.get(t)
//                     }
//                     ,
//                     a.prototype.scrollHandler = function() {
//                         return this.scrolled = !0
//                     }
//                     ,
//                     a.prototype.scrollCallback = function() {
//                         var t;
//                         return !this.scrolled || (this.scrolled = !1,
//                             this.boxes = function() {
//                                 var e, n, i, o;
//                                 for (i = this.boxes,
//                                          o = [],
//                                          e = 0,
//                                          n = i.length; n > e; e++)
//                                     t = i[e],
//                                     t && (this.isVisible(t) ? this.show(t) : o.push(t));
//                                 return o
//                             }
//                                 .call(this),
//                         this.boxes.length || this.config.live) ? void 0 : this.stop()
//                     }
//                     ,
//                     a.prototype.offsetTop = function(t) {
//                         for (var e; void 0 === t.offsetTop; )
//                             t = t.parentNode;
//                         for (e = t.offsetTop; t = t.offsetParent; )
//                             e += t.offsetTop;
//                         return e
//                     }
//                     ,
//                     a.prototype.isVisible = function(t) {
//                         var e, n, i, o, a;
//                         return n = t.getAttribute("data-wow-offset") || this.config.offset,
//                             a = window.pageYOffset,
//                             o = a + Math.min(this.element.clientHeight, innerHeight) - n,
//                             i = this.offsetTop(t),
//                             e = i + t.clientHeight,
//                         o >= i && e >= a
//                     }
//                     ,
//                     a.prototype.util = function() {
//                         return null != this._util ? this._util : this._util = new e
//                     }
//                     ,
//                     a.prototype.disabled = function() {
//                         return !this.config.mobile && this.util().isMobile(navigator.userAgent)
//                     }
//                     ,
//                     a
//             }()
//     }
//         .call(this),
//     function(t, e, n) {
//         "use strict";
//         var i = t.document, o = t.Modernizr, a = function(t) {
//             return t.charAt(0).toUpperCase() + t.slice(1)
//         }, s = "Moz Webkit O Ms".split(" "), r = function(t) {
//             var e = i.documentElement.style, n;
//             if ("string" == typeof e[t])
//                 return t;
//             t = a(t);
//             for (var o = 0, r = s.length; r > o; o++)
//                 if (n = s[o] + t,
//                     "string" == typeof e[n])
//                     return n
//         }, l = r("transform"), u = r("transitionProperty"), c = {
//             csstransforms: function() {
//                 return !!l
//             },
//             csstransforms3d: function() {
//                 var t = !!r("perspective");
//                 if (t) {
//                     var n = " -o- -moz- -ms- -webkit- -khtml- ".split(" ")
//                         , i = "@media (" + n.join("transform-3d),(") + "modernizr)"
//                         , o = e("<style>" + i + "{#modernizr{height:3px}}</style>").appendTo("head")
//                         , a = e('<div id="modernizr" />').appendTo("html");
//                     t = 3 === a.height(),
//                         a.remove(),
//                         o.remove()
//                 }
//                 return t
//             },
//             csstransitions: function() {
//                 return !!u
//             }
//         }, d;
//         if (o)
//             for (d in c)
//                 o.hasOwnProperty(d) || o.addTest(d, c[d]);
//         else {
//             o = t.Modernizr = {
//                 _version: "1.6ish: miniModernizr for Isotope"
//             };
//             var p = " ", h;
//             for (d in c)
//                 h = c[d](),
//                     o[d] = h,
//                     p += " " + (h ? "" : "no-") + d;
//             e("html").addClass(p)
//         }
//         if (o.csstransforms) {
//             var f = o.csstransforms3d ? {
//                 translate: function(t) {
//                     return "translate3d(" + t[0] + "px, " + t[1] + "px, 0) "
//                 },
//                 scale: function(t) {
//                     return "scale3d(" + t + ", " + t + ", 1) "
//                 }
//             } : {
//                 translate: function(t) {
//                     return "translate(" + t[0] + "px, " + t[1] + "px) "
//                 },
//                 scale: function(t) {
//                     return "scale(" + t + ") "
//                 }
//             }
//                 , v = function(t, n, i) {
//                 var o = e.data(t, "isoTransform") || {}, a = {}, s, r = {}, u;
//                 a[n] = i,
//                     e.extend(o, a);
//                 for (s in o)
//                     u = o[s],
//                         r[s] = f[s](u);
//                 var c = r.translate || ""
//                     , d = r.scale || ""
//                     , p = c + d;
//                 e.data(t, "isoTransform", o),
//                     t.style[l] = p
//             };
//             e.cssNumber.scale = !0,
//                 e.cssHooks.scale = {
//                     set: function(t, e) {
//                         v(t, "scale", e)
//                     },
//                     get: function(t, n) {
//                         var i = e.data(t, "isoTransform");
//                         return i && i.scale ? i.scale : 1
//                     }
//                 },
//                 e.fx.step.scale = function(t) {
//                     e.cssHooks.scale.set(t.elem, t.now + t.unit)
//                 }
//                 ,
//                 e.cssNumber.translate = !0,
//                 e.cssHooks.translate = {
//                     set: function(t, e) {
//                         v(t, "translate", e)
//                     },
//                     get: function(t, n) {
//                         var i = e.data(t, "isoTransform");
//                         return i && i.translate ? i.translate : [0, 0]
//                     }
//                 }
//         }
//         var m, g;
//         o.csstransitions && (m = {
//             WebkitTransitionProperty: "webkitTransitionEnd",
//             MozTransitionProperty: "transitionend",
//             OTransitionProperty: "oTransitionEnd otransitionend",
//             transitionProperty: "transitionend"
//         }[u],
//             g = r("transitionDuration"));
//         var y = e.event, w = e.event.handle ? "handle" : "dispatch", b;
//         y.special.smartresize = {
//             setup: function() {
//                 e(this).bind("resize", y.special.smartresize.handler)
//             },
//             teardown: function() {
//                 e(this).unbind("resize", y.special.smartresize.handler)
//             },
//             handler: function(t, e) {
//                 var n = this
//                     , i = arguments;
//                 t.type = "smartresize",
//                 b && clearTimeout(b),
//                     b = setTimeout(function() {
//                         y[w].apply(n, i)
//                     }, "execAsap" === e ? 0 : 100)
//             }
//         },
//             e.fn.smartresize = function(t) {
//                 return t ? this.bind("smartresize", t) : this.trigger("smartresize", ["execAsap"])
//             }
//             ,
//             e.Isotope = function(t, n, i) {
//                 this.element = e(n),
//                     this._create(t),
//                     this._init(i)
//             }
//         ;
//         var x = ["width", "height"]
//             , S = e(t);
//         e.Isotope.settings = {
//             resizable: !0,
//             layoutMode: "masonry",
//             containerClass: "isotope",
//             itemClass: "isotope-item",
//             hiddenClass: "isotope-hidden",
//             hiddenStyle: {
//                 opacity: 0,
//                 scale: .001
//             },
//             visibleStyle: {
//                 opacity: 1,
//                 scale: 1
//             },
//             containerStyle: {
//                 position: "relative",
//                 overflow: "hidden"
//             },
//             animationEngine: "best-available",
//             animationOptions: {
//                 queue: !1,
//                 duration: 800
//             },
//             sortBy: "original-order",
//             sortAscending: !0,
//             resizesContainer: !0,
//             transformsEnabled: !0,
//             itemPositionDataEnabled: !1
//         },
//             e.Isotope.prototype = {
//                 _create: function(t) {
//                     this.options = e.extend({}, e.Isotope.settings, t),
//                         this.styleQueue = [],
//                         this.elemCount = 0;
//                     var n = this.element[0].style;
//                     this.originalStyle = {};
//                     var i = x.slice(0);
//                     for (var o in this.options.containerStyle)
//                         i.push(o);
//                     for (var a = 0, s = i.length; s > a; a++)
//                         o = i[a],
//                             this.originalStyle[o] = n[o] || "";
//                     this.element.css(this.options.containerStyle),
//                         this._updateAnimationEngine(),
//                         this._updateUsingTransforms();
//                     var r = {
//                         "original-order": function(t, e) {
//                             return e.elemCount++,
//                                 e.elemCount
//                         },
//                         random: function() {
//                             return Math.random()
//                         }
//                     };
//                     this.options.getSortData = e.extend(this.options.getSortData, r),
//                         this.reloadItems(),
//                         this.offset = {
//                             left: parseInt(this.element.css("padding-left") || 0, 10),
//                             top: parseInt(this.element.css("padding-top") || 0, 10)
//                         };
//                     var l = this;
//                     setTimeout(function() {
//                         l.element.addClass(l.options.containerClass)
//                     }, 0),
//                     this.options.resizable && S.bind("smartresize.isotope", function() {
//                         l.resize()
//                     }),
//                         this.element.delegate("." + this.options.hiddenClass, "click", function() {
//                             return !1
//                         })
//                 },
//                 _getAtoms: function(t) {
//                     var e = this.options.itemSelector
//                         , n = e ? t.filter(e).add(t.find(e)) : t
//                         , i = {
//                         position: "absolute"
//                     };
//                     return n = n.filter(function(t, e) {
//                         return 1 === e.nodeType
//                     }),
//                     this.usingTransforms && (i.left = 0,
//                         i.top = 0),
//                         n.css(i).addClass(this.options.itemClass),
//                         this.updateSortData(n, !0),
//                         n
//                 },
//                 _init: function(t) {
//                     this.$filteredAtoms = this._filter(this.$allAtoms),
//                         this._sort(),
//                         this.reLayout(t)
//                 },
//                 option: function(t) {
//                     if (e.isPlainObject(t)) {
//                         this.options = e.extend(!0, this.options, t);
//                         var n;
//                         for (var i in t)
//                             n = "_update" + a(i),
//                             this[n] && this[n]()
//                     }
//                 },
//                 _updateAnimationEngine: function() {
//                     var t = this.options.animationEngine.toLowerCase().replace(/[ _\-]/g, ""), e;
//                     switch (t) {
//                         case "css":
//                         case "none":
//                             e = !1;
//                             break;
//                         case "jquery":
//                             e = !0;
//                             break;
//                         default:
//                             e = !o.csstransitions
//                     }
//                     this.isUsingJQueryAnimation = e,
//                         this._updateUsingTransforms()
//                 },
//                 _updateTransformsEnabled: function() {
//                     this._updateUsingTransforms()
//                 },
//                 _updateUsingTransforms: function() {
//                     var t = this.usingTransforms = this.options.transformsEnabled && o.csstransforms && o.csstransitions && !this.isUsingJQueryAnimation;
//                     t || (delete this.options.hiddenStyle.scale,
//                         delete this.options.visibleStyle.scale),
//                         this.getPositionStyles = t ? this._translate : this._positionAbs
//                 },
//                 _filter: function(t) {
//                     var e = "" === this.options.filter ? "*" : this.options.filter;
//                     if (!e)
//                         return t;
//                     var n = this.options.hiddenClass
//                         , i = "." + n
//                         , o = t.filter(i)
//                         , a = o;
//                     if ("*" !== e) {
//                         a = o.filter(e);
//                         var s = t.not(i).not(e).addClass(n);
//                         this.styleQueue.push({
//                             $el: s,
//                             style: this.options.hiddenStyle
//                         })
//                     }
//                     return this.styleQueue.push({
//                         $el: a,
//                         style: this.options.visibleStyle
//                     }),
//                         a.removeClass(n),
//                         t.filter(e)
//                 },
//                 updateSortData: function(t, n) {
//                     var i = this, o = this.options.getSortData, a, s;
//                     t.each(function() {
//                         a = e(this),
//                             s = {};
//                         for (var t in o)
//                             s[t] = n || "original-order" !== t ? o[t](a, i) : e.data(this, "isotope-sort-data")[t];
//                         e.data(this, "isotope-sort-data", s)
//                     })
//                 },
//                 _sort: function() {
//                     var t = this.options.sortBy
//                         , e = this._getSorter
//                         , n = this.options.sortAscending ? 1 : -1
//                         , i = function(i, o) {
//                         var a = e(i, t)
//                             , s = e(o, t);
//                         return a === s && "original-order" !== t && (a = e(i, "original-order"),
//                             s = e(o, "original-order")),
//                         (a > s ? 1 : s > a ? -1 : 0) * n
//                     };
//                     this.$filteredAtoms.sort(i)
//                 },
//                 _getSorter: function(t, n) {
//                     return e.data(t, "isotope-sort-data")[n]
//                 },
//                 _translate: function(t, e) {
//                     return {
//                         translate: [t, e]
//                     }
//                 },
//                 _positionAbs: function(t, e) {
//                     return {
//                         left: t,
//                         top: e
//                     }
//                 },
//                 _pushPosition: function(t, e, n) {
//                     e = Math.round(e + this.offset.left),
//                         n = Math.round(n + this.offset.top);
//                     var i = this.getPositionStyles(e, n);
//                     this.styleQueue.push({
//                         $el: t,
//                         style: i
//                     }),
//                     this.options.itemPositionDataEnabled && t.data("isotope-item-position", {
//                         x: e,
//                         y: n
//                     })
//                 },
//                 layout: function(t, e) {
//                     var n = this.options.layoutMode;
//                     if (this["_" + n + "Layout"](t),
//                             this.options.resizesContainer) {
//                         var i = this["_" + n + "GetContainerSize"]();
//                         this.styleQueue.push({
//                             $el: this.element,
//                             style: i
//                         })
//                     }
//                     this._processStyleQueue(t, e),
//                         this.isLaidOut = !0
//                 },
//                 _processStyleQueue: function(t, n) {
//                     var i = this.isLaidOut && this.isUsingJQueryAnimation ? "animate" : "css", a = this.options.animationOptions, s = this.options.onLayout, r, l, u, c;
//                     if (l = function(t, e) {
//                             e.$el[i](e.style, a)
//                         }
//                             ,
//                         this._isInserting && this.isUsingJQueryAnimation)
//                         l = function(t, e) {
//                             r = e.$el.hasClass("no-transition") ? "css" : i,
//                                 e.$el[r](e.style, a)
//                         }
//                         ;
//                     else if (n || s || a.complete) {
//                         var d = !1
//                             , p = [n, s, a.complete]
//                             , h = this;
//                         if (u = !0,
//                                 c = function() {
//                                     if (!d) {
//                                         for (var e, n = 0, i = p.length; i > n; n++)
//                                             e = p[n],
//                                             "function" == typeof e && e.call(h.element, t, h);
//                                         d = !0
//                                     }
//                                 }
//                                 ,
//                             this.isUsingJQueryAnimation && "animate" === i)
//                             a.complete = c,
//                                 u = !1;
//                         else if (o.csstransitions) {
//                             for (var f = 0, v = this.styleQueue[0], y = v && v.$el, w; !y || !y.length; ) {
//                                 if (w = this.styleQueue[f++],
//                                         !w)
//                                     return;
//                                 y = w.$el
//                             }
//                             var b = parseFloat(getComputedStyle(y[0])[g]);
//                             b > 0 && (l = function(t, e) {
//                                 e.$el[i](e.style, a).one(m, c)
//                             }
//                                 ,
//                                 u = !1)
//                         }
//                     }
//                     e.each(this.styleQueue, l),
//                     u && c(),
//                         this.styleQueue = []
//                 },
//                 resize: function() {
//                     this["_" + this.options.layoutMode + "ResizeChanged"]() && this.reLayout()
//                 },
//                 reLayout: function(t) {
//                     this["_" + this.options.layoutMode + "Reset"](),
//                         this.layout(this.$filteredAtoms, t)
//                 },
//                 addItems: function(t, e) {
//                     var n = this._getAtoms(t);
//                     this.$allAtoms = this.$allAtoms.add(n),
//                     e && e(n)
//                 },
//                 insert: function(t, e) {
//                     this.element.append(t);
//                     var n = this;
//                     this.addItems(t, function(t) {
//                         var i = n._filter(t);
//                         n._addHideAppended(i),
//                             n._sort(),
//                             n.reLayout(),
//                             n._revealAppended(i, e)
//                     })
//                 },
//                 appended: function(t, e) {
//                     var n = this;
//                     this.addItems(t, function(t) {
//                         n._addHideAppended(t),
//                             n.layout(t),
//                             n._revealAppended(t, e)
//                     })
//                 },
//                 _addHideAppended: function(t) {
//                     this.$filteredAtoms = this.$filteredAtoms.add(t),
//                         t.addClass("no-transition"),
//                         this._isInserting = !0,
//                         this.styleQueue.push({
//                             $el: t,
//                             style: this.options.hiddenStyle
//                         })
//                 },
//                 _revealAppended: function(t, e) {
//                     var n = this;
//                     setTimeout(function() {
//                         t.removeClass("no-transition"),
//                             n.styleQueue.push({
//                                 $el: t,
//                                 style: n.options.visibleStyle
//                             }),
//                             n._isInserting = !1,
//                             n._processStyleQueue(t, e)
//                     }, 10)
//                 },
//                 reloadItems: function() {
//                     this.$allAtoms = this._getAtoms(this.element.children())
//                 },
//                 remove: function(t, e) {
//                     this.$allAtoms = this.$allAtoms.not(t),
//                         this.$filteredAtoms = this.$filteredAtoms.not(t);
//                     var n = this
//                         , i = function() {
//                         t.remove(),
//                         e && e.call(n.element)
//                     };
//                     t.filter(":not(." + this.options.hiddenClass + ")").length ? (this.styleQueue.push({
//                         $el: t,
//                         style: this.options.hiddenStyle
//                     }),
//                         this._sort(),
//                         this.reLayout(i)) : i()
//                 },
//                 shuffle: function(t) {
//                     this.updateSortData(this.$allAtoms),
//                         this.options.sortBy = "random",
//                         this._sort(),
//                         this.reLayout(t)
//                 },
//                 destroy: function() {
//                     var t = this.usingTransforms
//                         , e = this.options;
//                     this.$allAtoms.removeClass(e.hiddenClass + " " + e.itemClass).each(function() {
//                         var e = this.style;
//                         e.position = "",
//                             e.top = "",
//                             e.left = "",
//                             e.opacity = "",
//                         t && (e[l] = "")
//                     });
//                     var n = this.element[0].style;
//                     for (var i in this.originalStyle)
//                         n[i] = this.originalStyle[i];
//                     this.element.unbind(".isotope").undelegate("." + e.hiddenClass, "click").removeClass(e.containerClass).removeData("isotope"),
//                         S.unbind(".isotope")
//                 },
//                 _getSegments: function(t) {
//                     var e = this.options.layoutMode, n = t ? "rowHeight" : "columnWidth", i = t ? "height" : "width", o = t ? "rows" : "cols", s = this.element[i](), r, l = this.options[e] && this.options[e][n] || this.$filteredAtoms["outer" + a(i)](!0) || s;
//                     r = Math.floor(s / l),
//                         r = Math.max(r, 1),
//                         this[e][o] = r,
//                         this[e][n] = l
//                 },
//                 _checkIfSegmentsChanged: function(t) {
//                     var e = this.options.layoutMode
//                         , n = t ? "rows" : "cols"
//                         , i = this[e][n];
//                     return this._getSegments(t),
//                     this[e][n] !== i
//                 },
//                 _masonryReset: function() {
//                     this.masonry = {},
//                         this._getSegments();
//                     var t = this.masonry.cols;
//                     for (this.masonry.colYs = []; t--; )
//                         this.masonry.colYs.push(0)
//                 },
//                 _masonryLayout: function(t) {
//                     var n = this
//                         , i = n.masonry;
//                     t.each(function() {
//                         var t = e(this)
//                             , o = Math.ceil(t.outerWidth(!0) / i.columnWidth);
//                         if (o = Math.min(o, i.cols),
//                             1 === o)
//                             n._masonryPlaceBrick(t, i.colYs);
//                         else {
//                             var a = i.cols + 1 - o, s = [], r, l;
//                             for (l = 0; a > l; l++)
//                                 r = i.colYs.slice(l, l + o),
//                                     s[l] = Math.max.apply(Math, r);
//                             n._masonryPlaceBrick(t, s)
//                         }
//                     })
//                 },
//                 _masonryPlaceBrick: function(t, e) {
//                     for (var n = Math.min.apply(Math, e), i = 0, o = 0, a = e.length; a > o; o++)
//                         if (e[o] === n) {
//                             i = o;
//                             break
//                         }
//                     var s = this.masonry.columnWidth * i
//                         , r = n;
//                     this._pushPosition(t, s, r);
//                     var l = n + t.outerHeight(!0)
//                         , u = this.masonry.cols + 1 - a;
//                     for (o = 0; u > o; o++)
//                         this.masonry.colYs[i + o] = l
//                 },
//                 _masonryGetContainerSize: function() {
//                     var t = Math.max.apply(Math, this.masonry.colYs);
//                     return {
//                         height: t
//                     }
//                 },
//                 _masonryResizeChanged: function() {
//                     return this._checkIfSegmentsChanged()
//                 },
//                 _fitRowsReset: function() {
//                     this.fitRows = {
//                         x: 0,
//                         y: 0,
//                         height: 0
//                     }
//                 },
//                 _fitRowsLayout: function(t) {
//                     var n = this
//                         , i = this.element.width()
//                         , o = this.fitRows;
//                     t.each(function() {
//                         var t = e(this)
//                             , a = t.outerWidth(!0)
//                             , s = t.outerHeight(!0);
//                         0 !== o.x && a + o.x > i && (o.x = 0,
//                             o.y = o.height),
//                             n._pushPosition(t, o.x, o.y),
//                             o.height = Math.max(o.y + s, o.height),
//                             o.x += a
//                     })
//                 },
//                 _fitRowsGetContainerSize: function() {
//                     return {
//                         height: this.fitRows.height
//                     }
//                 },
//                 _fitRowsResizeChanged: function() {
//                     return !0
//                 },
//                 _cellsByRowReset: function() {
//                     this.cellsByRow = {
//                         index: 0
//                     },
//                         this._getSegments(),
//                         this._getSegments(!0)
//                 },
//                 _cellsByRowLayout: function(t) {
//                     var n = this
//                         , i = this.cellsByRow;
//                     t.each(function() {
//                         var t = e(this)
//                             , o = i.index % i.cols
//                             , a = Math.floor(i.index / i.cols)
//                             , s = (o + .5) * i.columnWidth - t.outerWidth(!0) / 2
//                             , r = (a + .5) * i.rowHeight - t.outerHeight(!0) / 2;
//                         n._pushPosition(t, s, r),
//                             i.index++
//                     })
//                 },
//                 _cellsByRowGetContainerSize: function() {
//                     return {
//                         height: Math.ceil(this.$filteredAtoms.length / this.cellsByRow.cols) * this.cellsByRow.rowHeight + this.offset.top
//                     }
//                 },
//                 _cellsByRowResizeChanged: function() {
//                     return this._checkIfSegmentsChanged()
//                 },
//                 _straightDownReset: function() {
//                     this.straightDown = {
//                         y: 0
//                     }
//                 },
//                 _straightDownLayout: function(t) {
//                     var n = this;
//                     t.each(function(t) {
//                         var i = e(this);
//                         n._pushPosition(i, 0, n.straightDown.y),
//                             n.straightDown.y += i.outerHeight(!0)
//                     })
//                 },
//                 _straightDownGetContainerSize: function() {
//                     return {
//                         height: this.straightDown.y
//                     }
//                 },
//                 _straightDownResizeChanged: function() {
//                     return !0
//                 },
//                 _masonryHorizontalReset: function() {
//                     this.masonryHorizontal = {},
//                         this._getSegments(!0);
//                     var t = this.masonryHorizontal.rows;
//                     for (this.masonryHorizontal.rowXs = []; t--; )
//                         this.masonryHorizontal.rowXs.push(0)
//                 },
//                 _masonryHorizontalLayout: function(t) {
//                     var n = this
//                         , i = n.masonryHorizontal;
//                     t.each(function() {
//                         var t = e(this)
//                             , o = Math.ceil(t.outerHeight(!0) / i.rowHeight);
//                         if (o = Math.min(o, i.rows),
//                             1 === o)
//                             n._masonryHorizontalPlaceBrick(t, i.rowXs);
//                         else {
//                             var a = i.rows + 1 - o, s = [], r, l;
//                             for (l = 0; a > l; l++)
//                                 r = i.rowXs.slice(l, l + o),
//                                     s[l] = Math.max.apply(Math, r);
//                             n._masonryHorizontalPlaceBrick(t, s)
//                         }
//                     })
//                 },
//                 _masonryHorizontalPlaceBrick: function(t, e) {
//                     for (var n = Math.min.apply(Math, e), i = 0, o = 0, a = e.length; a > o; o++)
//                         if (e[o] === n) {
//                             i = o;
//                             break
//                         }
//                     var s = n
//                         , r = this.masonryHorizontal.rowHeight * i;
//                     this._pushPosition(t, s, r);
//                     var l = n + t.outerWidth(!0)
//                         , u = this.masonryHorizontal.rows + 1 - a;
//                     for (o = 0; u > o; o++)
//                         this.masonryHorizontal.rowXs[i + o] = l
//                 },
//                 _masonryHorizontalGetContainerSize: function() {
//                     var t = Math.max.apply(Math, this.masonryHorizontal.rowXs);
//                     return {
//                         width: t
//                     }
//                 },
//                 _masonryHorizontalResizeChanged: function() {
//                     return this._checkIfSegmentsChanged(!0)
//                 },
//                 _fitColumnsReset: function() {
//                     this.fitColumns = {
//                         x: 0,
//                         y: 0,
//                         width: 0
//                     }
//                 },
//                 _fitColumnsLayout: function(t) {
//                     var n = this
//                         , i = this.element.height()
//                         , o = this.fitColumns;
//                     t.each(function() {
//                         var t = e(this)
//                             , a = t.outerWidth(!0)
//                             , s = t.outerHeight(!0);
//                         0 !== o.y && s + o.y > i && (o.x = o.width,
//                             o.y = 0),
//                             n._pushPosition(t, o.x, o.y),
//                             o.width = Math.max(o.x + a, o.width),
//                             o.y += s
//                     })
//                 },
//                 _fitColumnsGetContainerSize: function() {
//                     return {
//                         width: this.fitColumns.width
//                     }
//                 },
//                 _fitColumnsResizeChanged: function() {
//                     return !0
//                 },
//                 _cellsByColumnReset: function() {
//                     this.cellsByColumn = {
//                         index: 0
//                     },
//                         this._getSegments(),
//                         this._getSegments(!0)
//                 },
//                 _cellsByColumnLayout: function(t) {
//                     var n = this
//                         , i = this.cellsByColumn;
//                     t.each(function() {
//                         var t = e(this)
//                             , o = Math.floor(i.index / i.rows)
//                             , a = i.index % i.rows
//                             , s = (o + .5) * i.columnWidth - t.outerWidth(!0) / 2
//                             , r = (a + .5) * i.rowHeight - t.outerHeight(!0) / 2;
//                         n._pushPosition(t, s, r),
//                             i.index++
//                     })
//                 },
//                 _cellsByColumnGetContainerSize: function() {
//                     return {
//                         width: Math.ceil(this.$filteredAtoms.length / this.cellsByColumn.rows) * this.cellsByColumn.columnWidth
//                     }
//                 },
//                 _cellsByColumnResizeChanged: function() {
//                     return this._checkIfSegmentsChanged(!0)
//                 },
//                 _straightAcrossReset: function() {
//                     this.straightAcross = {
//                         x: 0
//                     }
//                 },
//                 _straightAcrossLayout: function(t) {
//                     var n = this;
//                     t.each(function(t) {
//                         var i = e(this);
//                         n._pushPosition(i, n.straightAcross.x, 0),
//                             n.straightAcross.x += i.outerWidth(!0)
//                     })
//                 },
//                 _straightAcrossGetContainerSize: function() {
//                     return {
//                         width: this.straightAcross.x
//                     }
//                 },
//                 _straightAcrossResizeChanged: function() {
//                     return !0
//                 }
//             },
//             e.fn.imagesLoaded = function(t) {
//                 function n() {
//                     t.call(o, a)
//                 }
//                 function i(t) {
//                     var o = t.target;
//                     o.src !== r && -1 === e.inArray(o, l) && (l.push(o),
//                     --s <= 0 && (setTimeout(n),
//                         a.unbind(".imagesLoaded", i)))
//                 }
//                 var o = this
//                     , a = o.find("img").add(o.filter("img"))
//                     , s = a.length
//                     , r = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
//                     , l = [];
//                 return s || n(),
//                     a.bind("load.imagesLoaded error.imagesLoaded", i).each(function() {
//                         var t = this.src;
//                         this.src = r,
//                             this.src = t
//                     }),
//                     o
//             }
//         ;
//         var C = function(e) {
//             t.console && t.console.error(e)
//         };
//         e.fn.isotope = function(t, n) {
//             if ("string" == typeof t) {
//                 var i = Array.prototype.slice.call(arguments, 1);
//                 this.each(function() {
//                     var n = e.data(this, "isotope");
//                     return n ? e.isFunction(n[t]) && "_" !== t.charAt(0) ? void n[t].apply(n, i) : void C("no such method '" + t + "' for isotope instance") : void C("cannot call methods on isotope prior to initialization; attempted to call method '" + t + "'")
//                 })
//             } else
//                 this.each(function() {
//                     var i = e.data(this, "isotope");
//                     i ? (i.option(t),
//                         i._init(n)) : e.data(this, "isotope", new e.Isotope(t,this,n))
//                 });
//             return this
//         }
//     }(window, jQuery),
//     !function(t, e) {
//         function n(t) {
//             return "object" == typeof t
//         }
//         function i(t) {
//             return "string" == typeof t
//         }
//         function o(t) {
//             return "number" == typeof t
//         }
//         function a(t) {
//             return t === e
//         }
//         function s() {
//             H = google.maps,
//             D || (D = {
//                 verbose: !1,
//                 queryLimit: {
//                     attempt: 5,
//                     delay: 250,
//                     random: 250
//                 },
//                 classes: function() {
//                     var e = {};
//                     return t.each("Map Marker InfoWindow Circle Rectangle OverlayView StreetViewPanorama KmlLayer TrafficLayer BicyclingLayer GroundOverlay StyledMapType ImageMapType".split(" "), function(t, n) {
//                         e[n] = H[n]
//                     }),
//                         e
//                 }(),
//                 map: {
//                     mapTypeId: H.MapTypeId.ROADMAP,
//                     center: [46.578498, 2.457275],
//                     zoom: 2
//                 },
//                 overlay: {
//                     pane: "floatPane",
//                     content: "",
//                     offset: {
//                         x: 0,
//                         y: 0
//                     }
//                 },
//                 geoloc: {
//                     getCurrentPosition: {
//                         maximumAge: 6e4,
//                         timeout: 5e3
//                     }
//                 }
//             })
//         }
//         function r(t, e) {
//             return a(t) ? "gmap3_" + (e ? j + 1 : ++j) : t
//         }
//         function l(t) {
//             var e, n = H.version.split(".");
//             for (t = t.split("."),
//                      e = 0; e < n.length; e++)
//                 n[e] = parseInt(n[e], 10);
//             for (e = 0; e < t.length; e++) {
//                 if (t[e] = parseInt(t[e], 10),
//                         !n.hasOwnProperty(e))
//                     return !1;
//                 if (n[e] < t[e])
//                     return !1
//             }
//             return !0
//         }
//         function u(e, n, i, o, a) {
//             function s(n, o) {
//                 n && t.each(n, function(t, n) {
//                     var s = e
//                         , r = n;
//                     R(n) && (s = n[0],
//                         r = n[1]),
//                         o(i, t, function(t) {
//                             r.apply(s, [a || i, t, l])
//                         })
//                 })
//             }
//             var r = n.td || {}
//                 , l = {
//                 id: o,
//                 data: r.data,
//                 tag: r.tag
//             };
//             s(r.events, H.event.addListener),
//                 s(r.onces, H.event.addListenerOnce)
//         }
//         function c(t) {
//             var e, n = [];
//             for (e in t)
//                 t.hasOwnProperty(e) && n.push(e);
//             return n
//         }
//         function d(t, e) {
//             var n, i = arguments;
//             for (n = 2; n < i.length; n++)
//                 if (e in i[n] && i[n].hasOwnProperty(e))
//                     return void (t[e] = i[n][e])
//         }
//         function p(e, n) {
//             var i, o, a = ["data", "tag", "id", "events", "onces"], s = {};
//             if (e.td)
//                 for (i in e.td)
//                     e.td.hasOwnProperty(i) && "options" !== i && "values" !== i && (s[i] = e.td[i]);
//             for (o = 0; o < a.length; o++)
//                 d(s, a[o], n, e.td);
//             return s.options = t.extend({}, e.opts || {}, n.options || {}),
//                 s
//         }
//         function h() {
//             if (D.verbose) {
//                 var t, e = [];
//                 if (window.console && W(console.error)) {
//                     for (t = 0; t < arguments.length; t++)
//                         e.push(arguments[t]);
//                     console.error.apply(console, e)
//                 } else {
//                     for (e = "",
//                              t = 0; t < arguments.length; t++)
//                         e += arguments[t].toString() + " ";
//                     alert(e)
//                 }
//             }
//         }
//         function f(t) {
//             return (o(t) || i(t)) && "" !== t && !isNaN(t)
//         }
//         function v(t) {
//             var e, i = [];
//             if (!a(t))
//                 if (n(t))
//                     if (o(t.length))
//                         i = t;
//                     else
//                         for (e in t)
//                             i.push(t[e]);
//                 else
//                     i.push(t);
//             return i
//         }
//         function m(e) {
//             return e ? W(e) ? e : (e = v(e),
//                     function(i) {
//                         var o;
//                         if (a(i))
//                             return !1;
//                         if (n(i)) {
//                             for (o = 0; o < i.length; o++)
//                                 if (t.inArray(i[o], e) >= 0)
//                                     return !0;
//                             return !1
//                         }
//                         return t.inArray(i, e) >= 0
//                     }
//             ) : void 0
//         }
//         function g(t, e, n) {
//             var o = e ? t : null;
//             return !t || i(t) ? o : t.latLng ? g(t.latLng) : t instanceof H.LatLng ? t : f(t.lat) ? new H.LatLng(t.lat,t.lng) : !n && R(t) && f(t[0]) && f(t[1]) ? new H.LatLng(t[0],t[1]) : o
//         }
//         function y(t) {
//             var e, n;
//             return !t || t instanceof H.LatLngBounds ? t || null : (R(t) ? 2 === t.length ? (e = g(t[0]),
//                 n = g(t[1])) : 4 === t.length && (e = g([t[0], t[1]]),
//                 n = g([t[2], t[3]])) : "ne"in t && "sw"in t ? (e = g(t.ne),
//                 n = g(t.sw)) : "n"in t && "e"in t && "s"in t && "w"in t && (e = g([t.n, t.e]),
//                 n = g([t.s, t.w])),
//                 e && n ? new H.LatLngBounds(n,e) : null)
//         }
//         function w(t, e, n, o, a) {
//             var s = n ? g(o.td, !1, !0) : !1
//                 , r = s ? {
//                 latLng: s
//             } : o.td.address ? i(o.td.address) ? {
//                 address: o.td.address
//             } : o.td.address : !1
//                 , l = r ? U.get(r) : !1
//                 , u = this;
//             r ? (a = a || 0,
//                 l ? (o.latLng = l.results[0].geometry.location,
//                     o.results = l.results,
//                     o.status = l.status,
//                     e.apply(t, [o])) : (r.location && (r.location = g(r.location)),
//                 r.bounds && (r.bounds = y(r.bounds)),
//                     C().geocode(r, function(i, s) {
//                         s === H.GeocoderStatus.OK ? (U.store(r, {
//                             results: i,
//                             status: s
//                         }),
//                             o.latLng = i[0].geometry.location,
//                             o.results = i,
//                             o.status = s,
//                             e.apply(t, [o])) : s === H.GeocoderStatus.OVER_QUERY_LIMIT && a < D.queryLimit.attempt ? setTimeout(function() {
//                             w.apply(u, [t, e, n, o, a + 1])
//                         }, D.queryLimit.delay + Math.floor(Math.random() * D.queryLimit.random)) : (h("geocode failed", s, r),
//                             o.latLng = o.results = !1,
//                             o.status = s,
//                             e.apply(t, [o]))
//                     }))) : (o.latLng = g(o.td, !1, !0),
//                 e.apply(t, [o]))
//         }
//         function b(e, n, i, o) {
//             function a() {
//                 do
//                     r++;
//                 while (r < e.length && !("address"in e[r]));return r >= e.length ? void i.apply(n, [o]) : void w(s, function(n) {
//                     delete n.td,
//                         t.extend(e[r], n),
//                         a.apply(s, [])
//                 }, !0, {
//                     td: e[r]
//                 })
//             }
//             var s = this
//                 , r = -1;
//             a()
//         }
//         function x(t, e, n) {
//             var i = !1;
//             navigator && navigator.geolocation ? navigator.geolocation.getCurrentPosition(function(o) {
//                 i || (i = !0,
//                     n.latLng = new H.LatLng(o.coords.latitude,o.coords.longitude),
//                     e.apply(t, [n]))
//             }, function() {
//                 i || (i = !0,
//                     n.latLng = !1,
//                     e.apply(t, [n]))
//             }, n.opts.getCurrentPosition) : (n.latLng = !1,
//                 e.apply(t, [n]))
//         }
//         function S(t) {
//             var e, i = !1;
//             if (n(t) && t.hasOwnProperty("get")) {
//                 for (e in t)
//                     if ("get" !== e)
//                         return !1;
//                 i = !t.get.hasOwnProperty("callback")
//             }
//             return i
//         }
//         function C() {
//             return q.geocoder || (q.geocoder = new H.Geocoder),
//                 q.geocoder
//         }
//         function _() {
//             var t = [];
//             this.get = function(e) {
//                 if (t.length) {
//                     var i, o, a, s, r, l = c(e);
//                     for (i = 0; i < t.length; i++) {
//                         for (s = t[i],
//                                  r = l.length === s.keys.length,
//                                  o = 0; o < l.length && r; o++)
//                             a = l[o],
//                                 r = a in s.request,
//                             r && (r = n(e[a]) && "equals"in e[a] && W(e[a]) ? e[a].equals(s.request[a]) : e[a] === s.request[a]);
//                         if (r)
//                             return s.results
//                     }
//                 }
//             }
//                 ,
//                 this.store = function(e, n) {
//                     t.push({
//                         request: e,
//                         keys: c(e),
//                         results: n
//                     })
//                 }
//         }
//         function M() {
//             var t = []
//                 , e = this;
//             e.empty = function() {
//                 return !t.length
//             }
//                 ,
//                 e.add = function(e) {
//                     t.push(e)
//                 }
//                 ,
//                 e.get = function() {
//                     return t.length ? t[0] : !1
//                 }
//                 ,
//                 e.ack = function() {
//                     t.shift()
//                 }
//         }
//         function A() {
//             function e(t) {
//                 return {
//                     id: t.id,
//                     name: t.name,
//                     object: t.obj,
//                     tag: t.tag,
//                     data: t.data
//                 }
//             }
//             function n(t) {
//                 W(t.setMap) && t.setMap(null),
//                 W(t.remove) && t.remove(),
//                 W(t.free) && t.free(),
//                     t = null
//             }
//             var i = {}
//                 , o = {}
//                 , s = this;
//             s.add = function(t, e, n, a) {
//                 var l = t.td || {}
//                     , u = r(l.id);
//                 return i[e] || (i[e] = []),
//                 u in o && s.clearById(u),
//                     o[u] = {
//                         obj: n,
//                         sub: a,
//                         name: e,
//                         id: u,
//                         tag: l.tag,
//                         data: l.data
//                     },
//                     i[e].push(u),
//                     u
//             }
//                 ,
//                 s.getById = function(t, n, i) {
//                     var a = !1;
//                     return t in o && (a = n ? o[t].sub : i ? e(o[t]) : o[t].obj),
//                         a
//                 }
//                 ,
//                 s.get = function(t, n, a, s) {
//                     var r, l, u = m(a);
//                     if (!i[t] || !i[t].length)
//                         return null;
//                     for (r = i[t].length; r; )
//                         if (r--,
//                                 l = i[t][n ? r : i[t].length - r - 1],
//                             l && o[l]) {
//                             if (u && !u(o[l].tag))
//                                 continue;
//                             return s ? e(o[l]) : o[l].obj
//                         }
//                     return null
//                 }
//                 ,
//                 s.all = function(t, n, s) {
//                     var r = []
//                         , l = m(n)
//                         , u = function(t) {
//                         var n, a;
//                         for (n = 0; n < i[t].length; n++)
//                             if (a = i[t][n],
//                                 a && o[a]) {
//                                 if (l && !l(o[a].tag))
//                                     continue;
//                                 r.push(s ? e(o[a]) : o[a].obj)
//                             }
//                     };
//                     if (t in i)
//                         u(t);
//                     else if (a(t))
//                         for (t in i)
//                             u(t);
//                     return r
//                 }
//                 ,
//                 s.rm = function(t, e, n) {
//                     var a, r;
//                     if (!i[t])
//                         return !1;
//                     if (e)
//                         if (n)
//                             for (a = i[t].length - 1; a >= 0 && (r = i[t][a],
//                                 !e(o[r].tag)); a--)
//                                 ;
//                         else
//                             for (a = 0; a < i[t].length && (r = i[t][a],
//                                 !e(o[r].tag)); a++)
//                                 ;
//                     else
//                         a = n ? i[t].length - 1 : 0;
//                     return a in i[t] ? s.clearById(i[t][a], a) : !1
//                 }
//                 ,
//                 s.clearById = function(t, e) {
//                     if (t in o) {
//                         var s, r = o[t].name;
//                         for (s = 0; a(e) && s < i[r].length; s++)
//                             t === i[r][s] && (e = s);
//                         return n(o[t].obj),
//                         o[t].sub && n(o[t].sub),
//                             delete o[t],
//                             i[r].splice(e, 1),
//                             !0
//                     }
//                     return !1
//                 }
//                 ,
//                 s.objGetById = function(t) {
//                     var e, n;
//                     if (i.clusterer)
//                         for (n in i.clusterer)
//                             if ((e = o[i.clusterer[n]].obj.getById(t)) !== !1)
//                                 return e;
//                     return !1
//                 }
//                 ,
//                 s.objClearById = function(t) {
//                     var e;
//                     if (i.clusterer)
//                         for (e in i.clusterer)
//                             if (o[i.clusterer[e]].obj.clearById(t))
//                                 return !0;
//                     return null
//                 }
//                 ,
//                 s.clear = function(t, e, n, o) {
//                     var a, r, l, u = m(o);
//                     if (t && t.length)
//                         t = v(t);
//                     else {
//                         t = [];
//                         for (a in i)
//                             t.push(a)
//                     }
//                     for (r = 0; r < t.length; r++)
//                         if (l = t[r],
//                                 e)
//                             s.rm(l, u, !0);
//                         else if (n)
//                             s.rm(l, u, !1);
//                         else
//                             for (; s.rm(l, u, !1); )
//                                 ;
//                 }
//                 ,
//                 s.objClear = function(e, n, a, s) {
//                     var r;
//                     if (i.clusterer && (t.inArray("marker", e) >= 0 || !e.length))
//                         for (r in i.clusterer)
//                             o[i.clusterer[r]].obj.clear(n, a, s)
//                 }
//         }
//         function L(e, n, o) {
//             function a(t) {
//                 var e = {};
//                 return e[t] = {},
//                     e
//             }
//             function s() {
//                 var t;
//                 for (t in o)
//                     if (o.hasOwnProperty(t) && !l.hasOwnProperty(t))
//                         return t
//             }
//             var r, l = {}, u = this, c = {
//                 latLng: {
//                     map: !1,
//                     marker: !1,
//                     infowindow: !1,
//                     circle: !1,
//                     overlay: !1,
//                     getlatlng: !1,
//                     getmaxzoom: !1,
//                     getelevation: !1,
//                     streetviewpanorama: !1,
//                     getaddress: !0
//                 },
//                 geoloc: {
//                     getgeoloc: !0
//                 }
//             };
//             i(o) && (o = a(o)),
//                 u.run = function() {
//                     for (var i, a; i = s(); ) {
//                         if (W(e[i]))
//                             return r = i,
//                                 a = t.extend(!0, {}, D[i] || {}, o[i].options || {}),
//                                 void (i in c.latLng ? o[i].values ? b(o[i].values, e, e[i], {
//                                     td: o[i],
//                                     opts: a,
//                                     session: l
//                                 }) : w(e, e[i], c.latLng[i], {
//                                     td: o[i],
//                                     opts: a,
//                                     session: l
//                                 }) : i in c.geoloc ? x(e, e[i], {
//                                     td: o[i],
//                                     opts: a,
//                                     session: l
//                                 }) : e[i].apply(e, [{
//                                     td: o[i],
//                                     opts: a,
//                                     session: l
//                                 }]));
//                         l[i] = null
//                     }
//                     n.apply(e, [o, l])
//                 }
//                 ,
//                 u.ack = function(t) {
//                     l[r] = t,
//                         u.run.apply(u, [])
//                 }
//         }
//         function T() {
//             return q.ds || (q.ds = new H.DirectionsService),
//                 q.ds
//         }
//         function P() {
//             return q.dms || (q.dms = new H.DistanceMatrixService),
//                 q.dms
//         }
//         function I() {
//             return q.mzs || (q.mzs = new H.MaxZoomService),
//                 q.mzs
//         }
//         function k() {
//             return q.es || (q.es = new H.ElevationService),
//                 q.es
//         }
//         function E(t) {
//             function e() {
//                 var t = this;
//                 return t.onAdd = function() {}
//                     ,
//                     t.onRemove = function() {}
//                     ,
//                     t.draw = function() {}
//                     ,
//                     D.classes.OverlayView.apply(t, [])
//             }
//             e.prototype = D.classes.OverlayView.prototype;
//             var n = new e;
//             return n.setMap(t),
//                 n
//         }
//         function N(e, i, o) {
//             function a(t) {
//                 N[t] || (delete z[t].options.map,
//                     N[t] = new D.classes.Marker(z[t].options),
//                     u(e, {
//                         td: z[t]
//                     }, N[t], z[t].id))
//             }
//             function s() {
//                 return (y = B.getProjection()) ? (M = !0,
//                     T.push(H.event.addListener(i, "zoom_changed", h)),
//                     T.push(H.event.addListener(i, "bounds_changed", h)),
//                     void v()) : void setTimeout(function() {
//                     s.apply(L, [])
//                 }, 25)
//             }
//             function l(t) {
//                 n(P[t]) ? (W(P[t].obj.setMap) && P[t].obj.setMap(null),
//                 W(P[t].obj.remove) && P[t].obj.remove(),
//                 W(P[t].shadow.remove) && P[t].obj.remove(),
//                 W(P[t].shadow.setMap) && P[t].shadow.setMap(null),
//                     delete P[t].obj,
//                     delete P[t].shadow) : N[t] && N[t].setMap(null),
//                     delete P[t]
//             }
//             function c() {
//                 var t, e, n, i, o, a, s, r, l = Math.cos, u = Math.sin, c = arguments;
//                 return c[0]instanceof H.LatLng ? (t = c[0].lat(),
//                     n = c[0].lng(),
//                     c[1]instanceof H.LatLng ? (e = c[1].lat(),
//                         i = c[1].lng()) : (e = c[1],
//                         i = c[2])) : (t = c[0],
//                     n = c[1],
//                     c[2]instanceof H.LatLng ? (e = c[2].lat(),
//                         i = c[2].lng()) : (e = c[2],
//                         i = c[3])),
//                     o = Math.PI * t / 180,
//                     a = Math.PI * n / 180,
//                     s = Math.PI * e / 180,
//                     r = Math.PI * i / 180,
//                 6371e3 * Math.acos(Math.min(l(o) * l(s) * l(a) * l(r) + l(o) * u(a) * l(s) * u(r) + u(o) * u(s), 1))
//             }
//             function d() {
//                 var t = c(i.getCenter(), i.getBounds().getNorthEast())
//                     , e = new H.Circle({
//                     center: i.getCenter(),
//                     radius: 1.25 * t
//                 });
//                 return e.getBounds()
//             }
//             function p() {
//                 var t, e = {};
//                 for (t in P)
//                     e[t] = !0;
//                 return e
//             }
//             function h() {
//                 clearTimeout(g),
//                     g = setTimeout(v, 25)
//             }
//             function f(t) {
//                 var e = y.fromLatLngToDivPixel(t)
//                     , n = y.fromDivPixelToLatLng(new H.Point(e.x + o.radius,e.y - o.radius))
//                     , i = y.fromDivPixelToLatLng(new H.Point(e.x - o.radius,e.y + o.radius));
//                 return new H.LatLngBounds(i,n)
//             }
//             function v() {
//                 if (!S && !_ && M) {
//                     var e, n, a, s, r, u, c, h, v, m, g, y = !1, x = [], L = {}, T = i.getZoom(), I = "maxZoom"in o && T > o.maxZoom, k = p();
//                     for (C = !1,
//                          T > 3 && (r = d(),
//                              y = r.getSouthWest().lng() < r.getNorthEast().lng()),
//                              e = 0; e < z.length; e++)
//                         !z[e] || y && !r.contains(z[e].options.position) || w && !w(O[e]) || x.push(e);
//                     for (; ; ) {
//                         for (e = 0; L[e] && e < x.length; )
//                             e++;
//                         if (e === x.length)
//                             break;
//                         if (s = [],
//                             A && !I) {
//                             g = 10;
//                             do
//                                 for (h = s,
//                                          s = [],
//                                          g--,
//                                          c = h.length ? r.getCenter() : z[x[e]].options.position,
//                                          r = f(c),
//                                          n = e; n < x.length; n++)
//                                     L[n] || r.contains(z[x[n]].options.position) && s.push(n);
//                             while (h.length < s.length && s.length > 1 && g)
//                         } else
//                             for (n = e; n < x.length; n++)
//                                 if (!L[n]) {
//                                     s.push(n);
//                                     break
//                                 }
//                         for (u = {
//                             indexes: [],
//                             ref: []
//                         },
//                                  v = m = 0,
//                                  a = 0; a < s.length; a++)
//                             L[s[a]] = !0,
//                                 u.indexes.push(x[s[a]]),
//                                 u.ref.push(x[s[a]]),
//                                 v += z[x[s[a]]].options.position.lat(),
//                                 m += z[x[s[a]]].options.position.lng();
//                         v /= s.length,
//                             m /= s.length,
//                             u.latLng = new H.LatLng(v,m),
//                             u.ref = u.ref.join("-"),
//                             u.ref in k ? delete k[u.ref] : (1 === s.length && (P[u.ref] = !0),
//                                 b(u))
//                     }
//                     t.each(k, function(t) {
//                         l(t)
//                     }),
//                         _ = !1
//                 }
//             }
//             var g, y, w, b, x, S = !1, C = !1, _ = !1, M = !1, A = !0, L = this, T = [], P = {}, I = {}, k = {}, N = [], z = [], O = [], B = E(i, o.radius);
//             s(),
//                 L.getById = function(t) {
//                     return t in I ? (a(I[t]),
//                         N[I[t]]) : !1
//                 }
//                 ,
//                 L.rm = function(t) {
//                     var e = I[t];
//                     N[e] && N[e].setMap(null),
//                         delete N[e],
//                         N[e] = !1,
//                         delete z[e],
//                         z[e] = !1,
//                         delete O[e],
//                         O[e] = !1,
//                         delete I[t],
//                         delete k[e],
//                         C = !0
//                 }
//                 ,
//                 L.clearById = function(t) {
//                     return t in I ? (L.rm(t),
//                         !0) : void 0
//                 }
//                 ,
//                 L.clear = function(t, e, n) {
//                     var i, o, a, s, r, l = [], u = m(n);
//                     for (t ? (i = z.length - 1,
//                         o = -1,
//                         a = -1) : (i = 0,
//                         o = z.length,
//                         a = 1),
//                              s = i; s !== o && (!z[s] || u && !u(z[s].tag) || (l.push(k[s]),
//                     !e && !t)); s += a)
//                         ;
//                     for (r = 0; r < l.length; r++)
//                         L.rm(l[r])
//                 }
//                 ,
//                 L.add = function(t, e) {
//                     t.id = r(t.id),
//                         L.clearById(t.id),
//                         I[t.id] = N.length,
//                         k[N.length] = t.id,
//                         N.push(null),
//                         z.push(t),
//                         O.push(e),
//                         C = !0
//                 }
//                 ,
//                 L.addMarker = function(t, n) {
//                     n = n || {},
//                         n.id = r(n.id),
//                         L.clearById(n.id),
//                     n.options || (n.options = {}),
//                         n.options.position = t.getPosition(),
//                         u(e, {
//                             td: n
//                         }, t, n.id),
//                         I[n.id] = N.length,
//                         k[N.length] = n.id,
//                         N.push(t),
//                         z.push(n),
//                         O.push(n.data || {}),
//                         C = !0
//                 }
//                 ,
//                 L.td = function(t) {
//                     return z[t]
//                 }
//                 ,
//                 L.value = function(t) {
//                     return O[t]
//                 }
//                 ,
//                 L.marker = function(t) {
//                     return t in N ? (a(t),
//                         N[t]) : !1
//                 }
//                 ,
//                 L.markerIsSet = function(t) {
//                     return Boolean(N[t])
//                 }
//                 ,
//                 L.setMarker = function(t, e) {
//                     N[t] = e
//                 }
//                 ,
//                 L.store = function(t, e, n) {
//                     P[t.ref] = {
//                         obj: e,
//                         shadow: n
//                     }
//                 }
//                 ,
//                 L.free = function() {
//                     var e;
//                     for (e = 0; e < T.length; e++)
//                         H.event.removeListener(T[e]);
//                     T = [],
//                         t.each(P, function(t) {
//                             l(t)
//                         }),
//                         P = {},
//                         t.each(z, function(t) {
//                             z[t] = null
//                         }),
//                         z = [],
//                         t.each(N, function(t) {
//                             N[t] && (N[t].setMap(null),
//                                 delete N[t])
//                         }),
//                         N = [],
//                         t.each(O, function(t) {
//                             delete O[t]
//                         }),
//                         O = [],
//                         I = {},
//                         k = {}
//                 }
//                 ,
//                 L.filter = function(t) {
//                     w = t,
//                         v()
//                 }
//                 ,
//                 L.enable = function(t) {
//                     A !== t && (A = t,
//                         v())
//                 }
//                 ,
//                 L.display = function(t) {
//                     b = t
//                 }
//                 ,
//                 L.error = function(t) {
//                     x = t
//                 }
//                 ,
//                 L.beginUpdate = function() {
//                     S = !0
//                 }
//                 ,
//                 L.endUpdate = function() {
//                     S = !1,
//                     C && v()
//                 }
//                 ,
//                 L.autofit = function(t) {
//                     var e;
//                     for (e = 0; e < z.length; e++)
//                         z[e] && t.extend(z[e].options.position)
//                 }
//         }
//         function z(t, e) {
//             var n = this;
//             n.id = function() {
//                 return t
//             }
//                 ,
//                 n.filter = function(t) {
//                     e.filter(t)
//                 }
//                 ,
//                 n.enable = function() {
//                     e.enable(!0)
//                 }
//                 ,
//                 n.disable = function() {
//                     e.enable(!1)
//                 }
//                 ,
//                 n.add = function(t, n, i) {
//                     i || e.beginUpdate(),
//                         e.addMarker(t, n),
//                     i || e.endUpdate()
//                 }
//                 ,
//                 n.getById = function(t) {
//                     return e.getById(t)
//                 }
//                 ,
//                 n.clearById = function(t, n) {
//                     var i;
//                     return n || e.beginUpdate(),
//                         i = e.clearById(t),
//                     n || e.endUpdate(),
//                         i
//                 }
//                 ,
//                 n.clear = function(t, n, i, o) {
//                     o || e.beginUpdate(),
//                         e.clear(t, n, i),
//                     o || e.endUpdate()
//                 }
//         }
//         function O(e, n, i, o) {
//             var a = this
//                 , s = [];
//             D.classes.OverlayView.call(a),
//                 a.setMap(e),
//                 a.onAdd = function() {
//                     var e = a.getPanes();
//                     n.pane in e && t(e[n.pane]).append(o),
//                         t.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "), function(e, n) {
//                             s.push(H.event.addDomListener(o[0], n, function(e) {
//                                 t.Event(e).stopPropagation(),
//                                     H.event.trigger(a, n, [e]),
//                                     a.draw()
//                             }))
//                         }),
//                         s.push(H.event.addDomListener(o[0], "contextmenu", function(e) {
//                             t.Event(e).stopPropagation(),
//                                 H.event.trigger(a, "rightclick", [e]),
//                                 a.draw()
//                         }))
//                 }
//                 ,
//                 a.getPosition = function() {
//                     return i
//                 }
//                 ,
//                 a.setPosition = function(t) {
//                     i = t,
//                         a.draw()
//                 }
//                 ,
//                 a.draw = function() {
//                     var t = a.getProjection().fromLatLngToDivPixel(i);
//                     o.css("left", t.x + n.offset.x + "px").css("top", t.y + n.offset.y + "px")
//                 }
//                 ,
//                 a.onRemove = function() {
//                     var t;
//                     for (t = 0; t < s.length; t++)
//                         H.event.removeListener(s[t]);
//                     o.remove()
//                 }
//                 ,
//                 a.hide = function() {
//                     o.hide()
//                 }
//                 ,
//                 a.show = function() {
//                     o.show()
//                 }
//                 ,
//                 a.toggle = function() {
//                     o && (o.is(":visible") ? a.show() : a.hide())
//                 }
//                 ,
//                 a.toggleDOM = function() {
//                     a.setMap(a.getMap() ? null : e)
//                 }
//                 ,
//                 a.getDOMElement = function() {
//                     return o[0]
//                 }
//         }
//         function B(o) {
//             function s() {
//                 !x && (x = C.get()) && x.run()
//             }
//             function c() {
//                 x = null,
//                     C.ack(),
//                     s.call(S)
//             }
//             function d(t) {
//                 var e, n = t.td.callback;
//                 n && (e = Array.prototype.slice.call(arguments, 1),
//                     W(n) ? n.apply(o, e) : R(n) && W(n[1]) && n[1].apply(n[0], e))
//             }
//             function f(t, e, n) {
//                 n && u(o, t, e, n),
//                     d(t, e),
//                     x.ack(e)
//             }
//             function m(e, n) {
//                 n = n || {};
//                 var i = n.td && n.td.options ? n.td.options : 0;
//                 E ? i && (i.center && (i.center = g(i.center)),
//                     E.setOptions(i)) : (i = n.opts || t.extend(!0, {}, D.map, i || {}),
//                     i.center = e || g(i.center),
//                     E = new D.classes.Map(o.get(0),i))
//             }
//             function w(n) {
//                 var i, a, s = new N(o,E,n), r = {}, l = {}, c = [], d = /^[0-9]+$/;
//                 for (a in n)
//                     d.test(a) ? (c.push(1 * a),
//                         l[a] = n[a],
//                         l[a].width = l[a].width || 0,
//                         l[a].height = l[a].height || 0) : r[a] = n[a];
//                 return c.sort(function(t, e) {
//                     return t > e
//                 }),
//                     i = r.calculator ? function(e) {
//                             var n = [];
//                             return t.each(e, function(t, e) {
//                                 n.push(s.value(e))
//                             }),
//                                 r.calculator.apply(o, [n])
//                         }
//                         : function(t) {
//                             return t.length
//                         }
//                     ,
//                     s.error(function() {
//                         h.apply(S, arguments)
//                     }),
//                     s.display(function(a) {
//                         var d, p, h, f, v, m, y = i(a.indexes);
//                         if (n.force || y > 1)
//                             for (d = 0; d < c.length; d++)
//                                 c[d] <= y && (p = l[c[d]]);
//                         p ? (v = p.offset || [-p.width / 2, -p.height / 2],
//                             h = t.extend({}, r),
//                             h.options = t.extend({
//                                 pane: "overlayLayer",
//                                 content: p.content ? p.content.replace("CLUSTER_COUNT", y) : "",
//                                 offset: {
//                                     x: ("x"in v ? v.x : v[0]) || 0,
//                                     y: ("y"in v ? v.y : v[1]) || 0
//                                 }
//                             }, r.options || {}),
//                             f = S.overlay({
//                                 td: h,
//                                 opts: h.options,
//                                 latLng: g(a)
//                             }, !0),
//                             h.options.pane = "floatShadow",
//                             h.options.content = t(document.createElement("div")).width(p.width + "px").height(p.height + "px").css({
//                                 cursor: "pointer"
//                             }),
//                             m = S.overlay({
//                                 td: h,
//                                 opts: h.options,
//                                 latLng: g(a)
//                             }, !0),
//                             r.data = {
//                                 latLng: g(a),
//                                 markers: []
//                             },
//                             t.each(a.indexes, function(t, e) {
//                                 r.data.markers.push(s.value(e)),
//                                 s.markerIsSet(e) && s.marker(e).setMap(null)
//                             }),
//                             u(o, {
//                                 td: r
//                             }, m, e, {
//                                 main: f,
//                                 shadow: m
//                             }),
//                             s.store(a, f, m)) : t.each(a.indexes, function(t, e) {
//                             s.marker(e).setMap(E)
//                         })
//                     }),
//                     s
//             }
//             function b(e, n, i) {
//                 var a = []
//                     , s = "values"in e.td;
//                 return s || (e.td.values = [{
//                     options: e.opts
//                 }]),
//                     e.td.values.length ? (m(),
//                         t.each(e.td.values, function(t, s) {
//                             var r, l, c, d, h = p(e, s);
//                             if (h.options[i])
//                                 if (h.options[i][0][0] && R(h.options[i][0][0]))
//                                     for (l = 0; l < h.options[i].length; l++)
//                                         for (c = 0; c < h.options[i][l].length; c++)
//                                             h.options[i][l][c] = g(h.options[i][l][c]);
//                                 else
//                                     for (l = 0; l < h.options[i].length; l++)
//                                         h.options[i][l] = g(h.options[i][l]);
//                             h.options.map = E,
//                                 d = new H[n](h.options),
//                                 a.push(d),
//                                 r = _.add({
//                                     td: h
//                                 }, n.toLowerCase(), d),
//                                 u(o, {
//                                     td: h
//                                 }, d, r)
//                         }),
//                         void f(e, s ? a : a[0])) : void f(e, !1)
//             }
//             var x, S = this, C = new M, _ = new A, E = null;
//             S._plan = function(t) {
//                 var e;
//                 for (e = 0; e < t.length; e++)
//                     C.add(new L(S,c,t[e]));
//                 s()
//             }
//                 ,
//                 S.map = function(t) {
//                     m(t.latLng, t),
//                         u(o, t, E),
//                         f(t, E)
//                 }
//                 ,
//                 S.destroy = function(t) {
//                     _.clear(),
//                         o.empty(),
//                     E && (E = null),
//                         f(t, !0)
//                 }
//                 ,
//                 S.overlay = function(e, n) {
//                     var i = []
//                         , a = "values"in e.td;
//                     return a || (e.td.values = [{
//                         latLng: e.latLng,
//                         options: e.opts
//                     }]),
//                         e.td.values.length ? (O.__initialised || (O.prototype = new D.classes.OverlayView,
//                             O.__initialised = !0),
//                             t.each(e.td.values, function(a, s) {
//                                 var r, l, c = p(e, s), d = t(document.createElement("div")).css({
//                                     border: "none",
//                                     borderWidth: 0,
//                                     position: "absolute"
//                                 });
//                                 d.append(c.options.content),
//                                     l = new O(E,c.options,g(c) || g(s),d),
//                                     i.push(l),
//                                     d = null,
//                                 n || (r = _.add(e, "overlay", l),
//                                     u(o, {
//                                         td: c
//                                     }, l, r))
//                             }),
//                             n ? i[0] : void f(e, a ? i : i[0])) : void f(e, !1)
//                 }
//                 ,
//                 S.marker = function(e) {
//                     var n, i, a, s = "values"in e.td, l = !E;
//                     return s || (e.opts.position = e.latLng || g(e.opts.position),
//                         e.td.values = [{
//                             options: e.opts
//                         }]),
//                         e.td.values.length ? (l && m(),
//                             e.td.cluster && !E.getBounds() ? void H.event.addListenerOnce(E, "bounds_changed", function() {
//                                 S.marker.apply(S, [e])
//                             }) : void (e.td.cluster ? (e.td.cluster instanceof z ? (i = e.td.cluster,
//                                 a = _.getById(i.id(), !0)) : (a = w(e.td.cluster),
//                                 i = new z(r(e.td.id, !0),a),
//                                 _.add(e, "clusterer", i, a)),
//                                 a.beginUpdate(),
//                                 t.each(e.td.values, function(t, n) {
//                                     var i = p(e, n);
//                                     i.options.position = g(i.options.position ? i.options.position : n),
//                                     i.options.position && (i.options.map = E,
//                                     l && (E.setCenter(i.options.position),
//                                         l = !1),
//                                         a.add(i, n))
//                                 }),
//                                 a.endUpdate(),
//                                 f(e, i)) : (n = [],
//                                 t.each(e.td.values, function(t, i) {
//                                     var a, s, r = p(e, i);
//                                     r.options.position = g(r.options.position ? r.options.position : i),
//                                     r.options.position && (r.options.map = E,
//                                     l && (E.setCenter(r.options.position),
//                                         l = !1),
//                                         s = new D.classes.Marker(r.options),
//                                         n.push(s),
//                                         a = _.add({
//                                             td: r
//                                         }, "marker", s),
//                                         u(o, {
//                                             td: r
//                                         }, s, a))
//                                 }),
//                                 f(e, s ? n : n[0])))) : void f(e, !1)
//                 }
//                 ,
//                 S.getroute = function(t) {
//                     t.opts.origin = g(t.opts.origin, !0),
//                         t.opts.destination = g(t.opts.destination, !0),
//                         T().route(t.opts, function(e, n) {
//                             d(t, n === H.DirectionsStatus.OK ? e : !1, n),
//                                 x.ack()
//                         })
//                 }
//                 ,
//                 S.getdistance = function(t) {
//                     var e;
//                     for (t.opts.origins = v(t.opts.origins),
//                              e = 0; e < t.opts.origins.length; e++)
//                         t.opts.origins[e] = g(t.opts.origins[e], !0);
//                     for (t.opts.destinations = v(t.opts.destinations),
//                              e = 0; e < t.opts.destinations.length; e++)
//                         t.opts.destinations[e] = g(t.opts.destinations[e], !0);
//                     P().getDistanceMatrix(t.opts, function(e, n) {
//                         d(t, n === H.DistanceMatrixStatus.OK ? e : !1, n),
//                             x.ack()
//                     })
//                 }
//                 ,
//                 S.infowindow = function(n) {
//                     var i = []
//                         , s = "values"in n.td;
//                     s || (n.latLng && (n.opts.position = n.latLng),
//                         n.td.values = [{
//                             options: n.opts
//                         }]),
//                         t.each(n.td.values, function(t, r) {
//                             var l, c, d = p(n, r);
//                             d.options.position = g(d.options.position ? d.options.position : r.latLng),
//                             E || m(d.options.position),
//                                 c = new D.classes.InfoWindow(d.options),
//                             c && (a(d.open) || d.open) && (s ? c.open(E, d.anchor || e) : c.open(E, d.anchor || (n.latLng ? e : n.session.marker ? n.session.marker : e))),
//                                 i.push(c),
//                                 l = _.add({
//                                     td: d
//                                 }, "infowindow", c),
//                                 u(o, {
//                                     td: d
//                                 }, c, l)
//                         }),
//                         f(n, s ? i : i[0])
//                 }
//                 ,
//                 S.circle = function(e) {
//                     var n = []
//                         , i = "values"in e.td;
//                     return i || (e.opts.center = e.latLng || g(e.opts.center),
//                         e.td.values = [{
//                             options: e.opts
//                         }]),
//                         e.td.values.length ? (t.each(e.td.values, function(t, i) {
//                             var a, s, r = p(e, i);
//                             r.options.center = g(r.options.center ? r.options.center : i),
//                             E || m(r.options.center),
//                                 r.options.map = E,
//                                 s = new D.classes.Circle(r.options),
//                                 n.push(s),
//                                 a = _.add({
//                                     td: r
//                                 }, "circle", s),
//                                 u(o, {
//                                     td: r
//                                 }, s, a)
//                         }),
//                             void f(e, i ? n : n[0])) : void f(e, !1)
//                 }
//                 ,
//                 S.getaddress = function(t) {
//                     d(t, t.results, t.status),
//                         x.ack()
//                 }
//                 ,
//                 S.getlatlng = function(t) {
//                     d(t, t.results, t.status),
//                         x.ack()
//                 }
//                 ,
//                 S.getmaxzoom = function(t) {
//                     I().getMaxZoomAtLatLng(t.latLng, function(e) {
//                         d(t, e.status === H.MaxZoomStatus.OK ? e.zoom : !1, status),
//                             x.ack()
//                     })
//                 }
//                 ,
//                 S.getelevation = function(t) {
//                     var e, n = [], i = function(e, n) {
//                         d(t, n === H.ElevationStatus.OK ? e : !1, n),
//                             x.ack()
//                     };
//                     if (t.latLng)
//                         n.push(t.latLng);
//                     else
//                         for (n = v(t.td.locations || []),
//                                  e = 0; e < n.length; e++)
//                             n[e] = g(n[e]);
//                     if (n.length)
//                         k().getElevationForLocations({
//                             locations: n
//                         }, i);
//                     else {
//                         if (t.td.path && t.td.path.length)
//                             for (e = 0; e < t.td.path.length; e++)
//                                 n.push(g(t.td.path[e]));
//                         n.length ? k().getElevationAlongPath({
//                             path: n,
//                             samples: t.td.samples
//                         }, i) : x.ack()
//                     }
//                 }
//                 ,
//                 S.defaults = function(e) {
//                     t.each(e.td, function(e, i) {
//                         D[e] = n(D[e]) ? t.extend({}, D[e], i) : i
//                     }),
//                         x.ack(!0)
//                 }
//                 ,
//                 S.rectangle = function(e) {
//                     var n = []
//                         , i = "values"in e.td;
//                     return i || (e.td.values = [{
//                         options: e.opts
//                     }]),
//                         e.td.values.length ? (t.each(e.td.values, function(t, i) {
//                             var a, s, r = p(e, i);
//                             r.options.bounds = y(r.options.bounds ? r.options.bounds : i),
//                             E || m(r.options.bounds.getCenter()),
//                                 r.options.map = E,
//                                 s = new D.classes.Rectangle(r.options),
//                                 n.push(s),
//                                 a = _.add({
//                                     td: r
//                                 }, "rectangle", s),
//                                 u(o, {
//                                     td: r
//                                 }, s, a)
//                         }),
//                             void f(e, i ? n : n[0])) : void f(e, !1)
//                 }
//                 ,
//                 S.polyline = function(t) {
//                     b(t, "Polyline", "path")
//                 }
//                 ,
//                 S.polygon = function(t) {
//                     b(t, "Polygon", "paths")
//                 }
//                 ,
//                 S.trafficlayer = function(t) {
//                     m();
//                     var e = _.get("trafficlayer");
//                     e || (e = new D.classes.TrafficLayer,
//                         e.setMap(E),
//                         _.add(t, "trafficlayer", e)),
//                         f(t, e)
//                 }
//                 ,
//                 S.bicyclinglayer = function(t) {
//                     m();
//                     var e = _.get("bicyclinglayer");
//                     e || (e = new D.classes.BicyclingLayer,
//                         e.setMap(E),
//                         _.add(t, "bicyclinglayer", e)),
//                         f(t, e)
//                 }
//                 ,
//                 S.groundoverlay = function(t) {
//                     t.opts.bounds = y(t.opts.bounds),
//                     t.opts.bounds && m(t.opts.bounds.getCenter());
//                     var e, n = new D.classes.GroundOverlay(t.opts.url,t.opts.bounds,t.opts.opts);
//                     n.setMap(E),
//                         e = _.add(t, "groundoverlay", n),
//                         f(t, n, e)
//                 }
//                 ,
//                 S.streetviewpanorama = function(e) {
//                     e.opts.opts || (e.opts.opts = {}),
//                         e.latLng ? e.opts.opts.position = e.latLng : e.opts.opts.position && (e.opts.opts.position = g(e.opts.opts.position)),
//                         e.td.divId ? e.opts.container = document.getElementById(e.td.divId) : e.opts.container && (e.opts.container = t(e.opts.container).get(0));
//                     var n, i = new D.classes.StreetViewPanorama(e.opts.container,e.opts.opts);
//                     i && E.setStreetView(i),
//                         n = _.add(e, "streetviewpanorama", i),
//                         f(e, i, n)
//                 }
//                 ,
//                 S.kmllayer = function(e) {
//                     var n = []
//                         , i = "values"in e.td;
//                     return i || (e.td.values = [{
//                         options: e.opts
//                     }]),
//                         e.td.values.length ? (t.each(e.td.values, function(t, i) {
//                             var a, s, r, c = p(e, i);
//                             E || m(),
//                                 r = c.options,
//                             c.options.opts && (r = c.options.opts,
//                             c.options.url && (r.url = c.options.url)),
//                                 r.map = E,
//                                 s = l("3.10") ? new D.classes.KmlLayer(r) : new D.classes.KmlLayer(r.url,r),
//                                 n.push(s),
//                                 a = _.add({
//                                     td: c
//                                 }, "kmllayer", s),
//                                 u(o, {
//                                     td: c
//                                 }, s, a)
//                         }),
//                             void f(e, i ? n : n[0])) : void f(e, !1)
//                 }
//                 ,
//                 S.panel = function(e) {
//                     m();
//                     var n, i, s = 0, r = 0, l = t(document.createElement("div"));
//                     l.css({
//                         position: "absolute",
//                         zIndex: 1e3,
//                         visibility: "hidden"
//                     }),
//                     e.opts.content && (i = t(e.opts.content),
//                         l.append(i),
//                         o.first().prepend(l),
//                         a(e.opts.left) ? a(e.opts.right) ? e.opts.center && (s = (o.width() - i.width()) / 2) : s = o.width() - i.width() - e.opts.right : s = e.opts.left,
//                         a(e.opts.top) ? a(e.opts.bottom) ? e.opts.middle && (r = (o.height() - i.height()) / 2) : r = o.height() - i.height() - e.opts.bottom : r = e.opts.top,
//                         l.css({
//                             top: r,
//                             left: s,
//                             visibility: "visible"
//                         })),
//                         n = _.add(e, "panel", l),
//                         f(e, l, n),
//                         l = null
//                 }
//                 ,
//                 S.directionsrenderer = function(e) {
//                     e.opts.map = E;
//                     var n, i = new H.DirectionsRenderer(e.opts);
//                     e.td.divId ? i.setPanel(document.getElementById(e.td.divId)) : e.td.container && i.setPanel(t(e.td.container).get(0)),
//                         n = _.add(e, "directionsrenderer", i),
//                         f(e, i, n)
//                 }
//                 ,
//                 S.getgeoloc = function(t) {
//                     f(t, t.latLng)
//                 }
//                 ,
//                 S.styledmaptype = function(t) {
//                     m();
//                     var e = new D.classes.StyledMapType(t.td.styles,t.opts);
//                     E.mapTypes.set(t.td.id, e),
//                         f(t, e)
//                 }
//                 ,
//                 S.imagemaptype = function(t) {
//                     m();
//                     var e = new D.classes.ImageMapType(t.opts);
//                     E.mapTypes.set(t.td.id, e),
//                         f(t, e)
//                 }
//                 ,
//                 S.autofit = function(e) {
//                     var n = new H.LatLngBounds;
//                     t.each(_.all(), function(t, e) {
//                         e.getPosition ? n.extend(e.getPosition()) : e.getBounds ? (n.extend(e.getBounds().getNorthEast()),
//                             n.extend(e.getBounds().getSouthWest())) : e.getPaths ? e.getPaths().forEach(function(t) {
//                             t.forEach(function(t) {
//                                 n.extend(t)
//                             })
//                         }) : e.getPath ? e.getPath().forEach(function(t) {
//                             n.extend(t)
//                         }) : e.getCenter ? n.extend(e.getCenter()) : "function" == typeof z && e instanceof z && (e = _.getById(e.id(), !0),
//                         e && e.autofit(n))
//                     }),
//                     n.isEmpty() || E.getBounds() && E.getBounds().equals(n) || ("maxZoom"in e.td && H.event.addListenerOnce(E, "bounds_changed", function() {
//                         this.getZoom() > e.td.maxZoom && this.setZoom(e.td.maxZoom)
//                     }),
//                         E.fitBounds(n)),
//                         f(e, !0)
//                 }
//                 ,
//                 S.clear = function(e) {
//                     if (i(e.td)) {
//                         if (_.clearById(e.td) || _.objClearById(e.td))
//                             return void f(e, !0);
//                         e.td = {
//                             name: e.td
//                         }
//                     }
//                     e.td.id ? t.each(v(e.td.id), function(t, e) {
//                         _.clearById(e) || _.objClearById(e)
//                     }) : (_.clear(v(e.td.name), e.td.last, e.td.first, e.td.tag),
//                         _.objClear(v(e.td.name), e.td.last, e.td.first, e.td.tag)),
//                         f(e, !0)
//                 }
//                 ,
//                 S.get = function(n, o, a) {
//                     var s, r, l = o ? n : n.td;
//                     return o || (a = l.full),
//                         i(l) ? (r = _.getById(l, !1, a) || _.objGetById(l),
//                         r === !1 && (s = l,
//                             l = {})) : s = l.name,
//                     "map" === s && (r = E),
//                     r || (r = [],
//                         l.id ? (t.each(v(l.id), function(t, e) {
//                             r.push(_.getById(e, !1, a) || _.objGetById(e))
//                         }),
//                         R(l.id) || (r = r[0])) : (t.each(s ? v(s) : [e], function(e, n) {
//                             var i;
//                             l.first ? (i = _.get(n, !1, l.tag, a),
//                             i && r.push(i)) : l.all ? t.each(_.all(n, l.tag, a), function(t, e) {
//                                 r.push(e)
//                             }) : (i = _.get(n, !0, l.tag, a),
//                             i && r.push(i))
//                         }),
//                         l.all || R(s) || (r = r[0]))),
//                         r = R(r) || !l.all ? r : [r],
//                         o ? r : void f(n, r)
//                 }
//                 ,
//                 S.exec = function(e) {
//                     t.each(v(e.td.func), function(n, i) {
//                         t.each(S.get(e.td, !0, e.td.hasOwnProperty("full") ? e.td.full : !0), function(t, e) {
//                             i.call(o, e)
//                         })
//                     }),
//                         f(e, !0)
//                 }
//                 ,
//                 S.trigger = function(e) {
//                     if (i(e.td))
//                         H.event.trigger(E, e.td);
//                     else {
//                         var n = [E, e.td.eventName];
//                         e.td.var_args && t.each(e.td.var_args, function(t, e) {
//                             n.push(e)
//                         }),
//                             H.event.trigger.apply(H.event, n)
//                     }
//                     d(e),
//                         x.ack()
//                 }
//         }
//         var D, H, j = 0, W = t.isFunction, R = t.isArray, q = {}, U = new _;
//         t.fn.gmap3 = function() {
//             var e, n = [], i = !0, o = [];
//             for (s(),
//                      e = 0; e < arguments.length; e++)
//                 arguments[e] && n.push(arguments[e]);
//             return n.length || n.push("map"),
//                 t.each(this, function() {
//                     var e = t(this)
//                         , a = e.data("gmap3");
//                     i = !1,
//                     a || (a = new B(e),
//                         e.data("gmap3", a)),
//                         1 !== n.length || "get" !== n[0] && !S(n[0]) ? a._plan(n) : o.push("get" === n[0] ? a.get("map", !0) : a.get(n[0].get, !0, n[0].get.full))
//                 }),
//                 o.length ? 1 === o.length ? o[0] : o : this
//         }
//     }(jQuery);

$(document).ready(function(){
    $('#about-tabs a').click(function(){
        var v=$(this).text();
       $('.about .title').text(v);
    });
    $('#studentspage-tabs a').click(function(){
        var v=$(this).text();
       $('.uk-switcher #title').text(v);
    });

    $('.mnsry_container').masonry({
        // options
        itemSelector: '.item',
        columnWidth: 200

    });

});

$('.circle').circleProgress({
    size:100,
    fill: {
        color: '#38b449'
    }
})

// (function ($, document, window) {
//
//     $(document).ready(function () {
//
//         var $container = $('.ourproject .filterable-items');
//
//         $container.imagesLoaded(function () {
//             $container.isotope({
//                 filter: '*',
//                 layoutMode: 'fitRows',
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//
//         });
//         $('.filterable-nav a').click(function (e) {
//             e.preventDefault();
//             $('.filterable-nav .current').removeClass('current');
//             $(this).addClass('current');
//             var selector = $(this).attr('data-filter');
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//         $('.mobile-filter').change(function () {
//
//             var selector = $(this).val();
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//
//
//         new WOW().init();
//     });
//
//     //faculty
//     $(document).ready(function () {
//
//         var $container = $('.faculty .filterable-items');
//
//         $container.imagesLoaded(function () {
//             $container.isotope({
//                 filter: '.biotechnology',
//                 layoutMode: 'fitRows',
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//
//         });
//         $('.filterable-nav a').click(function (e) {
//             e.preventDefault();
//             $('.filterable-nav .bg-gold').removeClass('bg-gold');
//             $(this).addClass('bg-gold');
//
//             var selector = $(this).attr('data-filter');
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//         $('.mobile-filter').change(function () {
//
//             var selector = $(this).val();
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//
//
//         new WOW().init();
//     });
//     //collegelife
//     $(document).ready(function () {
//
//         var $container = $('.collegelife .filterable-items');
//
//         $container.imagesLoaded(function () {
//             $container.isotope({
//                 filter: '.collegelife',
//                 layoutMode: 'fitRows',
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//
//         });
//         $('.filterable-nav a').click(function (e) {
//             e.preventDefault();
//             $('.filterable-nav .bg-gold').removeClass('bg-gold');
//             $(this).addClass('bg-gold');
//
//             var selector = $(this).attr('data-filter');
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//         $('.mobile-filter').change(function () {
//
//             var selector = $(this).val();
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//
//
//         new WOW().init();
//     });
//     //gallery
//     $(document).ready(function () {
//
//         var $container = $('.gallery .filterable-items');
//
//         $container.imagesLoaded(function () {
//             $container.isotope({
//                 filter: '*',
//                 layoutMode: 'fitRows',
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//
//         });
//         $('.filterable-nav a').click(function (e) {
//             e.preventDefault();
//             $('.filterable-nav .bg-gold').removeClass('bg-gold');
//             $(this).addClass('bg-gold');
//
//             var selector = $(this).attr('data-filter');
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//         $('.mobile-filter').change(function () {
//
//             var selector = $(this).val();
//             $container.isotope({
//                 filter: selector,
//                 animationOptions: {
//                     duration: 750,
//                     easing: 'linear',
//                     queue: false
//                 }
//             });
//             return false;
//         });
//
//
//         new WOW().init();
//     });
//     $(window).ready(function () {
//
//     });
//
// })(jQuery, document, window);
//
//
// $(document).ready(function () {
//     $('.nav--lists a').on('click', function () {
//         $('.nav--lists a').removeClass('active');
//         $(this).addClass('active');
//     });
// });
//
$(document).ready( function() {

    $('.grid').isotope({
        itemSelector: '.grid-item'
    });

// filter items on button click
    $('.filter-button-group').on( 'click', 'li', function() {
        var filterValue = $(this).attr('data-filter');
        $('.grid').isotope({ filter: filterValue });
        $('.filter-button-group li').removeClass('active');
        $(this).addClass('active');
    });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvbGRlci9vd2wtcGx1Z2luLmpzIiwiZm9sZGVyL3BsdWcuanMiLCJmb2xkZXIvc2NyaXB0LmpzIiwiZm9sZGVyL3dvdy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3h6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgICQoJy5iYW5uZXItLWxlZnQnKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDpmYWxzZSxcclxuICAgICAgICBtYXJnaW46MCxcclxuICAgICAgICBuYXY6dHJ1ZSxcclxuICAgICAgICBpdGVtczoxLFxyXG4gICAgICAgIGF1dG9wbGF5OnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDoxMDAwLFxyXG4gICAgICAgIGRvdHM6dHJ1ZSxcclxuICAgICAgICBuYXZUZXh0IDogW1wiPGkgY2xhc3M9J2ZhcyBmYS1hbmdsZS1sZWZ0IGZhLTJ4Jz48L2k+XCIsXCI8aSBjbGFzcz0nZmFzIGZhLWFuZ2xlLXJpZ2h0IGZhLTJ4Jz48L2k+XCJdLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgICAgICAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnLmNsaWVudHNheS1vd2wnKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG1hcmdpbjoyMCxcclxuICAgICAgICBuYXY6dHJ1ZSxcclxuICAgICAgICBpdGVtczoxLFxyXG4gICAgICAgIGF1dG9wbGF5OnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDoxMDAwLFxyXG4gICAgICAgIGRvdHM6dHJ1ZSxcclxuICAgICAgICBuYXZUZXh0IDogW1wiPGkgY2xhc3M9J2ZhcyBmYS1hbmdsZS1sZWZ0IGZhLTJ4Jz48L2k+XCIsXCI8aSBjbGFzcz0nZmFzIGZhLWFuZ2xlLXJpZ2h0IGZhLTJ4Jz48L2k+XCJdLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgICAgICAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgJCgnLm93bC1jYXJvdXNlbCcpLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgLy8gbWFyZ2luOjEwLFxyXG4gICAgICAgIG5hdjp0cnVlLFxyXG4gICAgICAgIGl0ZW1zOjQsXHJcbiAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXk6ZmFsc2UsXHJcbiAgICAgICAgc21hcnRTcGVlZDoxMDAwLFxyXG4gICAgICAgIG5hdlRleHQgOiBbXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1sZWZ0IGZhLTF4Jz48L2k+XCIsXCI8aSBjbGFzcz0nZmEgZmEtY2hldnJvbi1yaWdodCBmYS0xeCc+PC9pPlwiXSxcclxuICAgICAgICBkb3RzOnRydWUsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgICAgIDA6e1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6MVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA0MDA6e1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6MlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA2MDA6e1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6M1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG4vLyBsb2FkZXJcclxuLy8gJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKSAge1xyXG4vL1xyXG4vLyAgICAgLy8gRmFrZXMgdGhlIGxvYWRpbmcgc2V0dGluZyBhIHRpbWVvdXRcclxuLy8gICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdsb2FkZWQnKTtcclxuLy8gICAgIH0sIDI1MDApO1xyXG4vL1xyXG4vLyB9KTsiLCIvLyAhZnVuY3Rpb24odCkge1xyXG4vLyAgICAgdC5mbGV4c2xpZGVyID0gZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgIHZhciBpID0gdChlKTtcclxuLy8gICAgICAgICBpLnZhcnMgPSB0LmV4dGVuZCh7fSwgdC5mbGV4c2xpZGVyLmRlZmF1bHRzLCBuKTtcclxuLy8gICAgICAgICB2YXIgbywgYSA9IGkudmFycy5uYW1lc3BhY2UsIHMgPSB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCAmJiB3aW5kb3cuTVNHZXN0dXJlLCByID0gKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cgfHwgcyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpICYmIGkudmFycy50b3VjaCwgbCA9IFwiY2xpY2sgdG91Y2hlbmQgTVNQb2ludGVyVXBcIiwgdSA9IFwiXCIsIGMgPSBcInZlcnRpY2FsXCIgPT09IGkudmFycy5kaXJlY3Rpb24sIGQgPSBpLnZhcnMucmV2ZXJzZSwgcCA9IGkudmFycy5pdGVtV2lkdGggPiAwLCBoID0gXCJmYWRlXCIgPT09IGkudmFycy5hbmltYXRpb24sIGYgPSBcIlwiICE9PSBpLnZhcnMuYXNOYXZGb3IsIHYgPSB7fSwgbSA9ICEwO1xyXG4vLyAgICAgICAgIHQuZGF0YShlLCBcImZsZXhzbGlkZXJcIiwgaSksXHJcbi8vICAgICAgICAgICAgIHYgPSB7XHJcbi8vICAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLmFuaW1hdGluZyA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmN1cnJlbnRTbGlkZSA9IHBhcnNlSW50KGkudmFycy5zdGFydEF0ID8gaS52YXJzLnN0YXJ0QXQgOiAwLCAxMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaXNOYU4oaS5jdXJyZW50U2xpZGUpICYmIChpLmN1cnJlbnRTbGlkZSA9IDApLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmFuaW1hdGluZ1RvID0gaS5jdXJyZW50U2xpZGUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuYXRFbmQgPSAwID09PSBpLmN1cnJlbnRTbGlkZSB8fCBpLmN1cnJlbnRTbGlkZSA9PT0gaS5sYXN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbnRhaW5lclNlbGVjdG9yID0gaS52YXJzLnNlbGVjdG9yLnN1YnN0cigwLCBpLnZhcnMuc2VsZWN0b3Iuc2VhcmNoKFwiIFwiKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2xpZGVzID0gdChpLnZhcnMuc2VsZWN0b3IsIGkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbnRhaW5lciA9IHQoaS5jb250YWluZXJTZWxlY3RvciwgaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuY291bnQgPSBpLnNsaWRlcy5sZW5ndGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3luY0V4aXN0cyA9IHQoaS52YXJzLnN5bmMpLmxlbmd0aCA+IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJzbGlkZVwiID09PSBpLnZhcnMuYW5pbWF0aW9uICYmIChpLnZhcnMuYW5pbWF0aW9uID0gXCJzd2luZ1wiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5wcm9wID0gYyA/IFwidG9wXCIgOiBcIm1hcmdpbkxlZnRcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5hcmdzID0ge30sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkubWFudWFsUGF1c2UgPSAhMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5zdG9wcGVkID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3RhcnRlZCA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLnN0YXJ0VGltZW91dCA9IG51bGwsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkudHJhbnNpdGlvbnMgPSAhaS52YXJzLnZpZGVvICYmICFoICYmIGkudmFycy51c2VDU1MgJiYgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFtcInBlcnNwZWN0aXZlUHJvcGVydHlcIiwgXCJXZWJraXRQZXJzcGVjdGl2ZVwiLCBcIk1velBlcnNwZWN0aXZlXCIsIFwiT1BlcnNwZWN0aXZlXCIsIFwibXNQZXJzcGVjdGl2ZVwiXTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gaW4gZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSB0LnN0eWxlW2Vbbl1dKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5wZnggPSBlW25dLnJlcGxhY2UoXCJQZXJzcGVjdGl2ZVwiLCBcIlwiKS50b0xvd2VyQ2FzZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wcm9wID0gXCItXCIgKyBpLnBmeCArIFwiLXRyYW5zZm9ybVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgITA7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5lbnN1cmVBbmltYXRpb25FbmQgPSBcIlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IGkudmFycy5jb250cm9sc0NvbnRhaW5lciAmJiAoaS5jb250cm9sc0NvbnRhaW5lciA9IHQoaS52YXJzLmNvbnRyb2xzQ29udGFpbmVyKS5sZW5ndGggPiAwICYmIHQoaS52YXJzLmNvbnRyb2xzQ29udGFpbmVyKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gaS52YXJzLm1hbnVhbENvbnRyb2xzICYmIChpLm1hbnVhbENvbnRyb2xzID0gdChpLnZhcnMubWFudWFsQ29udHJvbHMpLmxlbmd0aCA+IDAgJiYgdChpLnZhcnMubWFudWFsQ29udHJvbHMpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnZhcnMucmFuZG9taXplICYmIChpLnNsaWRlcy5zb3J0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSAtIDAuNTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQoaS5zbGlkZXMpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5kb01hdGgoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXR1cChcImluaXRcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS52YXJzLmNvbnRyb2xOYXYgJiYgdi5jb250cm9sTmF2LnNldHVwKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS52YXJzLmRpcmVjdGlvbk5hdiAmJiB2LmRpcmVjdGlvbk5hdi5zZXR1cCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5rZXlib2FyZCAmJiAoMSA9PT0gdChpLmNvbnRhaW5lclNlbGVjdG9yKS5sZW5ndGggfHwgaS52YXJzLm11bHRpcGxlS2V5Ym9hcmQpICYmIHQoZG9jdW1lbnQpLmJpbmQoXCJrZXl1cFwiLCBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gdC5rZXlDb2RlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWkuYW5pbWF0aW5nICYmICgzOSA9PT0gZSB8fCAzNyA9PT0gZSkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gMzkgPT09IGUgPyBpLmdldFRhcmdldChcIm5leHRcIikgOiAzNyA9PT0gZSA/IGkuZ2V0VGFyZ2V0KFwicHJldlwiKSA6ICExO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5mbGV4QW5pbWF0ZShuLCBpLnZhcnMucGF1c2VPbkFjdGlvbik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnZhcnMubW91c2V3aGVlbCAmJiBpLmJpbmQoXCJtb3VzZXdoZWVsXCIsIGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGkuZ2V0VGFyZ2V0KDAgPiBlID8gXCJuZXh0XCIgOiBcInByZXZcIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxleEFuaW1hdGUobiwgaS52YXJzLnBhdXNlT25BY3Rpb24pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5wYXVzZVBsYXkgJiYgdi5wYXVzZVBsYXkuc2V0dXAoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnZhcnMuc2xpZGVzaG93ICYmIGkudmFycy5wYXVzZUludmlzaWJsZSAmJiB2LnBhdXNlSW52aXNpYmxlLmluaXQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnZhcnMuc2xpZGVzaG93ICYmIChpLnZhcnMucGF1c2VPbkhvdmVyICYmIGkuaG92ZXIoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkubWFudWFsUGxheSB8fCBpLm1hbnVhbFBhdXNlIHx8IGkucGF1c2UoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5tYW51YWxQYXVzZSB8fCBpLm1hbnVhbFBsYXkgfHwgaS5zdG9wcGVkIHx8IGkucGxheSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5wYXVzZUludmlzaWJsZSAmJiB2LnBhdXNlSW52aXNpYmxlLmlzSGlkZGVuKCkgfHwgKGkudmFycy5pbml0RGVsYXkgPiAwID8gaS5zdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KGkucGxheSwgaS52YXJzLmluaXREZWxheSkgOiBpLnBsYXkoKSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGYgJiYgdi5hc05hdi5zZXR1cCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHIgJiYgaS52YXJzLnRvdWNoICYmIHYudG91Y2goKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAoIWggfHwgaCAmJiBpLnZhcnMuc21vb3RoSGVpZ2h0KSAmJiB0KHdpbmRvdykuYmluZChcInJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBmb2N1c1wiLCB2LnJlc2l6ZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmluZChcImltZ1wiKS5hdHRyKFwiZHJhZ2dhYmxlXCIsIFwiZmFsc2VcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnZhcnMuc3RhcnQoaSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgYXNOYXY6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuYXNOYXYgPSAhMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuYW5pbWF0aW5nVG8gPSBNYXRoLmZsb29yKGkuY3VycmVudFNsaWRlIC8gaS5tb3ZlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3VycmVudEl0ZW0gPSBpLmN1cnJlbnRTbGlkZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2xpZGVzLnJlbW92ZUNsYXNzKGEgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcShpLmN1cnJlbnRJdGVtKS5hZGRDbGFzcyhhICsgXCJhY3RpdmUtc2xpZGVcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID8gKGUuX3NsaWRlciA9IGksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zbGlkZXMuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLl9nZXN0dXJlID0gbmV3IE1TR2VzdHVyZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuX2dlc3R1cmUudGFyZ2V0ID0gZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckRvd25cIiwgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucHJldmVudERlZmF1bHQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmN1cnJlbnRUYXJnZXQuX2dlc3R1cmUgJiYgdC5jdXJyZW50VGFyZ2V0Ll9nZXN0dXJlLmFkZFBvaW50ZXIodC5wb2ludGVySWQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlVGFwXCIsIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0KHRoaXMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gbi5pbmRleCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQoaS52YXJzLmFzTmF2Rm9yKS5kYXRhKFwiZmxleHNsaWRlclwiKS5hbmltYXRpbmcgfHwgbi5oYXNDbGFzcyhcImFjdGl2ZVwiKSB8fCAoaS5kaXJlY3Rpb24gPSBpLmN1cnJlbnRJdGVtIDwgbyA/IFwibmV4dFwiIDogXCJwcmV2XCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxleEFuaW1hdGUobywgaS52YXJzLnBhdXNlT25BY3Rpb24sICExLCAhMCwgITApKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSA6IGkuc2xpZGVzLm9uKGwsIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0KHRoaXMpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IG4uaW5kZXgoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHMgPSBuLm9mZnNldCgpLmxlZnQgLSB0KGkpLnNjcm9sbExlZnQoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwID49IHMgJiYgbi5oYXNDbGFzcyhhICsgXCJhY3RpdmUtc2xpZGVcIikgPyBpLmZsZXhBbmltYXRlKGkuZ2V0VGFyZ2V0KFwicHJldlwiKSwgITApIDogdChpLnZhcnMuYXNOYXZGb3IpLmRhdGEoXCJmbGV4c2xpZGVyXCIpLmFuaW1hdGluZyB8fCBuLmhhc0NsYXNzKGEgKyBcImFjdGl2ZS1zbGlkZVwiKSB8fCAoaS5kaXJlY3Rpb24gPSBpLmN1cnJlbnRJdGVtIDwgbyA/IFwibmV4dFwiIDogXCJwcmV2XCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxleEFuaW1hdGUobywgaS52YXJzLnBhdXNlT25BY3Rpb24sICExLCAhMCwgITApKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgY29udHJvbE5hdjoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5tYW51YWxDb250cm9scyA/IHYuY29udHJvbE5hdi5zZXR1cE1hbnVhbCgpIDogdi5jb250cm9sTmF2LnNldHVwUGFnaW5nKClcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNldHVwUGFnaW5nOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUsIG4sIG8gPSBcInRodW1ibmFpbHNcIiA9PT0gaS52YXJzLmNvbnRyb2xOYXYgPyBcImNvbnRyb2wtdGh1bWJzXCIgOiBcImNvbnRyb2wtcGFnaW5nXCIsIHMgPSAxO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5jb250cm9sTmF2U2NhZmZvbGQgPSB0KCc8b2wgY2xhc3M9XCInICsgYSArIFwiY29udHJvbC1uYXYgXCIgKyBhICsgbyArICdcIj48L29sPicpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wYWdpbmdDb3VudCA+IDEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IGkucGFnaW5nQ291bnQ7IHIrKykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID0gaS5zbGlkZXMuZXEociksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJ0aHVtYm5haWxzXCIgPT09IGkudmFycy5jb250cm9sTmF2ID8gJzxpbWcgc3JjPVwiJyArIG4uYXR0cihcImRhdGEtdGh1bWJcIikgKyAnXCIvPicgOiBcIjxhPlwiICsgcyArIFwiPC9hPlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRodW1ibmFpbHNcIiA9PT0gaS52YXJzLmNvbnRyb2xOYXYgJiYgITAgPT09IGkudmFycy50aHVtYkNhcHRpb25zKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gbi5hdHRyKFwiZGF0YS10aHVtYmNhcHRpb25cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT0gYyAmJiB2b2lkIDAgIT0gYyAmJiAoZSArPSAnPHNwYW4gY2xhc3M9XCInICsgYSArICdjYXB0aW9uXCI+JyArIGMgKyBcIjwvc3Bhbj5cIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKFwiPGxpPlwiICsgZSArIFwiPC9saT5cIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMrK1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbnRyb2xzQ29udGFpbmVyID8gdChpLmNvbnRyb2xzQ29udGFpbmVyKS5hcHBlbmQoaS5jb250cm9sTmF2U2NhZmZvbGQpIDogaS5hcHBlbmQoaS5jb250cm9sTmF2U2NhZmZvbGQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5jb250cm9sTmF2LnNldCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5jb250cm9sTmF2LmFjdGl2ZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250cm9sTmF2U2NhZmZvbGQuZGVsZWdhdGUoXCJhLCBpbWdcIiwgbCwgZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgPT09IHUgfHwgdSA9PT0gZS50eXBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdCh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gaS5jb250cm9sTmF2LmluZGV4KG4pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLmhhc0NsYXNzKGEgKyBcImFjdGl2ZVwiKSB8fCAoaS5kaXJlY3Rpb24gPSBvID4gaS5jdXJyZW50U2xpZGUgPyBcIm5leHRcIiA6IFwicHJldlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5mbGV4QW5pbWF0ZShvLCBpLnZhcnMucGF1c2VPbkFjdGlvbikpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgPT09IHUgJiYgKHUgPSBlLnR5cGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LnNldFRvQ2xlYXJXYXRjaGVkRXZlbnQoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNldHVwTWFudWFsOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250cm9sTmF2ID0gaS5tYW51YWxDb250cm9scyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuY29udHJvbE5hdi5hY3RpdmUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY29udHJvbE5hdi5iaW5kKGwsIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSB1IHx8IHUgPT09IGUudHlwZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHQodGhpcylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IGkuY29udHJvbE5hdi5pbmRleChuKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5oYXNDbGFzcyhhICsgXCJhY3RpdmVcIikgfHwgKGkuZGlyZWN0aW9uID0gbyA+IGkuY3VycmVudFNsaWRlID8gXCJuZXh0XCIgOiBcInByZXZcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxleEFuaW1hdGUobywgaS52YXJzLnBhdXNlT25BY3Rpb24pKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSB1ICYmICh1ID0gZS50eXBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IFwidGh1bWJuYWlsc1wiID09PSBpLnZhcnMuY29udHJvbE5hdiA/IFwiaW1nXCIgOiBcImFcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250cm9sTmF2ID0gdChcIi5cIiArIGEgKyBcImNvbnRyb2wtbmF2IGxpIFwiICsgZSwgaS5jb250cm9sc0NvbnRhaW5lciA/IGkuY29udHJvbHNDb250YWluZXIgOiBpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250cm9sTmF2LnJlbW92ZUNsYXNzKGEgKyBcImFjdGl2ZVwiKS5lcShpLmFuaW1hdGluZ1RvKS5hZGRDbGFzcyhhICsgXCJhY3RpdmVcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLnBhZ2luZ0NvdW50ID4gMSAmJiBcImFkZFwiID09PSBlID8gaS5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKHQoXCI8bGk+PGE+XCIgKyBpLmNvdW50ICsgXCI8L2E+PC9saT5cIikpIDogMSA9PT0gaS5wYWdpbmdDb3VudCA/IGkuY29udHJvbE5hdlNjYWZmb2xkLmZpbmQoXCJsaVwiKS5yZW1vdmUoKSA6IGkuY29udHJvbE5hdi5lcShuKS5jbG9zZXN0KFwibGlcIikucmVtb3ZlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LmNvbnRyb2xOYXYuc2V0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnBhZ2luZ0NvdW50ID4gMSAmJiBpLnBhZ2luZ0NvdW50ICE9PSBpLmNvbnRyb2xOYXYubGVuZ3RoID8gaS51cGRhdGUobiwgZSkgOiB2LmNvbnRyb2xOYXYuYWN0aXZlKClcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgZGlyZWN0aW9uTmF2OiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHQoJzx1bCBjbGFzcz1cIicgKyBhICsgJ2RpcmVjdGlvbi1uYXZcIj48bGk+PGEgY2xhc3M9XCInICsgYSArICdwcmV2XCIgaHJlZj1cIiNcIj4nICsgaS52YXJzLnByZXZUZXh0ICsgJzwvYT48L2xpPjxsaT48YSBjbGFzcz1cIicgKyBhICsgJ25leHRcIiBocmVmPVwiI1wiPicgKyBpLnZhcnMubmV4dFRleHQgKyBcIjwvYT48L2xpPjwvdWw+XCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbnRyb2xzQ29udGFpbmVyID8gKHQoaS5jb250cm9sc0NvbnRhaW5lcikuYXBwZW5kKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5kaXJlY3Rpb25OYXYgPSB0KFwiLlwiICsgYSArIFwiZGlyZWN0aW9uLW5hdiBsaSBhXCIsIGkuY29udHJvbHNDb250YWluZXIpKSA6IChpLmFwcGVuZChlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZGlyZWN0aW9uTmF2ID0gdChcIi5cIiArIGEgKyBcImRpcmVjdGlvbi1uYXYgbGkgYVwiLCBpKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LmRpcmVjdGlvbk5hdi51cGRhdGUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZGlyZWN0aW9uTmF2LmJpbmQobCwgZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJcIiA9PT0gdSB8fCB1ID09PSBlLnR5cGUpICYmIChuID0gaS5nZXRUYXJnZXQodCh0aGlzKS5oYXNDbGFzcyhhICsgXCJuZXh0XCIpID8gXCJuZXh0XCIgOiBcInByZXZcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxleEFuaW1hdGUobiwgaS52YXJzLnBhdXNlT25BY3Rpb24pKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSB1ICYmICh1ID0gZS50eXBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGEgKyBcImRpc2FibGVkXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDEgPT09IGkucGFnaW5nQ291bnQgPyBpLmRpcmVjdGlvbk5hdi5hZGRDbGFzcyh0KS5hdHRyKFwidGFiaW5kZXhcIiwgXCItMVwiKSA6IGkudmFycy5hbmltYXRpb25Mb29wID8gaS5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3ModCkucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpIDogMCA9PT0gaS5hbmltYXRpbmdUbyA/IGkuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKHQpLmZpbHRlcihcIi5cIiArIGEgKyBcInByZXZcIikuYWRkQ2xhc3ModCkuYXR0cihcInRhYmluZGV4XCIsIFwiLTFcIikgOiBpLmFuaW1hdGluZ1RvID09PSBpLmxhc3QgPyBpLmRpcmVjdGlvbk5hdi5yZW1vdmVDbGFzcyh0KS5maWx0ZXIoXCIuXCIgKyBhICsgXCJuZXh0XCIpLmFkZENsYXNzKHQpLmF0dHIoXCJ0YWJpbmRleFwiLCBcIi0xXCIpIDogaS5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3ModCkucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIHBhdXNlUGxheToge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0KCc8ZGl2IGNsYXNzPVwiJyArIGEgKyAncGF1c2VwbGF5XCI+PGE+PC9hPjwvZGl2PicpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbnRyb2xzQ29udGFpbmVyID8gKGkuY29udHJvbHNDb250YWluZXIuYXBwZW5kKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wYXVzZVBsYXkgPSB0KFwiLlwiICsgYSArIFwicGF1c2VwbGF5IGFcIiwgaS5jb250cm9sc0NvbnRhaW5lcikpIDogKGkuYXBwZW5kKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wYXVzZVBsYXkgPSB0KFwiLlwiICsgYSArIFwicGF1c2VwbGF5IGFcIiwgaSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5wYXVzZVBsYXkudXBkYXRlKGkudmFycy5zbGlkZXNob3cgPyBhICsgXCJwYXVzZVwiIDogYSArIFwicGxheVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkucGF1c2VQbGF5LmJpbmQobCwgZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJcIiA9PT0gdSB8fCB1ID09PSBlLnR5cGUpICYmICh0KHRoaXMpLmhhc0NsYXNzKGEgKyBcInBhdXNlXCIpID8gKGkubWFudWFsUGF1c2UgPSAhMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5tYW51YWxQbGF5ID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkucGF1c2UoKSkgOiAoaS5tYW51YWxQYXVzZSA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm1hbnVhbFBsYXkgPSAhMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wbGF5KCkpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSB1ICYmICh1ID0gZS50eXBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIFwicGxheVwiID09PSB0ID8gaS5wYXVzZVBsYXkucmVtb3ZlQ2xhc3MoYSArIFwicGF1c2VcIikuYWRkQ2xhc3MoYSArIFwicGxheVwiKS5odG1sKGkudmFycy5wbGF5VGV4dCkgOiBpLnBhdXNlUGxheS5yZW1vdmVDbGFzcyhhICsgXCJwbGF5XCIpLmFkZENsYXNzKGEgKyBcInBhdXNlXCIpLmh0bWwoaS52YXJzLnBhdXNlVGV4dClcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgdG91Y2g6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHQodCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmFuaW1hdGluZyA/IHQucHJldmVudERlZmF1bHQoKSA6ICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHwgMSA9PT0gdC50b3VjaGVzLmxlbmd0aCkgJiYgKGkucGF1c2UoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBjID8gaS5oIDogaS53LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IE51bWJlcihuZXcgRGF0ZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gdC50b3VjaGVzWzBdLnBhZ2VYLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHQudG91Y2hlc1swXS5wYWdlWSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBwICYmIGQgJiYgaS5hbmltYXRpbmdUbyA9PT0gaS5sYXN0ID8gMCA6IHAgJiYgZCA/IGkubGltaXQgLSAoaS5pdGVtVyArIGkudmFycy5pdGVtTWFyZ2luKSAqIGkubW92ZSAqIGkuYW5pbWF0aW5nVG8gOiBwICYmIGkuY3VycmVudFNsaWRlID09PSBpLmxhc3QgPyBpLmxpbWl0IDogcCA/IChpLml0ZW1XICsgaS52YXJzLml0ZW1NYXJnaW4pICogaS5tb3ZlICogaS5jdXJyZW50U2xpZGUgOiBkID8gKGkubGFzdCAtIGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCkgKiBtIDogKGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCkgKiBtLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGMgPyB4IDogYixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBjID8gYiA6IHgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgbiwgITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgbywgITEpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHQudG91Y2hlc1swXS5wYWdlWCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0LnRvdWNoZXNbMF0ucGFnZVksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gYyA/IHUgLSB4IDogdSAtIGIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gYyA/IE1hdGguYWJzKGcpIDwgTWF0aC5hYnMoYiAtIGYpIDogTWF0aC5hYnMoZykgPCBNYXRoLmFicyh4IC0gZik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gNTAwO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAoIXcgfHwgTnVtYmVyKG5ldyBEYXRlKSAtIHkgPiBlKSAmJiAodC5wcmV2ZW50RGVmYXVsdCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAhaCAmJiBpLnRyYW5zaXRpb25zICYmIChpLnZhcnMuYW5pbWF0aW9uTG9vcCB8fCAoZyAvPSAwID09PSBpLmN1cnJlbnRTbGlkZSAmJiAwID4gZyB8fCBpLmN1cnJlbnRTbGlkZSA9PT0gaS5sYXN0ICYmIGcgPiAwID8gTWF0aC5hYnMoZykgLyBtICsgMiA6IDEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXRQcm9wcyh2ICsgZywgXCJzZXRUb3VjaFwiKSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG8oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgbiwgITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5hbmltYXRpbmdUbyA9PT0gaS5jdXJyZW50U2xpZGUgJiYgIXcgJiYgbnVsbCAhPT0gZykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBkID8gLWcgOiBnXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gaS5nZXRUYXJnZXQodCA+IDAgPyBcIm5leHRcIiA6IFwicHJldlwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY2FuQWR2YW5jZShhKSAmJiAoTnVtYmVyKG5ldyBEYXRlKSAtIHkgPCA1NTAgJiYgTWF0aC5hYnModCkgPiA1MCB8fCBNYXRoLmFicyh0KSA+IG0gLyAyKSA/IGkuZmxleEFuaW1hdGUoYSwgaS52YXJzLnBhdXNlT25BY3Rpb24pIDogaCB8fCBpLmZsZXhBbmltYXRlKGkuY3VycmVudFNsaWRlLCBpLnZhcnMucGF1c2VPbkFjdGlvbiwgITApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgbywgITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IG51bGwsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmID0gbnVsbCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IG51bGxcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYSh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuc3RvcFByb3BhZ2F0aW9uKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmFuaW1hdGluZyA/IHQucHJldmVudERlZmF1bHQoKSA6IChpLnBhdXNlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5fZ2VzdHVyZS5hZGRQb2ludGVyKHQucG9pbnRlcklkKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0gYyA/IGkuaCA6IGkudyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gTnVtYmVyKG5ldyBEYXRlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gcCAmJiBkICYmIGkuYW5pbWF0aW5nVG8gPT09IGkubGFzdCA/IDAgOiBwICYmIGQgPyBpLmxpbWl0IC0gKGkuaXRlbVcgKyBpLnZhcnMuaXRlbU1hcmdpbikgKiBpLm1vdmUgKiBpLmFuaW1hdGluZ1RvIDogcCAmJiBpLmN1cnJlbnRTbGlkZSA9PT0gaS5sYXN0ID8gaS5saW1pdCA6IHAgPyAoaS5pdGVtVyArIGkudmFycy5pdGVtTWFyZ2luKSAqIGkubW92ZSAqIGkuY3VycmVudFNsaWRlIDogZCA/IChpLmxhc3QgLSBpLmN1cnJlbnRTbGlkZSArIGkuY2xvbmVPZmZzZXQpICogbSA6IChpLmN1cnJlbnRTbGlkZSArIGkuY2xvbmVPZmZzZXQpICogbSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdC50YXJnZXQuX3NsaWRlcjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gLXQudHJhbnNsYXRpb25YXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gLXQudHJhbnNsYXRpb25ZO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFMgKz0gYyA/IG8gOiBpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBTLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBjID8gTWF0aC5hYnMoUykgPCBNYXRoLmFicygtaSkgOiBNYXRoLmFicyhTKSA8IE1hdGguYWJzKC1vKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmRldGFpbCA9PT0gdC5NU0dFU1RVUkVfRkxBR19JTkVSVElBID8gdm9pZCBzZXRJbW1lZGlhdGUoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuX2dlc3R1cmUuc3RvcCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiB2b2lkICgoIXcgfHwgTnVtYmVyKG5ldyBEYXRlKSAtIHkgPiA1MDApICYmICh0LnByZXZlbnREZWZhdWx0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWggJiYgbi50cmFuc2l0aW9ucyAmJiAobi52YXJzLmFuaW1hdGlvbkxvb3AgfHwgKGcgPSBTIC8gKDAgPT09IG4uY3VycmVudFNsaWRlICYmIDAgPiBTIHx8IG4uY3VycmVudFNsaWRlID09PSBuLmxhc3QgJiYgUyA+IDAgPyBNYXRoLmFicyhTKSAvIG0gKyAyIDogMSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldFByb3BzKHYgKyBnLCBcInNldFRvdWNoXCIpKSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbCh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gdC50YXJnZXQuX3NsaWRlcjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmFuaW1hdGluZ1RvID09PSBlLmN1cnJlbnRTbGlkZSAmJiAhdyAmJiBudWxsICE9PSBnKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBkID8gLWcgOiBnXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IGUuZ2V0VGFyZ2V0KG4gPiAwID8gXCJuZXh0XCIgOiBcInByZXZcIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jYW5BZHZhbmNlKGkpICYmIChOdW1iZXIobmV3IERhdGUpIC0geSA8IDU1MCAmJiBNYXRoLmFicyhuKSA+IDUwIHx8IE1hdGguYWJzKG4pID4gbSAvIDIpID8gZS5mbGV4QW5pbWF0ZShpLCBlLnZhcnMucGF1c2VPbkFjdGlvbikgOiBoIHx8IGUuZmxleEFuaW1hdGUoZS5jdXJyZW50U2xpZGUsIGUudmFycy5wYXVzZU9uQWN0aW9uLCAhMClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMgPSAwXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHUsIGYsIHYsIG0sIGcsIHksIHcgPSAhMSwgYiA9IDAsIHggPSAwLCBTID0gMDtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzID8gKGUuc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLl9nZXN0dXJlID0gbmV3IE1TR2VzdHVyZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5fZ2VzdHVyZS50YXJnZXQgPSBlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsIGEsICExKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5fc2xpZGVyID0gaSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlQ2hhbmdlXCIsIHIsICExKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlRW5kXCIsIGwsICExKSkgOiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHQsICExKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgIWkuYW5pbWF0aW5nICYmIGkuaXMoXCI6dmlzaWJsZVwiKSAmJiAocCB8fCBpLmRvTWF0aCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBoID8gdi5zbW9vdGhIZWlnaHQoKSA6IHAgPyAoaS5zbGlkZXMud2lkdGgoaS5jb21wdXRlZFcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS51cGRhdGUoaS5wYWdpbmdDb3VudCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNldFByb3BzKCkpIDogYyA/IChpLnZpZXdwb3J0LmhlaWdodChpLmgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXRQcm9wcyhpLmgsIFwic2V0VG90YWxcIikpIDogKGkudmFycy5zbW9vdGhIZWlnaHQgJiYgdi5zbW9vdGhIZWlnaHQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkubmV3U2xpZGVzLndpZHRoKGkuY29tcHV0ZWRXKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2V0UHJvcHMoaS5jb21wdXRlZFcsIFwic2V0VG90YWxcIikpKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIHNtb290aEhlaWdodDogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICghYyB8fCBoKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gaCA/IGkgOiBpLnZpZXdwb3J0O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0ID8gZS5hbmltYXRlKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaS5zbGlkZXMuZXEoaS5hbmltYXRpbmdUbykuaGVpZ2h0KClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwgdCkgOiBlLmhlaWdodChpLnNsaWRlcy5lcShpLmFuaW1hdGluZ1RvKS5oZWlnaHQoKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgc3luYzogZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdChpLnZhcnMuc3luYykuZGF0YShcImZsZXhzbGlkZXJcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gaS5hbmltYXRpbmdUbztcclxuLy8gICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuaW1hdGVcIjpcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uZmxleEFuaW1hdGUobywgaS52YXJzLnBhdXNlT25BY3Rpb24sICExLCAhMCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBsYXlcIjpcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucGxheWluZyB8fCBuLmFzTmF2IHx8IG4ucGxheSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXVzZVwiOlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wYXVzZSgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIHVuaXF1ZUlEOiBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZmluZChcIltpZF1cIikuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0KHRoaXMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmF0dHIoXCJpZFwiLCBlLmF0dHIoXCJpZFwiKSArIFwiX2Nsb25lXCIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGVcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBwYXVzZUludmlzaWJsZToge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZpc1Byb3A6IG51bGwsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gW1wid2Via2l0XCIsIFwibW96XCIsIFwibXNcIiwgXCJvXCJdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJoaWRkZW5cImluIGRvY3VtZW50KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaGlkZGVuXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbZV0gKyBcIkhpZGRlblwiaW4gZG9jdW1lbnQgJiYgKHYucGF1c2VJbnZpc2libGUudmlzUHJvcCA9IHRbZV0gKyBcIkhpZGRlblwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYucGF1c2VJbnZpc2libGUudmlzUHJvcCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB2LnBhdXNlSW52aXNpYmxlLnZpc1Byb3AucmVwbGFjZSgvW0h8aF1pZGRlbi8sIFwiXCIpICsgXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG4sIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYucGF1c2VJbnZpc2libGUuaXNIaWRkZW4oKSA/IGkuc3RhcnRUaW1lb3V0ID8gY2xlYXJUaW1lb3V0KGkuc3RhcnRUaW1lb3V0KSA6IGkucGF1c2UoKSA6IGkuc3RhcnRlZCA/IGkucGxheSgpIDogaS52YXJzLmluaXREZWxheSA+IDAgPyBzZXRUaW1lb3V0KGkucGxheSwgaS52YXJzLmluaXREZWxheSkgOiBpLnBsYXkoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW46IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRbdi5wYXVzZUludmlzaWJsZS52aXNQcm9wXSB8fCAhMVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBzZXRUb0NsZWFyV2F0Y2hlZEV2ZW50OiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IFwiXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwgM2UzKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICBpLmZsZXhBbmltYXRlID0gZnVuY3Rpb24oZSwgbiwgbywgcywgbCkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGkudmFycy5hbmltYXRpb25Mb29wIHx8IGUgPT09IGkuY3VycmVudFNsaWRlIHx8IChpLmRpcmVjdGlvbiA9IGUgPiBpLmN1cnJlbnRTbGlkZSA/IFwibmV4dFwiIDogXCJwcmV2XCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGYgJiYgMSA9PT0gaS5wYWdpbmdDb3VudCAmJiAoaS5kaXJlY3Rpb24gPSBpLmN1cnJlbnRJdGVtIDwgZSA/IFwibmV4dFwiIDogXCJwcmV2XCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICFpLmFuaW1hdGluZyAmJiAoaS5jYW5BZHZhbmNlKGUsIGwpIHx8IG8pICYmIGkuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChmICYmIHMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSB0KGkudmFycy5hc05hdkZvcikuZGF0YShcImZsZXhzbGlkZXJcIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpLmF0RW5kID0gMCA9PT0gZSB8fCBlID09PSBpLmNvdW50IC0gMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LmZsZXhBbmltYXRlKGUsICEwLCAhMSwgITAsIGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZGlyZWN0aW9uID0gaS5jdXJyZW50SXRlbSA8IGUgPyBcIm5leHRcIiA6IFwicHJldlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUuZGlyZWN0aW9uID0gaS5kaXJlY3Rpb24sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoKGUgKyAxKSAvIGkudmlzaWJsZSkgLSAxID09PSBpLmN1cnJlbnRTbGlkZSB8fCAwID09PSBlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuY3VycmVudEl0ZW0gPSBlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2xpZGVzLnJlbW92ZUNsYXNzKGEgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcShlKS5hZGRDbGFzcyhhICsgXCJhY3RpdmUtc2xpZGVcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgITE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3VycmVudEl0ZW0gPSBlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zbGlkZXMucmVtb3ZlQ2xhc3MoYSArIFwiYWN0aXZlLXNsaWRlXCIpLmVxKGUpLmFkZENsYXNzKGEgKyBcImFjdGl2ZS1zbGlkZVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBNYXRoLmZsb29yKGUgLyBpLnZpc2libGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChpLmFuaW1hdGluZyA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5hbmltYXRpbmdUbyA9IGUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4gJiYgaS5wYXVzZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS52YXJzLmJlZm9yZShpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5zeW5jRXhpc3RzICYmICFsICYmIHYuc3luYyhcImFuaW1hdGVcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkudmFycy5jb250cm9sTmF2ICYmIHYuY29udHJvbE5hdi5hY3RpdmUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcCB8fCBpLnNsaWRlcy5yZW1vdmVDbGFzcyhhICsgXCJhY3RpdmUtc2xpZGVcIikuZXEoZSkuYWRkQ2xhc3MoYSArIFwiYWN0aXZlLXNsaWRlXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5hdEVuZCA9IDAgPT09IGUgfHwgZSA9PT0gaS5sYXN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLnZhcnMuZGlyZWN0aW9uTmF2ICYmIHYuZGlyZWN0aW9uTmF2LnVwZGF0ZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlID09PSBpLmxhc3QgJiYgKGkudmFycy5lbmQoaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkudmFycy5hbmltYXRpb25Mb29wIHx8IGkucGF1c2UoKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByID8gKGkuc2xpZGVzLmVxKGkuY3VycmVudFNsaWRlKS5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2xpZGVzLmVxKGUpLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS53cmFwdXAodykpIDogKGkuc2xpZGVzLmVxKGkuY3VycmVudFNsaWRlKS5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFuaW1hdGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpLnZhcnMuYW5pbWF0aW9uU3BlZWQsIGkudmFycy5lYXNpbmcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zbGlkZXMuZXEoZSkuY3NzKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFuaW1hdGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGkudmFycy5hbmltYXRpb25TcGVlZCwgaS52YXJzLmVhc2luZywgaS53cmFwdXApKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0sIGcsIHksIHcgPSBjID8gaS5zbGlkZXMuZmlsdGVyKFwiOmZpcnN0XCIpLmhlaWdodCgpIDogaS5jb21wdXRlZFc7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHAgPyAobSA9IGkudmFycy5pdGVtTWFyZ2luLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IChpLml0ZW1XICsgbSkgKiBpLm1vdmUgKiBpLmFuaW1hdGluZ1RvLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHkgPiBpLmxpbWl0ICYmIDEgIT09IGkudmlzaWJsZSA/IGkubGltaXQgOiB5KSA6IGcgPSAwID09PSBpLmN1cnJlbnRTbGlkZSAmJiBlID09PSBpLmNvdW50IC0gMSAmJiBpLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiBcIm5leHRcIiAhPT0gaS5kaXJlY3Rpb24gPyBkID8gKGkuY291bnQgKyBpLmNsb25lT2Zmc2V0KSAqIHcgOiAwIDogaS5jdXJyZW50U2xpZGUgPT09IGkubGFzdCAmJiAwID09PSBlICYmIGkudmFycy5hbmltYXRpb25Mb29wICYmIFwicHJldlwiICE9PSBpLmRpcmVjdGlvbiA/IGQgPyAwIDogKGkuY291bnQgKyAxKSAqIHcgOiBkID8gKGkuY291bnQgLSAxIC0gZSArIGkuY2xvbmVPZmZzZXQpICogdyA6IChlICsgaS5jbG9uZU9mZnNldCkgKiB3LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXRQcm9wcyhnLCBcIlwiLCBpLnZhcnMuYW5pbWF0aW9uU3BlZWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS50cmFuc2l0aW9ucyA/IChpLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiBpLmF0RW5kIHx8IChpLmFuaW1hdGluZyA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3VycmVudFNsaWRlID0gaS5hbmltYXRpbmdUbyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jb250YWluZXIudW5iaW5kKFwid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY29udGFpbmVyLmJpbmQoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpLmVuc3VyZUFuaW1hdGlvbkVuZCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLndyYXB1cCh3KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpLmVuc3VyZUFuaW1hdGlvbkVuZCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5lbnN1cmVBbmltYXRpb25FbmQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLndyYXB1cCh3KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGkudmFycy5hbmltYXRpb25TcGVlZCArIDEwMCkpIDogaS5jb250YWluZXIuYW5pbWF0ZShpLmFyZ3MsIGkudmFycy5hbmltYXRpb25TcGVlZCwgaS52YXJzLmVhc2luZywgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS53cmFwdXAodylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5zbW9vdGhIZWlnaHQgJiYgdi5zbW9vdGhIZWlnaHQoaS52YXJzLmFuaW1hdGlvblNwZWVkKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgaS53cmFwdXAgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICBoIHx8IHAgfHwgKDAgPT09IGkuY3VycmVudFNsaWRlICYmIGkuYW5pbWF0aW5nVG8gPT09IGkubGFzdCAmJiBpLnZhcnMuYW5pbWF0aW9uTG9vcCA/IGkuc2V0UHJvcHModCwgXCJqdW1wRW5kXCIpIDogaS5jdXJyZW50U2xpZGUgPT09IGkubGFzdCAmJiAwID09PSBpLmFuaW1hdGluZ1RvICYmIGkudmFycy5hbmltYXRpb25Mb29wICYmIGkuc2V0UHJvcHModCwgXCJqdW1wU3RhcnRcIikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuYW5pbWF0aW5nID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5jdXJyZW50U2xpZGUgPSBpLmFuaW1hdGluZ1RvLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5hZnRlcihpKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgaS5hbmltYXRlU2xpZGVzID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAhaS5hbmltYXRpbmcgJiYgbSAmJiBpLmZsZXhBbmltYXRlKGkuZ2V0VGFyZ2V0KFwibmV4dFwiKSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIGkucGF1c2UgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaS5hbmltYXRlZFNsaWRlcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5hbmltYXRlZFNsaWRlcyA9IG51bGwsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5wbGF5aW5nID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICBpLnZhcnMucGF1c2VQbGF5ICYmIHYucGF1c2VQbGF5LnVwZGF0ZShcInBsYXlcIiksXHJcbi8vICAgICAgICAgICAgICAgICBpLnN5bmNFeGlzdHMgJiYgdi5zeW5jKFwicGF1c2VcIilcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIGkucGxheSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgaS5wbGF5aW5nICYmIGNsZWFySW50ZXJ2YWwoaS5hbmltYXRlZFNsaWRlcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5hbmltYXRlZFNsaWRlcyA9IGkuYW5pbWF0ZWRTbGlkZXMgfHwgc2V0SW50ZXJ2YWwoaS5hbmltYXRlU2xpZGVzLCBpLnZhcnMuc2xpZGVzaG93U3BlZWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuc3RhcnRlZCA9IGkucGxheWluZyA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgaS52YXJzLnBhdXNlUGxheSAmJiB2LnBhdXNlUGxheS51cGRhdGUoXCJwYXVzZVwiKSxcclxuLy8gICAgICAgICAgICAgICAgIGkuc3luY0V4aXN0cyAmJiB2LnN5bmMoXCJwbGF5XCIpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIGkucGF1c2UoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnN0b3BwZWQgPSAhMFxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgaS5jYW5BZHZhbmNlID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG4gPSBmID8gaS5wYWdpbmdDb3VudCAtIDEgOiBpLmxhc3Q7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZSA/ICEwIDogZiAmJiBpLmN1cnJlbnRJdGVtID09PSBpLmNvdW50IC0gMSAmJiAwID09PSB0ICYmIFwicHJldlwiID09PSBpLmRpcmVjdGlvbiA/ICEwIDogZiAmJiAwID09PSBpLmN1cnJlbnRJdGVtICYmIHQgPT09IGkucGFnaW5nQ291bnQgLSAxICYmIFwibmV4dFwiICE9PSBpLmRpcmVjdGlvbiA/ICExIDogdCAhPT0gaS5jdXJyZW50U2xpZGUgfHwgZiA/IGkudmFycy5hbmltYXRpb25Mb29wID8gITAgOiBpLmF0RW5kICYmIDAgPT09IGkuY3VycmVudFNsaWRlICYmIHQgPT09IG4gJiYgXCJuZXh0XCIgIT09IGkuZGlyZWN0aW9uID8gITEgOiBpLmF0RW5kICYmIGkuY3VycmVudFNsaWRlID09PSBuICYmIDAgPT09IHQgJiYgXCJuZXh0XCIgPT09IGkuZGlyZWN0aW9uID8gITEgOiAhMCA6ICExXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLmdldFRhcmdldCA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBpLmRpcmVjdGlvbiA9IHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJuZXh0XCIgPT09IHQgPyBpLmN1cnJlbnRTbGlkZSA9PT0gaS5sYXN0ID8gMCA6IGkuY3VycmVudFNsaWRlICsgMSA6IDAgPT09IGkuY3VycmVudFNsaWRlID8gaS5sYXN0IDogaS5jdXJyZW50U2xpZGUgLSAxXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLnNldFByb3BzID0gZnVuY3Rpb24odCwgZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG8gPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHQgPyB0IDogKGkuaXRlbVcgKyBpLnZhcnMuaXRlbU1hcmdpbikgKiBpLm1vdmUgKiBpLmFuaW1hdGluZ1RvXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNldFRvdWNoXCIgPT09IGUgPyB0IDogZCAmJiBpLmFuaW1hdGluZ1RvID09PSBpLmxhc3QgPyAwIDogZCA/IGkubGltaXQgLSAoaS5pdGVtVyArIGkudmFycy5pdGVtTWFyZ2luKSAqIGkubW92ZSAqIGkuYW5pbWF0aW5nVG8gOiBpLmFuaW1hdGluZ1RvID09PSBpLmxhc3QgPyBpLmxpbWl0IDogbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2V0VG90YWxcIjpcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZCA/IChpLmNvdW50IC0gMSAtIGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCkgKiB0IDogKGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCkgKiB0O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFRvdWNoXCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQgPyB0IDogdDtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqdW1wRW5kXCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQgPyB0IDogaS5jb3VudCAqIHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianVtcFN0YXJ0XCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQgPyBpLmNvdW50ICogdCA6IHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9KCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xICogbyArIFwicHhcIlxyXG4vLyAgICAgICAgICAgICAgICAgfSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgaS50cmFuc2l0aW9ucyAmJiAobyA9IGMgPyBcInRyYW5zbGF0ZTNkKDAsXCIgKyBvICsgXCIsMClcIiA6IFwidHJhbnNsYXRlM2QoXCIgKyBvICsgXCIsMCwwKVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4gPSB2b2lkIDAgIT09IG4gPyBuIC8gMWUzICsgXCJzXCIgOiBcIjBzXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5jb250YWluZXIuY3NzKFwiLVwiICsgaS5wZnggKyBcIi10cmFuc2l0aW9uLWR1cmF0aW9uXCIsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuY29udGFpbmVyLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgbikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuYXJnc1tpLnByb3BdID0gbyxcclxuLy8gICAgICAgICAgICAgICAgIChpLnRyYW5zaXRpb25zIHx8IHZvaWQgMCA9PT0gbikgJiYgaS5jb250YWluZXIuY3NzKGkuYXJncyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5jb250YWluZXIuY3NzKFwidHJhbnNmb3JtXCIsIG8pXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLnNldHVwID0gZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5zbGlkZXMuY3NzKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBcImZsb2F0XCI6IFwibGVmdFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCItMTAwJVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJpbml0XCIgPT09IGUgJiYgKHIgPyBpLnNsaWRlcy5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHdlYmtpdFRyYW5zaXRpb246IFwib3BhY2l0eSBcIiArIGkudmFycy5hbmltYXRpb25TcGVlZCAvIDFlMyArIFwicyBlYXNlXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLmVxKGkuY3VycmVudFNsaWRlKS5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDJcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSA6IGkuc2xpZGVzLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSkuZXEoaS5jdXJyZW50U2xpZGUpLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLmFuaW1hdGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSwgaS52YXJzLmFuaW1hdGlvblNwZWVkLCBpLnZhcnMuZWFzaW5nKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS52YXJzLnNtb290aEhlaWdodCAmJiB2LnNtb290aEhlaWdodCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJpbml0XCIgPT09IGUgJiYgKGkudmlld3BvcnQgPSB0KCc8ZGl2IGNsYXNzPVwiJyArIGEgKyAndmlld3BvcnRcIj48L2Rpdj4nKS5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKGkpLmFwcGVuZChpLmNvbnRhaW5lciksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuY2xvbmVDb3VudCA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuY2xvbmVPZmZzZXQgPSAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGQgJiYgKG8gPSB0Lm1ha2VBcnJheShpLnNsaWRlcykucmV2ZXJzZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLnNsaWRlcyA9IHQobyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuY29udGFpbmVyLmVtcHR5KCkuYXBwZW5kKGkuc2xpZGVzKSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5hbmltYXRpb25Mb29wICYmICFwICYmIChpLmNsb25lQ291bnQgPSAyLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmNsb25lT2Zmc2V0ID0gMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBcImluaXRcIiAhPT0gZSAmJiBpLmNvbnRhaW5lci5maW5kKFwiLmNsb25lXCIpLnJlbW92ZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2LnVuaXF1ZUlEKGkuc2xpZGVzLmZpcnN0KCkuY2xvbmUoKS5hZGRDbGFzcyhcImNsb25lXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIikpLmFwcGVuZFRvKGkuY29udGFpbmVyKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdi51bmlxdWVJRChpLnNsaWRlcy5sYXN0KCkuY2xvbmUoKS5hZGRDbGFzcyhcImNsb25lXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIikpLnByZXBlbmRUbyhpLmNvbnRhaW5lcikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLm5ld1NsaWRlcyA9IHQoaS52YXJzLnNlbGVjdG9yLCBpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGQgPyBpLmNvdW50IC0gMSAtIGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCA6IGkuY3VycmVudFNsaWRlICsgaS5jbG9uZU9mZnNldCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYyAmJiAhcCA/IChpLmNvbnRhaW5lci5oZWlnaHQoMjAwICogKGkuY291bnQgKyBpLmNsb25lQ291bnQpICsgXCIlXCIpLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIikud2lkdGgoXCIxMDAlXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm5ld1NsaWRlcy5jc3Moe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5kb01hdGgoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS52aWV3cG9ydC5oZWlnaHQoaS5oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXRQcm9wcyhuICogaS5oLCBcImluaXRcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwiaW5pdFwiID09PSBlID8gMTAwIDogMCkpIDogKGkuY29udGFpbmVyLndpZHRoKDIwMCAqIChpLmNvdW50ICsgaS5jbG9uZUNvdW50KSArIFwiJVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc2V0UHJvcHMobiAqIGkuY29tcHV0ZWRXLCBcImluaXRcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZG9NYXRoKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkubmV3U2xpZGVzLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaS5jb21wdXRlZFcsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZsb2F0XCI6IFwibGVmdFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudmFycy5zbW9vdGhIZWlnaHQgJiYgdi5zbW9vdGhIZWlnaHQoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJpbml0XCIgPT09IGUgPyAxMDAgOiAwKSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHAgfHwgaS5zbGlkZXMucmVtb3ZlQ2xhc3MoYSArIFwiYWN0aXZlLXNsaWRlXCIpLmVxKGkuY3VycmVudFNsaWRlKS5hZGRDbGFzcyhhICsgXCJhY3RpdmUtc2xpZGVcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS52YXJzLmluaXQoaSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIGkuZG9NYXRoID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdCA9IGkuc2xpZGVzLmZpcnN0KClcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIGUgPSBpLnZhcnMuaXRlbU1hcmdpblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgbiA9IGkudmFycy5taW5JdGVtc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgbyA9IGkudmFycy5tYXhJdGVtcztcclxuLy8gICAgICAgICAgICAgICAgIGkudyA9IHZvaWQgMCA9PT0gaS52aWV3cG9ydCA/IGkud2lkdGgoKSA6IGkudmlld3BvcnQud2lkdGgoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLmggPSB0LmhlaWdodCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuYm94UGFkZGluZyA9IHQub3V0ZXJXaWR0aCgpIC0gdC53aWR0aCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHAgPyAoaS5pdGVtVCA9IGkudmFycy5pdGVtV2lkdGggKyBlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLm1pblcgPSBuID8gbiAqIGkuaXRlbVQgOiBpLncsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkubWF4VyA9IG8gPyBvICogaS5pdGVtVCAtIGUgOiBpLncsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuaXRlbVcgPSBpLm1pblcgPiBpLncgPyAoaS53IC0gZSAqIChuIC0gMSkpIC8gbiA6IGkubWF4VyA8IGkudyA/IChpLncgLSBlICogKG8gLSAxKSkgLyBvIDogaS52YXJzLml0ZW1XaWR0aCA+IGkudyA/IGkudyA6IGkudmFycy5pdGVtV2lkdGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkudmlzaWJsZSA9IE1hdGguZmxvb3IoaS53IC8gaS5pdGVtVyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkubW92ZSA9IGkudmFycy5tb3ZlID4gMCAmJiBpLnZhcnMubW92ZSA8IGkudmlzaWJsZSA/IGkudmFycy5tb3ZlIDogaS52aXNpYmxlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLnBhZ2luZ0NvdW50ID0gTWF0aC5jZWlsKChpLmNvdW50IC0gaS52aXNpYmxlKSAvIGkubW92ZSArIDEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmxhc3QgPSBpLnBhZ2luZ0NvdW50IC0gMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5saW1pdCA9IDEgPT09IGkucGFnaW5nQ291bnQgPyAwIDogaS52YXJzLml0ZW1XaWR0aCA+IGkudyA/IGkuaXRlbVcgKiAoaS5jb3VudCAtIDEpICsgZSAqIChpLmNvdW50IC0gMSkgOiAoaS5pdGVtVyArIGUpICogaS5jb3VudCAtIGkudyAtIGUpIDogKGkuaXRlbVcgPSBpLncsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkucGFnaW5nQ291bnQgPSBpLmNvdW50LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLmxhc3QgPSBpLmNvdW50IC0gMSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5jb21wdXRlZFcgPSBpLml0ZW1XIC0gaS5ib3hQYWRkaW5nXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLnVwZGF0ZSA9IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIGkuZG9NYXRoKCksXHJcbi8vICAgICAgICAgICAgICAgICBwIHx8ICh0IDwgaS5jdXJyZW50U2xpZGUgPyBpLmN1cnJlbnRTbGlkZSArPSAxIDogdCA8PSBpLmN1cnJlbnRTbGlkZSAmJiAwICE9PSB0ICYmIChpLmN1cnJlbnRTbGlkZSAtPSAxKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLmFuaW1hdGluZ1RvID0gaS5jdXJyZW50U2xpZGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgaS52YXJzLmNvbnRyb2xOYXYgJiYgIWkubWFudWFsQ29udHJvbHMgJiYgKFwiYWRkXCIgPT09IGUgJiYgIXAgfHwgaS5wYWdpbmdDb3VudCA+IGkuY29udHJvbE5hdi5sZW5ndGggPyB2LmNvbnRyb2xOYXYudXBkYXRlKFwiYWRkXCIpIDogKFwicmVtb3ZlXCIgPT09IGUgJiYgIXAgfHwgaS5wYWdpbmdDb3VudCA8IGkuY29udHJvbE5hdi5sZW5ndGgpICYmIChwICYmIGkuY3VycmVudFNsaWRlID4gaS5sYXN0ICYmIChpLmN1cnJlbnRTbGlkZSAtPSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuYW5pbWF0aW5nVG8gLT0gMSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdi5jb250cm9sTmF2LnVwZGF0ZShcInJlbW92ZVwiLCBpLmxhc3QpKSksXHJcbi8vICAgICAgICAgICAgICAgICBpLnZhcnMuZGlyZWN0aW9uTmF2ICYmIHYuZGlyZWN0aW9uTmF2LnVwZGF0ZSgpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBpLmFkZFNsaWRlID0gZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG8gPSB0KGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgaS5jb3VudCArPSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkubGFzdCA9IGkuY291bnQgLSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGMgJiYgZCA/IHZvaWQgMCAhPT0gbiA/IGkuc2xpZGVzLmVxKGkuY291bnQgLSBuKS5hZnRlcihvKSA6IGkuY29udGFpbmVyLnByZXBlbmQobykgOiB2b2lkIDAgIT09IG4gPyBpLnNsaWRlcy5lcShuKS5iZWZvcmUobykgOiBpLmNvbnRhaW5lci5hcHBlbmQobyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS51cGRhdGUobiwgXCJhZGRcIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5zbGlkZXMgPSB0KGkudmFycy5zZWxlY3RvciArIFwiOm5vdCguY2xvbmUpXCIsIGkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkuc2V0dXAoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnZhcnMuYWRkZWQoaSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIGkucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbiA9IGlzTmFOKGUpID8gaS5zbGlkZXMuaW5kZXgodChlKSkgOiBlO1xyXG4vLyAgICAgICAgICAgICAgICAgaS5jb3VudCAtPSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkubGFzdCA9IGkuY291bnQgLSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlzTmFOKGUpID8gdChlLCBpLnNsaWRlcykucmVtb3ZlKCkgOiBjICYmIGQgPyBpLnNsaWRlcy5lcShpLmxhc3QpLnJlbW92ZSgpIDogaS5zbGlkZXMuZXEoZSkucmVtb3ZlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5kb01hdGgoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnVwZGF0ZShuLCBcInJlbW92ZVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLnNsaWRlcyA9IHQoaS52YXJzLnNlbGVjdG9yICsgXCI6bm90KC5jbG9uZSlcIiwgaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaS5zZXR1cCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkudmFycy5yZW1vdmVkKGkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICB2LmluaXQoKVxyXG4vLyAgICAgfVxyXG4vLyAgICAgICAgICxcclxuLy8gICAgICAgICB0KHdpbmRvdykuYmx1cihmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgZm9jdXNlZCA9ICExXHJcbi8vICAgICAgICAgfSkuZm9jdXMoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgIGZvY3VzZWQgPSAhMFxyXG4vLyAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgIHQuZmxleHNsaWRlci5kZWZhdWx0cyA9IHtcclxuLy8gICAgICAgICAgICAgbmFtZXNwYWNlOiBcImZsZXgtXCIsXHJcbi8vICAgICAgICAgICAgIHNlbGVjdG9yOiBcIi5zbGlkZXMgPiBsaVwiLFxyXG4vLyAgICAgICAgICAgICBhbmltYXRpb246IFwiZmFkZVwiLFxyXG4vLyAgICAgICAgICAgICBlYXNpbmc6IFwic3dpbmdcIixcclxuLy8gICAgICAgICAgICAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcclxuLy8gICAgICAgICAgICAgcmV2ZXJzZTogITEsXHJcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbkxvb3A6ICEwLFxyXG4vLyAgICAgICAgICAgICBzbW9vdGhIZWlnaHQ6ICExLFxyXG4vLyAgICAgICAgICAgICBzdGFydEF0OiAwLFxyXG4vLyAgICAgICAgICAgICBzbGlkZXNob3c6ICEwLFxyXG4vLyAgICAgICAgICAgICBzbGlkZXNob3dTcGVlZDogN2UzLFxyXG4vLyAgICAgICAgICAgICBhbmltYXRpb25TcGVlZDogNjAwLFxyXG4vLyAgICAgICAgICAgICBpbml0RGVsYXk6IDAsXHJcbi8vICAgICAgICAgICAgIHJhbmRvbWl6ZTogITEsXHJcbi8vICAgICAgICAgICAgIHRodW1iQ2FwdGlvbnM6ICExLFxyXG4vLyAgICAgICAgICAgICBwYXVzZU9uQWN0aW9uOiAhMCxcclxuLy8gICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiAhMSxcclxuLy8gICAgICAgICAgICAgcGF1c2VJbnZpc2libGU6ICEwLFxyXG4vLyAgICAgICAgICAgICB1c2VDU1M6ICEwLFxyXG4vLyAgICAgICAgICAgICB0b3VjaDogITAsXHJcbi8vICAgICAgICAgICAgIHZpZGVvOiAhMSxcclxuLy8gICAgICAgICAgICAgY29udHJvbE5hdjogITAsXHJcbi8vICAgICAgICAgICAgIGRpcmVjdGlvbk5hdjogITAsXHJcbi8vICAgICAgICAgICAgIHByZXZUZXh0OiBcIlByZXZpb3VzXCIsXHJcbi8vICAgICAgICAgICAgIG5leHRUZXh0OiBcIk5leHRcIixcclxuLy8gICAgICAgICAgICAga2V5Ym9hcmQ6ICEwLFxyXG4vLyAgICAgICAgICAgICBtdWx0aXBsZUtleWJvYXJkOiAhMSxcclxuLy8gICAgICAgICAgICAgbW91c2V3aGVlbDogITEsXHJcbi8vICAgICAgICAgICAgIHBhdXNlUGxheTogITEsXHJcbi8vICAgICAgICAgICAgIHBhdXNlVGV4dDogXCJQYXVzZVwiLFxyXG4vLyAgICAgICAgICAgICBwbGF5VGV4dDogXCJQbGF5XCIsXHJcbi8vICAgICAgICAgICAgIGNvbnRyb2xzQ29udGFpbmVyOiBcIlwiLFxyXG4vLyAgICAgICAgICAgICBtYW51YWxDb250cm9sczogXCJcIixcclxuLy8gICAgICAgICAgICAgc3luYzogXCJcIixcclxuLy8gICAgICAgICAgICAgYXNOYXZGb3I6IFwiXCIsXHJcbi8vICAgICAgICAgICAgIGl0ZW1XaWR0aDogMCxcclxuLy8gICAgICAgICAgICAgaXRlbU1hcmdpbjogMCxcclxuLy8gICAgICAgICAgICAgbWluSXRlbXM6IDEsXHJcbi8vICAgICAgICAgICAgIG1heEl0ZW1zOiAwLFxyXG4vLyAgICAgICAgICAgICBtb3ZlOiAwLFxyXG4vLyAgICAgICAgICAgICBhbGxvd09uZVNsaWRlOiAhMCxcclxuLy8gICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge30sXHJcbi8vICAgICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24oKSB7fSxcclxuLy8gICAgICAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uKCkge30sXHJcbi8vICAgICAgICAgICAgIGVuZDogZnVuY3Rpb24oKSB7fSxcclxuLy8gICAgICAgICAgICAgYWRkZWQ6IGZ1bmN0aW9uKCkge30sXHJcbi8vICAgICAgICAgICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKCkge30sXHJcbi8vICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge31cclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgIHQuZm4uZmxleHNsaWRlciA9IGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gZSAmJiAoZSA9IHt9KSxcclxuLy8gICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT0gdHlwZW9mIGUpXHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdCh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBlLnNlbGVjdG9yID8gZS5zZWxlY3RvciA6IFwiLnNsaWRlcyA+IGxpXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gbi5maW5kKGkpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIDEgPT09IG8ubGVuZ3RoICYmIGUuYWxsb3dPbmVTbGlkZSA9PT0gITAgfHwgMCA9PT0gby5sZW5ndGggPyAoby5mYWRlSW4oNDAwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLnN0YXJ0ICYmIGUuc3RhcnQobikpIDogdm9pZCAwID09PSBuLmRhdGEoXCJmbGV4c2xpZGVyXCIpICYmIG5ldyB0LmZsZXhzbGlkZXIodGhpcyxlKVxyXG4vLyAgICAgICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIHZhciBuID0gdCh0aGlzKS5kYXRhKFwiZmxleHNsaWRlclwiKTtcclxuLy8gICAgICAgICAgICAgc3dpdGNoIChlKSB7XHJcbi8vICAgICAgICAgICAgICAgICBjYXNlIFwicGxheVwiOlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4ucGxheSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FzZSBcInBhdXNlXCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbi5wYXVzZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FzZSBcInN0b3BcIjpcclxuLy8gICAgICAgICAgICAgICAgICAgICBuLnN0b3AoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgICAgIGNhc2UgXCJuZXh0XCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbi5mbGV4QW5pbWF0ZShuLmdldFRhcmdldChcIm5leHRcIiksICEwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgICAgIGNhc2UgXCJwcmV2XCI6XHJcbi8vICAgICAgICAgICAgICAgICBjYXNlIFwicHJldmlvdXNcIjpcclxuLy8gICAgICAgICAgICAgICAgICAgICBuLmZsZXhBbmltYXRlKG4uZ2V0VGFyZ2V0KFwicHJldlwiKSwgITApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuLy8gICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiID09IHR5cGVvZiBlICYmIG4uZmxleEFuaW1hdGUoZSwgITApXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vIH0oalF1ZXJ5KSxcclxuLy8gICAgICFmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICBmdW5jdGlvbiB0KCkge31cclxuLy8gICAgICAgICBmdW5jdGlvbiBlKHQpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGEucmV0aW5hSW1hZ2VTdWZmaXggKyB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIG4odCwgbikge1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5wYXRoID0gdCB8fCBcIlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgbiAmJiBudWxsICE9PSBuKVxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hdF8yeF9wYXRoID0gbixcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1fY2hlY2sgPSAhMTtcclxuLy8gICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLmhyZWYgPSB0aGlzLnBhdGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkucGF0aG5hbWUgPSBpLnBhdGhuYW1lLnJlcGxhY2UocywgZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXRfMnhfcGF0aCA9IGkuaHJlZlxyXG4vLyAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHRoaXMucGF0aC5zcGxpdChcIj9cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgb1swXSA9IG9bMF0ucmVwbGFjZShzLCBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdF8yeF9wYXRoID0gby5qb2luKFwiP1wiKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtX2NoZWNrID0gITBcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBpKHQpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5lbCA9IHQsXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnBhdGggPSBuZXcgbih0aGlzLmVsLmdldEF0dHJpYnV0ZShcInNyY1wiKSx0aGlzLmVsLmdldEF0dHJpYnV0ZShcImRhdGEtYXQyeFwiKSk7XHJcbi8vICAgICAgICAgICAgIHZhciBlID0gdGhpcztcclxuLy8gICAgICAgICAgICAgdGhpcy5wYXRoLmNoZWNrXzJ4X3ZhcmlhbnQoZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdCAmJiBlLnN3YXAoKVxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICB2YXIgbyA9IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGV4cG9ydHMgPyB3aW5kb3cgOiBleHBvcnRzXHJcbi8vICAgICAgICAgICAgICwgYSA9IHtcclxuLy8gICAgICAgICAgICAgcmV0aW5hSW1hZ2VTdWZmaXg6IFwiQDJ4XCIsXHJcbi8vICAgICAgICAgICAgIGNoZWNrX21pbWVfdHlwZTogITAsXHJcbi8vICAgICAgICAgICAgIGZvcmNlX29yaWdpbmFsX2RpbWVuc2lvbnM6ICEwXHJcbi8vICAgICAgICAgfTtcclxuLy8gICAgICAgICBvLlJldGluYSA9IHQsXHJcbi8vICAgICAgICAgICAgIHQuY29uZmlndXJlID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgbnVsbCA9PT0gdCAmJiAodCA9IHt9KTtcclxuLy8gICAgICAgICAgICAgICAgIGZvciAodmFyIGUgaW4gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICB0Lmhhc093blByb3BlcnR5KGUpICYmIChhW2VdID0gdFtlXSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIHQuaW5pdCA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIG51bGwgPT09IHQgJiYgKHQgPSBvKTtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBlID0gdC5vbmxvYWQgfHwgZnVuY3Rpb24oKSB7fVxyXG4vLyAgICAgICAgICAgICAgICAgO1xyXG4vLyAgICAgICAgICAgICAgICAgdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdCwgbiwgbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpLCBhID0gW107XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0ICs9IDEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBvW3RdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuLmdldEF0dHJpYnV0ZU5vZGUoXCJkYXRhLW5vLXJldGluYVwiKSB8fCBhLnB1c2gobmV3IGkobikpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUoKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgdC5pc1JldGluYSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHQgPSBcIigtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAzLzIpLCAobWluLXJlc29sdXRpb246IDEuNWRwcHgpXCI7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gby5kZXZpY2VQaXhlbFJhdGlvID4gMSA/ICEwIDogby5tYXRjaE1lZGlhICYmIG8ubWF0Y2hNZWRpYSh0KS5tYXRjaGVzID8gITAgOiAhMVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgO1xyXG4vLyAgICAgICAgIHZhciBzID0gL1xcLlxcdyskLztcclxuLy8gICAgICAgICBvLlJldGluYUltYWdlUGF0aCA9IG4sXHJcbi8vICAgICAgICAgICAgIG4uY29uZmlybWVkX3BhdGhzID0gW10sXHJcbi8vICAgICAgICAgICAgIG4ucHJvdG90eXBlLmlzX2V4dGVybmFsID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gISghdGhpcy5wYXRoLm1hdGNoKC9eaHR0cHM/XFw6L2kpIHx8IHRoaXMucGF0aC5tYXRjaChcIi8vXCIgKyBkb2N1bWVudC5kb21haW4pKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgbi5wcm90b3R5cGUuY2hlY2tfMnhfdmFyaWFudCA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBlLCBpID0gdGhpcztcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzX2V4dGVybmFsKCkgPyB0KCExKSA6IHRoaXMucGVyZm9ybV9jaGVjayB8fCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiB0aGlzLmF0XzJ4X3BhdGggfHwgbnVsbCA9PT0gdGhpcy5hdF8yeF9wYXRoID8gdGhpcy5hdF8yeF9wYXRoIGluIG4uY29uZmlybWVkX3BhdGhzID8gdCghMCkgOiAoZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLm9wZW4oXCJIRUFEXCIsIHRoaXMuYXRfMnhfcGF0aCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDQgIT09IGUucmVhZHlTdGF0ZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0KCExKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RhdHVzID49IDIwMCAmJiBlLnN0YXR1cyA8PSAzOTkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmNoZWNrX21pbWVfdHlwZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gbyB8fCAhby5tYXRjaCgvXmltYWdlL2kpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCghMSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmNvbmZpcm1lZF9wYXRocy5wdXNoKGkuYXRfMnhfcGF0aCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCghMClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCghMSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZvaWQgZS5zZW5kKCkpIDogdCghMClcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIG8uUmV0aW5hSW1hZ2UgPSBpLFxyXG4vLyAgICAgICAgICAgICBpLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZSgpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBuLmVsLmNvbXBsZXRlID8gKGEuZm9yY2Vfb3JpZ2luYWxfZGltZW5zaW9ucyAmJiAobi5lbC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBuLmVsLm9mZnNldFdpZHRoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5lbC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgbi5lbC5vZmZzZXRIZWlnaHQpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5lbC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdCkpIDogc2V0VGltZW91dChlLCA1KVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgdCAmJiAodCA9IHRoaXMucGF0aC5hdF8yeF9wYXRoKTtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcztcclxuLy8gICAgICAgICAgICAgICAgIGUoKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICB0LmlzUmV0aW5hKCkgJiYgdC5pbml0KG8pXHJcbi8vICAgICB9KCksXHJcbi8vICAgICB3aW5kb3cuTW9kZXJuaXpyID0gZnVuY3Rpb24odCwgZSwgbikge1xyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGkodCkge1xyXG4vLyAgICAgICAgICAgICBtLmNzc1RleHQgPSB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIG8odCwgZSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gaSh3LmpvaW4odCArIFwiO1wiKSArIChlIHx8IFwiXCIpKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBhKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0ID09PSBlXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHModCwgZSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gISF+KFwiXCIgKyB0KS5pbmRleE9mKGUpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHIodCwgZSkge1xyXG4vLyAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBvID0gdFtpXTtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghcyhvLCBcIi1cIikgJiYgbVtvXSAhPT0gbilcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwZnhcIiA9PSBlID8gbyA6ICEwXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgcmV0dXJuICExXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGwodCwgZSwgaSkge1xyXG4vLyAgICAgICAgICAgICBmb3IgKHZhciBvIGluIHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBzID0gZVt0W29dXTtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChzICE9PSBuKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpID09PSAhMSA/IHRbb10gOiBhKHMsIFwiZnVuY3Rpb25cIikgPyBzLmJpbmQoaSB8fCBlKSA6IHNcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gITFcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gdSh0LCBlLCBuKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBpID0gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHQuc2xpY2UoMSlcclxuLy8gICAgICAgICAgICAgICAgICwgbyA9ICh0ICsgXCIgXCIgKyB4LmpvaW4oaSArIFwiIFwiKSArIGkpLnNwbGl0KFwiIFwiKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGEoZSwgXCJzdHJpbmdcIikgfHwgYShlLCBcInVuZGVmaW5lZFwiKSA/IHIobywgZSkgOiAobyA9ICh0ICsgXCIgXCIgKyBTLmpvaW4oaSArIFwiIFwiKSArIGkpLnNwbGl0KFwiIFwiKSxcclxuLy8gICAgICAgICAgICAgICAgIGwobywgZSwgbikpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHZhciBjID0gXCIyLjguM1wiLCBkID0ge30sIHAgPSAhMCwgaCA9IGUuZG9jdW1lbnRFbGVtZW50LCBmID0gXCJtb2Rlcm5penJcIiwgdiA9IGUuY3JlYXRlRWxlbWVudChmKSwgbSA9IHYuc3R5bGUsIGcsIHkgPSB7fS50b1N0cmluZywgdyA9IFwiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtIFwiLnNwbGl0KFwiIFwiKSwgYiA9IFwiV2Via2l0IE1veiBPIG1zXCIsIHggPSBiLnNwbGl0KFwiIFwiKSwgUyA9IGIudG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIiksIEMgPSB7XHJcbi8vICAgICAgICAgICAgIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbi8vICAgICAgICAgfSwgXyA9IHt9LCBNID0ge30sIEEgPSB7fSwgTCA9IFtdLCBUID0gTC5zbGljZSwgUCwgSSA9IHt9Lmhhc093blByb3BlcnR5LCBrO1xyXG4vLyAgICAgICAgIGsgPSBhKEksIFwidW5kZWZpbmVkXCIpIHx8IGEoSS5jYWxsLCBcInVuZGVmaW5lZFwiKSA/IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBlIGluIHQgJiYgYSh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZVtlXSwgXCJ1bmRlZmluZWRcIilcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICA6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBJLmNhbGwodCwgZSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG4gPSBULmNhbGwoYXJndW1lbnRzLCAxKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgaSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgaSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IGZ1bmN0aW9uKCkge307XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8ucHJvdG90eXBlID0gZS5wcm90b3R5cGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gbmV3IG9cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgcyA9IGUuYXBwbHkoYSwgbi5jb25jYXQoVC5jYWxsKGFyZ3VtZW50cykpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdChzKSA9PT0gcyA/IHMgOiBhXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmFwcGx5KHQsIG4uY29uY2F0KFQuY2FsbChhcmd1bWVudHMpKSlcclxuLy8gICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gaVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgKSxcclxuLy8gICAgICAgICAgICAgXy5jc3NncmFkaWVudHMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciB0ID0gXCJiYWNrZ3JvdW5kLWltYWdlOlwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgLCBlID0gXCJncmFkaWVudChsaW5lYXIsbGVmdCB0b3AscmlnaHQgYm90dG9tLGZyb20oIzlmOSksdG8od2hpdGUpKTtcIlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgbiA9IFwibGluZWFyLWdyYWRpZW50KGxlZnQgdG9wLCM5ZjksIHdoaXRlKTtcIjtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBpKCh0ICsgXCItd2Via2l0LSBcIi5zcGxpdChcIiBcIikuam9pbihlICsgdCkgKyB3LmpvaW4obiArIHQpKS5zbGljZSgwLCAtdC5sZW5ndGgpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzKG0uYmFja2dyb3VuZEltYWdlLCBcImdyYWRpZW50XCIpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBfLmNzc3RyYW5zZm9ybXMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhIXUoXCJ0cmFuc2Zvcm1cIilcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIF8uY3NzdHJhbnNpdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB1KFwidHJhbnNpdGlvblwiKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgXy5zdmcgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhIWUuY3JlYXRlRWxlbWVudE5TICYmICEhZS5jcmVhdGVFbGVtZW50TlMoQy5zdmcsIFwic3ZnXCIpLmNyZWF0ZVNWR1JlY3RcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIF8uaW5saW5lc3ZnID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdCA9IGUuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0LmlubmVySFRNTCA9IFwiPHN2Zy8+XCIsXHJcbi8vICAgICAgICAgICAgICAgICAodC5maXJzdENoaWxkICYmIHQuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkpID09IEMuc3ZnXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBfLnN2Z2NsaXBwYXRocyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICEhZS5jcmVhdGVFbGVtZW50TlMgJiYgL1NWR0NsaXBQYXRoLy50ZXN0KHkuY2FsbChlLmNyZWF0ZUVsZW1lbnROUyhDLnN2ZywgXCJjbGlwUGF0aFwiKSkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICA7XHJcbi8vICAgICAgICAgZm9yICh2YXIgRSBpbiBfKVxyXG4vLyAgICAgICAgICAgICBrKF8sIEUpICYmIChQID0gRS50b0xvd2VyQ2FzZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgZFtQXSA9IF9bRV0oKSxcclxuLy8gICAgICAgICAgICAgICAgIEwucHVzaCgoZFtQXSA/IFwiXCIgOiBcIm5vLVwiKSArIFApKTtcclxuLy8gICAgICAgICByZXR1cm4gZC5hZGRUZXN0ID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgdClcclxuLy8gICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICBrKHQsIGkpICYmIGQuYWRkVGVzdChpLCB0W2ldKTtcclxuLy8gICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAodCA9IHQudG9Mb3dlckNhc2UoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBkW3RdICE9PSBuKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4vLyAgICAgICAgICAgICAgICAgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSA/IGUoKSA6IGUsXHJcbi8vICAgICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBwICYmIHAgJiYgKGguY2xhc3NOYW1lICs9IFwiIFwiICsgKGUgPyBcIlwiIDogXCJuby1cIikgKyB0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBkW3RdID0gZVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBkXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgIGkoXCJcIiksXHJcbi8vICAgICAgICAgICAgIHYgPSBnID0gbnVsbCxcclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdIHx8IHQuZG9jdW1lbnRFbGVtZW50O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmlubmVySFRNTCA9IFwieDxzdHlsZT5cIiArIGUgKyBcIjwvc3R5bGU+XCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkuaW5zZXJ0QmVmb3JlKG4ubGFzdENoaWxkLCBpLmZpcnN0Q2hpbGQpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0geS5lbGVtZW50cztcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQuc3BsaXQoXCIgXCIpIDogdFxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbyh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBtW3RbZl1dO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlIHx8IChlID0ge30sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHYrKyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdFtmXSA9IHYsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG1bdl0gPSBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYSh0LCBuLCBpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKG4gfHwgKG4gPSBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmNyZWF0ZUVsZW1lbnQodCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaSB8fCAoaSA9IG8obikpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBhO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhID0gaS5jYWNoZVt0XSA/IGkuY2FjaGVbdF0uY2xvbmVOb2RlKCkgOiBwLnRlc3QodCkgPyAoaS5jYWNoZVt0XSA9IGkuY3JlYXRlRWxlbSh0KSkuY2xvbmVOb2RlKCkgOiBpLmNyZWF0ZUVsZW0odCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICFhLmNhbkhhdmVDaGlsZHJlbiB8fCBkLnRlc3QodCkgfHwgYS50YWdVcm4gPyBhIDogaS5mcmFnLmFwcGVuZENoaWxkKGEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzKHQsIG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZiAodCB8fCAodCA9IGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4gPSBuIHx8IG8odCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IG4uZnJhZy5jbG9uZU5vZGUoKSwgcyA9IDAsIHIgPSBpKCksIGwgPSByLmxlbmd0aDsgbCA+IHM7IHMrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYS5jcmVhdGVFbGVtZW50KHJbc10pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jdGlvbiByKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLmNhY2hlIHx8IChlLmNhY2hlID0ge30sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3JlYXRlRWxlbSA9IHQuY3JlYXRlRWxlbWVudCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5jcmVhdGVGcmFnID0gdC5jcmVhdGVEb2N1bWVudEZyYWdtZW50LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmZyYWcgPSBlLmNyZWF0ZUZyYWcoKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5LnNoaXZNZXRob2RzID8gYShuLCB0LCBlKSA6IGUuY3JlYXRlRWxlbShuKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gRnVuY3Rpb24oXCJoLGZcIiwgXCJyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50O2guc2hpdk1ldGhvZHMmJihcIiArIGkoKS5qb2luKCkucmVwbGFjZSgvW1xcd1xcLV0rL2csIGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmNyZWF0ZUVsZW0odCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5mcmFnLmNyZWF0ZUVsZW1lbnQodCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYyhcIicgKyB0ICsgJ1wiKSdcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkgKyBcIik7cmV0dXJuIG59XCIpKHksIGUuZnJhZylcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwodCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQgfHwgKHQgPSBlKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG8odCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkuc2hpdkNTUyAmJiAhaCAmJiAhaS5oYXNDU1MgJiYgKGkuaGFzQ1NTID0gISFuKHQsIFwiYXJ0aWNsZSxhc2lkZSxkaWFsb2csZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbntkaXNwbGF5OmJsb2NrfW1hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9dGVtcGxhdGV7ZGlzcGxheTpub25lfVwiKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZyB8fCByKHQsIGkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdSA9IFwiMy43LjBcIiwgYyA9IHQuaHRtbDUgfHwge30sIGQgPSAvXjx8Xig/OmJ1dHRvbnxtYXB8c2VsZWN0fHRleHRhcmVhfG9iamVjdHxpZnJhbWV8b3B0aW9ufG9wdGdyb3VwKSQvaSwgcCA9IC9eKD86YXxifGNvZGV8ZGl2fGZpZWxkc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGl8bGFiZWx8bGl8b2x8cHxxfHNwYW58c3Ryb25nfHN0eWxlfHRhYmxlfHRib2R5fHRkfHRofHRyfHVsKSQvaSwgaCwgZiA9IFwiX2h0bWw1c2hpdlwiLCB2ID0gMCwgbSA9IHt9LCBnO1xyXG4vLyAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZS5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5pbm5lckhUTUwgPSBcIjx4eXo+PC94eXo+XCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gXCJoaWRkZW5cImluIHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gMSA9PSB0LmNoaWxkTm9kZXMubGVuZ3RoIHx8IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgdC5jbG9uZU5vZGUgfHwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgdC5jcmVhdGVEb2N1bWVudEZyYWdtZW50IHx8IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHQuY3JlYXRlRWxlbWVudFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAobikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBoID0gITAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gITBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9KCk7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgeSA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogYy5lbGVtZW50cyB8fCBcImFiYnIgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiZGkgY2FudmFzIGRhdGEgZGF0YWxpc3QgZGV0YWlscyBkaWFsb2cgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW9cIixcclxuLy8gICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB1LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNoaXZDU1M6IGMuc2hpdkNTUyAhPT0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNVbmtub3duRWxlbWVudHM6IGcsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2hpdk1ldGhvZHM6IGMuc2hpdk1ldGhvZHMgIT09ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGVmYXVsdFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNoaXZEb2N1bWVudDogbCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiBhLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6IHNcclxuLy8gICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICB0Lmh0bWw1ID0geSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBsKGUpXHJcbi8vICAgICAgICAgICAgIH0odGhpcywgZSksXHJcbi8vICAgICAgICAgICAgIGQuX3ZlcnNpb24gPSBjLFxyXG4vLyAgICAgICAgICAgICBkLl9wcmVmaXhlcyA9IHcsXHJcbi8vICAgICAgICAgICAgIGQuX2RvbVByZWZpeGVzID0gUyxcclxuLy8gICAgICAgICAgICAgZC5fY3Nzb21QcmVmaXhlcyA9IHgsXHJcbi8vICAgICAgICAgICAgIGQudGVzdFByb3AgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gcihbdF0pXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBkLnRlc3RBbGxQcm9wcyA9IHUsXHJcbi8vICAgICAgICAgICAgIGguY2xhc3NOYW1lID0gaC5jbGFzc05hbWUucmVwbGFjZSgvKF58XFxzKW5vLWpzKFxcc3wkKS8sIFwiJDEkMlwiKSArIChwID8gXCIganMgXCIgKyBMLmpvaW4oXCIgXCIpIDogXCJcIiksXHJcbi8vICAgICAgICAgICAgIGRcclxuLy8gICAgIH0odGhpcywgdGhpcy5kb2N1bWVudCksXHJcbi8vICAgICBmdW5jdGlvbih0LCBlLCBuKSB7XHJcbi8vICAgICAgICAgZnVuY3Rpb24gaSh0KSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBcIltvYmplY3QgRnVuY3Rpb25dXCIgPT0gZi5jYWxsKHQpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIG8odCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdFxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBhKCkge31cclxuLy8gICAgICAgICBmdW5jdGlvbiBzKHQpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuICF0IHx8IFwibG9hZGVkXCIgPT0gdCB8fCBcImNvbXBsZXRlXCIgPT0gdCB8fCBcInVuaW5pdGlhbGl6ZWRcIiA9PSB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHIoKSB7XHJcbi8vICAgICAgICAgICAgIHZhciB0ID0gdi5zaGlmdCgpO1xyXG4vLyAgICAgICAgICAgICBtID0gMSxcclxuLy8gICAgICAgICAgICAgICAgIHQgPyB0LnQgPyBwKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIChcImNcIiA9PSB0LnQgPyBMLmluamVjdENzcyA6IEwuaW5qZWN0SnMpKHQucywgMCwgdC5hLCB0LngsIHQuZSwgMSlcclxuLy8gICAgICAgICAgICAgICAgIH0sIDApIDogKHQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICByKCkpIDogbSA9IDBcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gbCh0LCBuLCBpLCBvLCBhLCBsLCB1KSB7XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFmICYmIHMoZC5yZWFkeVN0YXRlKSAmJiAoYi5yID0gZiA9IDEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgIW0gJiYgcigpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkLm9ubG9hZCA9IGQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZSkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBcImltZ1wiICE9IHQgJiYgcChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdy5yZW1vdmVDaGlsZChkKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sIDUwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIF9bbl0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIF9bbl0uaGFzT3duUHJvcGVydHkoaSkgJiYgX1tuXVtpXS5vbmxvYWQoKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHZhciB1ID0gdSB8fCBMLmVycm9yVGltZW91dFxyXG4vLyAgICAgICAgICAgICAgICAgLCBkID0gZS5jcmVhdGVFbGVtZW50KHQpXHJcbi8vICAgICAgICAgICAgICAgICAsIGYgPSAwXHJcbi8vICAgICAgICAgICAgICAgICAsIGcgPSAwXHJcbi8vICAgICAgICAgICAgICAgICAsIGIgPSB7XHJcbi8vICAgICAgICAgICAgICAgICB0OiBpLFxyXG4vLyAgICAgICAgICAgICAgICAgczogbixcclxuLy8gICAgICAgICAgICAgICAgIGU6IGEsXHJcbi8vICAgICAgICAgICAgICAgICBhOiBsLFxyXG4vLyAgICAgICAgICAgICAgICAgeDogdVxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICAxID09PSBfW25dICYmIChnID0gMSxcclxuLy8gICAgICAgICAgICAgICAgIF9bbl0gPSBbXSksXHJcbi8vICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09IHQgPyBkLmRhdGEgPSBuIDogKGQuc3JjID0gbixcclxuLy8gICAgICAgICAgICAgICAgICAgICBkLnR5cGUgPSB0KSxcclxuLy8gICAgICAgICAgICAgICAgIGQud2lkdGggPSBkLmhlaWdodCA9IFwiMFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgZC5vbmVycm9yID0gZC5vbmxvYWQgPSBkLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGMuY2FsbCh0aGlzLCBnKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgdi5zcGxpY2UobywgMCwgYiksXHJcbi8vICAgICAgICAgICAgIFwiaW1nXCIgIT0gdCAmJiAoZyB8fCAyID09PSBfW25dID8gKHcuaW5zZXJ0QmVmb3JlKGQsIHkgPyBudWxsIDogaCksXHJcbi8vICAgICAgICAgICAgICAgICBwKGMsIHUpKSA6IF9bbl0ucHVzaChkKSlcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gdSh0LCBlLCBuLCBpLCBhKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBtID0gMCxcclxuLy8gICAgICAgICAgICAgICAgIGUgPSBlIHx8IFwialwiLFxyXG4vLyAgICAgICAgICAgICAgICAgbyh0KSA/IGwoXCJjXCIgPT0gZSA/IHggOiBiLCB0LCBlLCB0aGlzLmkrKywgbiwgaSwgYSkgOiAodi5zcGxpY2UodGhpcy5pKyssIDAsIHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgMSA9PSB2Lmxlbmd0aCAmJiByKCkpLFxyXG4vLyAgICAgICAgICAgICAgICAgdGhpc1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBjKCkge1xyXG4vLyAgICAgICAgICAgICB2YXIgdCA9IEw7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0LmxvYWRlciA9IHtcclxuLy8gICAgICAgICAgICAgICAgIGxvYWQ6IHUsXHJcbi8vICAgICAgICAgICAgICAgICBpOiAwXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHZhciBkID0gZS5kb2N1bWVudEVsZW1lbnQsIHAgPSB0LnNldFRpbWVvdXQsIGggPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdLCBmID0ge30udG9TdHJpbmcsIHYgPSBbXSwgbSA9IDAsIGcgPSBcIk1vekFwcGVhcmFuY2VcImluIGQuc3R5bGUsIHkgPSBnICYmICEhZS5jcmVhdGVSYW5nZSgpLmNvbXBhcmVOb2RlLCB3ID0geSA/IGQgOiBoLnBhcmVudE5vZGUsIGQgPSB0Lm9wZXJhICYmIFwiW29iamVjdCBPcGVyYV1cIiA9PSBmLmNhbGwodC5vcGVyYSksIGQgPSAhIWUuYXR0YWNoRXZlbnQgJiYgIWQsIGIgPSBnID8gXCJvYmplY3RcIiA6IGQgPyBcInNjcmlwdFwiIDogXCJpbWdcIiwgeCA9IGQgPyBcInNjcmlwdFwiIDogYiwgUyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IEFycmF5XVwiID09IGYuY2FsbCh0KVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLCBDID0gW10sIF8gPSB7fSwgTSA9IHtcclxuLy8gICAgICAgICAgICAgdGltZW91dDogZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGUubGVuZ3RoICYmICh0LnRpbWVvdXQgPSBlWzBdKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9LCBBLCBMO1xyXG4vLyAgICAgICAgIEwgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIGUodCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHQgPSB0LnNwbGl0KFwiIVwiKSwgZSA9IEMubGVuZ3RoLCBuID0gdC5wb3AoKSwgaSA9IHQubGVuZ3RoLCBuID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHVybDogbixcclxuLy8gICAgICAgICAgICAgICAgICAgICBvcmlnVXJsOiBuLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHByZWZpeGVzOiB0XHJcbi8vICAgICAgICAgICAgICAgICB9LCBvLCBhLCBzO1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChhID0gMDsgaSA+IGE7IGErKylcclxuLy8gICAgICAgICAgICAgICAgICAgICBzID0gdFthXS5zcGxpdChcIj1cIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgKG8gPSBNW3Muc2hpZnQoKV0pICYmIChuID0gbyhuLCBzKSk7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGEgPSAwOyBlID4gYTsgYSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4gPSBDW2FdKG4pO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIG5cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBzKHQsIG8sIGEsIHMsIHIpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBsID0gZSh0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgdSA9IGwuYXV0b0NhbGxiYWNrO1xyXG4vLyAgICAgICAgICAgICAgICAgbC51cmwuc3BsaXQoXCIuXCIpLnBvcCgpLnNwbGl0KFwiP1wiKS5zaGlmdCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgbC5ieXBhc3MgfHwgKG8gJiYgKG8gPSBpKG8pID8gbyA6IG9bdF0gfHwgb1tzXSB8fCBvW3Quc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGwuaW5zdGVhZCA/IGwuaW5zdGVhZCh0LCBvLCBhLCBzLCByKSA6IChfW2wudXJsXSA/IGwubm9leGVjID0gITAgOiBfW2wudXJsXSA9IDEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGEubG9hZChsLnVybCwgbC5mb3JjZUNTUyB8fCAhbC5mb3JjZUpTICYmIFwiY3NzXCIgPT0gbC51cmwuc3BsaXQoXCIuXCIpLnBvcCgpLnNwbGl0KFwiP1wiKS5zaGlmdCgpID8gXCJjXCIgOiBuLCBsLm5vZXhlYywgbC5hdHRycywgbC50aW1lb3V0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAoaShvKSB8fCBpKHUpKSAmJiBhLmxvYWQoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGMoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbyAmJiBvKGwub3JpZ1VybCwgciwgcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHUgJiYgdShsLm9yaWdVcmwsIHIsIHMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1tsLnVybF0gPSAyXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSkpKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIHIodCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbih0LCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8odCkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuIHx8ICh1ID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmFwcGx5KHRoaXMsIHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzKHQsIHUsIGUsIDAsIHIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3QodCkgPT09IHQpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGggaW4gcCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gMCwgbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG4gaW4gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5oYXNPd25Qcm9wZXJ0eShuKSAmJiBlKys7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaGFzT3duUHJvcGVydHkoaCkgJiYgKCFuICYmICEtLXAgJiYgKGkodSkgPyB1ID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuYXBwbHkodGhpcywgdCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1W2hdID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgJiYgdC5hcHBseSh0aGlzLCBlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oY1toXSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzKHRbaF0sIHUsIGUsIGgsIHIpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAhbiAmJiBkKClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHZhciByID0gISF0LnRlc3QsIGwgPSB0LmxvYWQgfHwgdC5ib3RoLCB1ID0gdC5jYWxsYmFjayB8fCBhLCBjID0gdSwgZCA9IHQuY29tcGxldGUgfHwgYSwgcCwgaDtcclxuLy8gICAgICAgICAgICAgICAgIG4ociA/IHQueWVwIDogdC5ub3BlLCAhIWwpLFxyXG4vLyAgICAgICAgICAgICAgICAgbCAmJiBuKGwpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgdmFyIGwsIHUsIGQgPSB0aGlzLnllcG5vcGUubG9hZGVyO1xyXG4vLyAgICAgICAgICAgICBpZiAobyh0KSlcclxuLy8gICAgICAgICAgICAgICAgIHModCwgMCwgZCwgMCk7XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKFModCkpXHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgdC5sZW5ndGg7IGwrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICB1ID0gdFtsXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbyh1KSA/IHModSwgMCwgZCwgMCkgOiBTKHUpID8gTCh1KSA6IE9iamVjdCh1KSA9PT0gdSAmJiByKHUsIGQpO1xyXG4vLyAgICAgICAgICAgICBlbHNlXHJcbi8vICAgICAgICAgICAgICAgICBPYmplY3QodCkgPT09IHQgJiYgcih0LCBkKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBMLmFkZFByZWZpeCA9IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIE1bdF0gPSBlXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBMLmFkZEZpbHRlciA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIEMucHVzaCh0KVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgTC5lcnJvclRpbWVvdXQgPSAxZTQsXHJcbi8vICAgICAgICAgbnVsbCA9PSBlLnJlYWR5U3RhdGUgJiYgZS5hZGRFdmVudExpc3RlbmVyICYmIChlLnJlYWR5U3RhdGUgPSBcImxvYWRpbmdcIixcclxuLy8gICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBBID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBBLCAwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5yZWFkeVN0YXRlID0gXCJjb21wbGV0ZVwiXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsIDApKSxcclxuLy8gICAgICAgICAgICAgdC55ZXBub3BlID0gYygpLFxyXG4vLyAgICAgICAgICAgICB0LnllcG5vcGUuZXhlY3V0ZVN0YWNrID0gcixcclxuLy8gICAgICAgICAgICAgdC55ZXBub3BlLmluamVjdEpzID0gZnVuY3Rpb24odCwgbiwgaSwgbywgbCwgdSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGMgPSBlLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksIGQsIGYsIG8gPSBvIHx8IEwuZXJyb3JUaW1lb3V0O1xyXG4vLyAgICAgICAgICAgICAgICAgYy5zcmMgPSB0O1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChmIGluIGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGUoZiwgaVtmXSk7XHJcbi8vICAgICAgICAgICAgICAgICBuID0gdSA/IHIgOiBuIHx8IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBjLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAhZCAmJiBzKGMucmVhZHlTdGF0ZSkgJiYgKGQgPSAxLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbigpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5vbmxvYWQgPSBjLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBwKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkIHx8IChkID0gMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4oMSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSwgbyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgbCA/IGMub25sb2FkKCkgOiBoLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGMsIGgpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICB0LnllcG5vcGUuaW5qZWN0Q3NzID0gZnVuY3Rpb24odCwgbiwgaSwgbywgcywgbCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG8gPSBlLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLCB1LCBuID0gbCA/IHIgOiBuIHx8IGE7XHJcbi8vICAgICAgICAgICAgICAgICBvLmhyZWYgPSB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG8ucmVsID0gXCJzdHlsZXNoZWV0XCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgby50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yICh1IGluIGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgby5zZXRBdHRyaWJ1dGUodSwgaVt1XSk7XHJcbi8vICAgICAgICAgICAgICAgICBzIHx8IChoLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sIGgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHAobiwgMCkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgIH0odGhpcywgZG9jdW1lbnQpLFxyXG4vLyAgICAgTW9kZXJuaXpyLmxvYWQgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICB5ZXBub3BlLmFwcGx5KHdpbmRvdywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKVxyXG4vLyAgICAgfVxyXG4vLyAgICAgLFxyXG4vLyAgICAgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgdmFyIHQsIGUsIG4sIGkgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuYXBwbHkoZSwgYXJndW1lbnRzKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9LCBvID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gMCwgbiA9IHRoaXMubGVuZ3RoOyBuID4gZTsgZSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluIHRoaXMgJiYgdGhpc1tlXSA9PT0gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gLTFcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIDtcclxuLy8gICAgICAgICBlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIHQoKSB7fVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gdC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG4sIGk7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKG4gaW4gZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICBpID0gZVtuXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBudWxsID09IHRbbl0gJiYgKHRbbl0gPSBpKTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHQucHJvdG90eXBlLmlzTW9iaWxlID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QodClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHRcclxuLy8gICAgICAgICB9KCksXHJcbi8vICAgICAgICAgICAgIG4gPSB0aGlzLldlYWtNYXAgfHwgdGhpcy5Nb3pXZWFrTWFwIHx8IChuID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jdGlvbiB0KCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5cyA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtdXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlLCBuLCBpLCBvLCBhO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAoYSA9IHRoaXMua2V5cyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gaSA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGEubGVuZ3RoOyBvID4gaTsgZSA9ICsraSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPSBhW2VdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9PT0gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tlXVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBpLCBvLCBhLCBzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHMgPSB0aGlzLmtleXMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBvID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHMubGVuZ3RoOyBhID4gbzsgbiA9ICsrbylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID0gc1tuXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSB0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkICh0aGlzLnZhbHVlc1tuXSA9IGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlzLnB1c2godCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0XHJcbi8vICAgICAgICAgICAgIH0oKSksXHJcbi8vICAgICAgICAgICAgIHQgPSB0aGlzLk11dGF0aW9uT2JzZXJ2ZXIgfHwgdGhpcy5XZWJraXRNdXRhdGlvbk9ic2VydmVyIHx8IHRoaXMuTW96TXV0YXRpb25PYnNlcnZlciB8fCAodCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdCgpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLlwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV09XLmpzIGNhbm5vdCBkZXRlY3QgZG9tIG11dGF0aW9ucywgcGxlYXNlIGNhbGwgLnN5bmMoKSBhZnRlciBsb2FkaW5nIG5ldyBjb250ZW50LlwiKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHQubm90U3VwcG9ydGVkID0gITAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKCkge31cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdFxyXG4vLyAgICAgICAgICAgICB9KCkpLFxyXG4vLyAgICAgICAgICAgICB0aGlzLldPVyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYSh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSB0ICYmICh0ID0ge30pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENhbGxiYWNrID0gaSh0aGlzLnNjcm9sbENhbGxiYWNrLCB0aGlzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyID0gaSh0aGlzLnNjcm9sbEhhbmRsZXIsIHRoaXMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gaSh0aGlzLnN0YXJ0LCB0aGlzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZCA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMudXRpbCgpLmV4dGVuZCh0LCB0aGlzLmRlZmF1bHRzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUgPSBuZXcgblxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGEucHJvdG90eXBlLmRlZmF1bHRzID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJveENsYXNzOiBcIndvd1wiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVDbGFzczogXCJhbmltYXRlZFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBtb2JpbGU6ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGxpdmU6ICEwXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnRlcmFjdGl2ZVwiID09PSAodCA9IGRvY3VtZW50LnJlYWR5U3RhdGUpIHx8IFwiY29tcGxldGVcIiA9PT0gdCA/IHRoaXMuc3RhcnQoKSA6IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHRoaXMuc3RhcnQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IFtdXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSwgbiwgaSwgbztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZCA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm94ZXMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQsIG4sIGksIG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY29uZmlnLmJveENsYXNzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGkubGVuZ3RoOyBuID4gdDsgdCsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGlbdF0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5wdXNoKGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhbGwodGhpcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGwgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQsIG4sIGksIG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRoaXMuYm94ZXMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBpLmxlbmd0aDsgbiA+IHQ7IHQrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBpW3RdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaChlKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKHRoaXMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm94ZXMubGVuZ3RoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQoKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U3R5bGUoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobyA9IHRoaXMuYm94ZXMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG8ubGVuZ3RoOyBpID4gbjsgbisrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gb1tuXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlTdHlsZShlLCAhMCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyLCAhMSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMuc2Nyb2xsSGFuZGxlciwgITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5zY3JvbGxDYWxsYmFjaywgNTApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5saXZlID8gbmV3IHQoZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgaSwgbywgYSwgcztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHMgPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gZS5sZW5ndGg7IGEgPiBvOyBvKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlW29dLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wdXNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0LCBlLCBvLCBhO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobyA9IGkuYWRkZWROb2RlcyB8fCBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gW10sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IG8ubGVuZ3RoOyBlID4gdDsgdCsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gb1t0XSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCh0aGlzLmRvU3luYyhuKSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FsbCh0KSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSh0aGlzKSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidHJlZTogITBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiB2b2lkIDBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcHBlZCA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyLCAhMSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnNjcm9sbEhhbmRsZXIsICExKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT0gdGhpcy5pbnRlcnZhbCA/IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCkgOiB2b2lkIDBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQubm90U3VwcG9ydGVkID8gdGhpcy5kb1N5bmModGhpcy5lbGVtZW50KSA6IHZvaWQgMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuZG9TeW5jID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSwgbiwgaSwgYSwgcztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IHQgJiYgKHQgPSB0aGlzLmVsZW1lbnQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEgIT09IHQubm9kZVR5cGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gdC5wYXJlbnROb2RlIHx8IHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY29uZmlnLmJveENsYXNzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubGVuZ3RoOyBpID4gbjsgbisrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBhW25dLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNhbGwodGhpcy5hbGwsIGUpIDwgMCA/ICh0aGlzLmFwcGx5U3R5bGUoZSwgITApLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3hlcy5wdXNoKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGwucHVzaChlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucHVzaCh0aGlzLnNjcm9sbGVkID0gITApKSA6IHMucHVzaCh2b2lkIDApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlTdHlsZSh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xhc3NOYW1lID0gXCJcIiArIHQuY2xhc3NOYW1lICsgXCIgXCIgKyB0aGlzLmNvbmZpZy5hbmltYXRlQ2xhc3NcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBpLCBvO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA9IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS13b3ctZHVyYXRpb25cIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdvdy1kZWxheVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSB0LmdldEF0dHJpYnV0ZShcImRhdGEtd293LWl0ZXJhdGlvblwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShmdW5jdGlvbihhKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5jdXN0b21TdHlsZSh0LCBlLCBpLCBuLCBvKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odGhpcykpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiaW4gd2luZG93ID8gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLnJlc2V0U3R5bGUgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQsIGUsIG4sIGksIG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRoaXMuYm94ZXMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBpLmxlbmd0aDsgbiA+IGU7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBpW2VdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaCh0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwidmlzaWJpbGl0eTogdmlzaWJsZTtcIikpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuY3VzdG9tU3R5bGUgPSBmdW5jdGlvbih0LCBlLCBuLCBpLCBvKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIHRoaXMuY2FjaGVBbmltYXRpb25OYW1lKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5zdHlsZS52aXNpYmlsaXR5ID0gZSA/IFwiaGlkZGVuXCIgOiBcInZpc2libGVcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbiAmJiB0aGlzLnZlbmRvclNldCh0LnN0eWxlLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiB0aGlzLnZlbmRvclNldCh0LnN0eWxlLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EZWxheTogaVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbyAmJiB0aGlzLnZlbmRvclNldCh0LnN0eWxlLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogb1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVuZG9yU2V0KHQuc3R5bGUsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25OYW1lOiBlID8gXCJub25lXCIgOiB0aGlzLmNhY2hlZEFuaW1hdGlvbk5hbWUodClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUudmVuZG9ycyA9IFtcIm1velwiLCBcIndlYmtpdFwiXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS52ZW5kb3JTZXQgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBpLCBvLCBhO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhID0gW107XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobiBpbiBlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGVbbl0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIlwiICsgbl0gPSBpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUsIGEsIHMsIHI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocyA9IHRoaXMudmVuZG9ycyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHMubGVuZ3RoOyBhID4gZTsgZSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHNbZV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5wdXNoKHRbXCJcIiArIG8gKyBuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbi5zdWJzdHIoMSldID0gaSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FsbCh0aGlzKSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS52ZW5kb3JDU1MgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBpLCBvLCBhLCBzLCByO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGkuZ2V0UHJvcGVydHlDU1NWYWx1ZShlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IHRoaXMudmVuZG9ycyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSByLmxlbmd0aDsgcyA+IGE7IGErKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSByW2FdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBuIHx8IGkuZ2V0UHJvcGVydHlDU1NWYWx1ZShcIi1cIiArIG8gKyBcIi1cIiArIGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuYW5pbWF0aW9uTmFtZSA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gdGhpcy52ZW5kb3JDU1ModCwgXCJhbmltYXRpb24tbmFtZVwiKS5jc3NUZXh0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiYW5pbWF0aW9uLW5hbWVcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJub25lXCIgPT09IGUgPyBcIlwiIDogZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuY2FjaGVBbmltYXRpb25OYW1lID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUuc2V0KHQsIHRoaXMuYW5pbWF0aW9uTmFtZSh0KSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLmNhY2hlZEFuaW1hdGlvbk5hbWUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbk5hbWVDYWNoZS5nZXQodClcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLnNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZWQgPSAhMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYS5wcm90b3R5cGUuc2Nyb2xsQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zY3JvbGxlZCB8fCAodGhpcy5zY3JvbGxlZCA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3hlcyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlLCBuLCBpLCBvO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRoaXMuYm94ZXMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBpLmxlbmd0aDsgbiA+IGU7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGlbZV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgJiYgKHRoaXMuaXNWaXNpYmxlKHQpID8gdGhpcy5zaG93KHQpIDogby5wdXNoKHQpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKHRoaXMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJveGVzLmxlbmd0aCB8fCB0aGlzLmNvbmZpZy5saXZlKSA/IHZvaWQgMCA6IHRoaXMuc3RvcCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS5vZmZzZXRUb3AgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGU7IHZvaWQgMCA9PT0gdC5vZmZzZXRUb3A7IClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZSA9IHQub2Zmc2V0VG9wOyB0ID0gdC5vZmZzZXRQYXJlbnQ7IClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgKz0gdC5vZmZzZXRUb3A7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlLCBuLCBpLCBvLCBhO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiA9IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS13b3ctb2Zmc2V0XCIpIHx8IHRoaXMuY29uZmlnLm9mZnNldCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSB3aW5kb3cucGFnZVlPZmZzZXQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSArIE1hdGgubWluKHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQsIGlubmVySGVpZ2h0KSAtIG4sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdGhpcy5vZmZzZXRUb3AodCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gaSArIHQuY2xpZW50SGVpZ2h0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvID49IGkgJiYgZSA+PSBhXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS51dGlsID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsICE9IHRoaXMuX3V0aWwgPyB0aGlzLl91dGlsIDogdGhpcy5fdXRpbCA9IG5ldyBlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICBhLnByb3RvdHlwZS5kaXNhYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuY29uZmlnLm1vYmlsZSAmJiB0aGlzLnV0aWwoKS5pc01vYmlsZShuYXZpZ2F0b3IudXNlckFnZW50KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYVxyXG4vLyAgICAgICAgICAgICB9KClcclxuLy8gICAgIH1cclxuLy8gICAgICAgICAuY2FsbCh0aGlzKSxcclxuLy8gICAgIGZ1bmN0aW9uKHQsIGUsIG4pIHtcclxuLy8gICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuLy8gICAgICAgICB2YXIgaSA9IHQuZG9jdW1lbnQsIG8gPSB0Lk1vZGVybml6ciwgYSA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0LnNsaWNlKDEpXHJcbi8vICAgICAgICAgfSwgcyA9IFwiTW96IFdlYmtpdCBPIE1zXCIuc3BsaXQoXCIgXCIpLCByID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICB2YXIgZSA9IGkuZG9jdW1lbnRFbGVtZW50LnN0eWxlLCBuO1xyXG4vLyAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVt0XSlcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0O1xyXG4vLyAgICAgICAgICAgICB0ID0gYSh0KTtcclxuLy8gICAgICAgICAgICAgZm9yICh2YXIgbyA9IDAsIHIgPSBzLmxlbmd0aDsgciA+IG87IG8rKylcclxuLy8gICAgICAgICAgICAgICAgIGlmIChuID0gc1tvXSArIHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVtuXSlcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gblxyXG4vLyAgICAgICAgIH0sIGwgPSByKFwidHJhbnNmb3JtXCIpLCB1ID0gcihcInRyYW5zaXRpb25Qcm9wZXJ0eVwiKSwgYyA9IHtcclxuLy8gICAgICAgICAgICAgY3NzdHJhbnNmb3JtczogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gISFsXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIGNzc3RyYW5zZm9ybXMzZDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdCA9ICEhcihcInBlcnNwZWN0aXZlXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFwiIC1vLSAtbW96LSAtbXMtIC13ZWJraXQtIC1raHRtbC0gXCIuc3BsaXQoXCIgXCIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IFwiQG1lZGlhIChcIiArIG4uam9pbihcInRyYW5zZm9ybS0zZCksKFwiKSArIFwibW9kZXJuaXpyKVwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IGUoXCI8c3R5bGU+XCIgKyBpICsgXCJ7I21vZGVybml6cntoZWlnaHQ6M3B4fX08L3N0eWxlPlwiKS5hcHBlbmRUbyhcImhlYWRcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gZSgnPGRpdiBpZD1cIm1vZGVybml6clwiIC8+JykuYXBwZW5kVG8oXCJodG1sXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQgPSAzID09PSBhLmhlaWdodCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhLnJlbW92ZSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvLnJlbW92ZSgpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdFxyXG4vLyAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICBjc3N0cmFuc2l0aW9uczogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gISF1XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9LCBkO1xyXG4vLyAgICAgICAgIGlmIChvKVxyXG4vLyAgICAgICAgICAgICBmb3IgKGQgaW4gYylcclxuLy8gICAgICAgICAgICAgICAgIG8uaGFzT3duUHJvcGVydHkoZCkgfHwgby5hZGRUZXN0KGQsIGNbZF0pO1xyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBvID0gdC5Nb2Rlcm5penIgPSB7XHJcbi8vICAgICAgICAgICAgICAgICBfdmVyc2lvbjogXCIxLjZpc2g6IG1pbmlNb2Rlcm5penIgZm9yIElzb3RvcGVcIlxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICB2YXIgcCA9IFwiIFwiLCBoO1xyXG4vLyAgICAgICAgICAgICBmb3IgKGQgaW4gYylcclxuLy8gICAgICAgICAgICAgICAgIGggPSBjW2RdKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgb1tkXSA9IGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcCArPSBcIiBcIiArIChoID8gXCJcIiA6IFwibm8tXCIpICsgZDtcclxuLy8gICAgICAgICAgICAgZShcImh0bWxcIikuYWRkQ2xhc3MocClcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgaWYgKG8uY3NzdHJhbnNmb3Jtcykge1xyXG4vLyAgICAgICAgICAgICB2YXIgZiA9IG8uY3NzdHJhbnNmb3JtczNkID8ge1xyXG4vLyAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlM2QoXCIgKyB0WzBdICsgXCJweCwgXCIgKyB0WzFdICsgXCJweCwgMCkgXCJcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBzY2FsZTogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNjYWxlM2QoXCIgKyB0ICsgXCIsIFwiICsgdCArIFwiLCAxKSBcIlxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9IDoge1xyXG4vLyAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgdFswXSArIFwicHgsIFwiICsgdFsxXSArIFwicHgpIFwiXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgc2NhbGU6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzY2FsZShcIiArIHQgKyBcIikgXCJcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLCB2ID0gZnVuY3Rpb24odCwgbiwgaSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG8gPSBlLmRhdGEodCwgXCJpc29UcmFuc2Zvcm1cIikgfHwge30sIGEgPSB7fSwgcywgciA9IHt9LCB1O1xyXG4vLyAgICAgICAgICAgICAgICAgYVtuXSA9IGksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5leHRlbmQobywgYSk7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKHMgaW4gbylcclxuLy8gICAgICAgICAgICAgICAgICAgICB1ID0gb1tzXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcltzXSA9IGZbc10odSk7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgYyA9IHIudHJhbnNsYXRlIHx8IFwiXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIGQgPSByLnNjYWxlIHx8IFwiXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIHAgPSBjICsgZDtcclxuLy8gICAgICAgICAgICAgICAgIGUuZGF0YSh0LCBcImlzb1RyYW5zZm9ybVwiLCBvKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LnN0eWxlW2xdID0gcFxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICBlLmNzc051bWJlci5zY2FsZSA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5jc3NIb29rcy5zY2FsZSA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdih0LCBcInNjYWxlXCIsIGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKHQsIG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBlLmRhdGEodCwgXCJpc29UcmFuc2Zvcm1cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpICYmIGkuc2NhbGUgPyBpLnNjYWxlIDogMVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBlLmZ4LnN0ZXAuc2NhbGUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5jc3NIb29rcy5zY2FsZS5zZXQodC5lbGVtLCB0Lm5vdyArIHQudW5pdClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIGUuY3NzTnVtYmVyLnRyYW5zbGF0ZSA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5jc3NIb29rcy50cmFuc2xhdGUgPSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHYodCwgXCJ0cmFuc2xhdGVcIiwgZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24odCwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGUuZGF0YSh0LCBcImlzb1RyYW5zZm9ybVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgJiYgaS50cmFuc2xhdGUgPyBpLnRyYW5zbGF0ZSA6IFswLCAwXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgdmFyIG0sIGc7XHJcbi8vICAgICAgICAgby5jc3N0cmFuc2l0aW9ucyAmJiAobSA9IHtcclxuLy8gICAgICAgICAgICAgV2Via2l0VHJhbnNpdGlvblByb3BlcnR5OiBcIndlYmtpdFRyYW5zaXRpb25FbmRcIixcclxuLy8gICAgICAgICAgICAgTW96VHJhbnNpdGlvblByb3BlcnR5OiBcInRyYW5zaXRpb25lbmRcIixcclxuLy8gICAgICAgICAgICAgT1RyYW5zaXRpb25Qcm9wZXJ0eTogXCJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZFwiLFxyXG4vLyAgICAgICAgICAgICB0cmFuc2l0aW9uUHJvcGVydHk6IFwidHJhbnNpdGlvbmVuZFwiXHJcbi8vICAgICAgICAgfVt1XSxcclxuLy8gICAgICAgICAgICAgZyA9IHIoXCJ0cmFuc2l0aW9uRHVyYXRpb25cIikpO1xyXG4vLyAgICAgICAgIHZhciB5ID0gZS5ldmVudCwgdyA9IGUuZXZlbnQuaGFuZGxlID8gXCJoYW5kbGVcIiA6IFwiZGlzcGF0Y2hcIiwgYjtcclxuLy8gICAgICAgICB5LnNwZWNpYWwuc21hcnRyZXNpemUgPSB7XHJcbi8vICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIGUodGhpcykuYmluZChcInJlc2l6ZVwiLCB5LnNwZWNpYWwuc21hcnRyZXNpemUuaGFuZGxlcilcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgdGVhcmRvd246IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgZSh0aGlzKS51bmJpbmQoXCJyZXNpemVcIiwgeS5zcGVjaWFsLnNtYXJ0cmVzaXplLmhhbmRsZXIpXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBuID0gdGhpc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgaSA9IGFyZ3VtZW50cztcclxuLy8gICAgICAgICAgICAgICAgIHQudHlwZSA9IFwic21hcnRyZXNpemVcIixcclxuLy8gICAgICAgICAgICAgICAgIGIgJiYgY2xlYXJUaW1lb3V0KGIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB5W3ddLmFwcGx5KG4sIGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSwgXCJleGVjQXNhcFwiID09PSBlID8gMCA6IDEwMClcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIGUuZm4uc21hcnRyZXNpemUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdCA/IHRoaXMuYmluZChcInNtYXJ0cmVzaXplXCIsIHQpIDogdGhpcy50cmlnZ2VyKFwic21hcnRyZXNpemVcIiwgW1wiZXhlY0FzYXBcIl0pXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICBlLklzb3RvcGUgPSBmdW5jdGlvbih0LCBuLCBpKSB7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlKG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZSh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0KGkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICA7XHJcbi8vICAgICAgICAgdmFyIHggPSBbXCJ3aWR0aFwiLCBcImhlaWdodFwiXVxyXG4vLyAgICAgICAgICAgICAsIFMgPSBlKHQpO1xyXG4vLyAgICAgICAgIGUuSXNvdG9wZS5zZXR0aW5ncyA9IHtcclxuLy8gICAgICAgICAgICAgcmVzaXphYmxlOiAhMCxcclxuLy8gICAgICAgICAgICAgbGF5b3V0TW9kZTogXCJtYXNvbnJ5XCIsXHJcbi8vICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzOiBcImlzb3RvcGVcIixcclxuLy8gICAgICAgICAgICAgaXRlbUNsYXNzOiBcImlzb3RvcGUtaXRlbVwiLFxyXG4vLyAgICAgICAgICAgICBoaWRkZW5DbGFzczogXCJpc290b3BlLWhpZGRlblwiLFxyXG4vLyAgICAgICAgICAgICBoaWRkZW5TdHlsZToge1xyXG4vLyAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcclxuLy8gICAgICAgICAgICAgICAgIHNjYWxlOiAuMDAxXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIHZpc2libGVTdHlsZToge1xyXG4vLyAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuLy8gICAgICAgICAgICAgICAgIHNjYWxlOiAxXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlOiB7XHJcbi8vICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgYW5pbWF0aW9uRW5naW5lOiBcImJlc3QtYXZhaWxhYmxlXCIsXHJcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgIHF1ZXVlOiAhMSxcclxuLy8gICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgc29ydEJ5OiBcIm9yaWdpbmFsLW9yZGVyXCIsXHJcbi8vICAgICAgICAgICAgIHNvcnRBc2NlbmRpbmc6ICEwLFxyXG4vLyAgICAgICAgICAgICByZXNpemVzQ29udGFpbmVyOiAhMCxcclxuLy8gICAgICAgICAgICAgdHJhbnNmb3Jtc0VuYWJsZWQ6ICEwLFxyXG4vLyAgICAgICAgICAgICBpdGVtUG9zaXRpb25EYXRhRW5hYmxlZDogITFcclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICBlLklzb3RvcGUucHJvdG90eXBlID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgX2NyZWF0ZTogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGUuZXh0ZW5kKHt9LCBlLklzb3RvcGUuc2V0dGluZ3MsIHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0eWxlUXVldWUgPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtQ291bnQgPSAwO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5lbGVtZW50WzBdLnN0eWxlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxTdHlsZSA9IHt9O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBpID0geC5zbGljZSgwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS5wdXNoKG8pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwLCBzID0gaS5sZW5ndGg7IHMgPiBhOyBhKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBpW2FdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFN0eWxlW29dID0gbltvXSB8fCBcIlwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jc3ModGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQW5pbWF0aW9uRW5naW5lKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVVzaW5nVHJhbnNmb3JtcygpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciByID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsLW9yZGVyXCI6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmVsZW1Db3VudCsrLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZWxlbUNvdW50XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbTogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZ2V0U29ydERhdGEgPSBlLmV4dGVuZCh0aGlzLm9wdGlvbnMuZ2V0U29ydERhdGEsIHIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZEl0ZW1zKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctbGVmdFwiKSB8fCAwLCAxMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoXCJwYWRkaW5nLXRvcFwiKSB8fCAwLCAxMClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IHRoaXM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbC5lbGVtZW50LmFkZENsYXNzKGwub3B0aW9ucy5jb250YWluZXJDbGFzcylcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LCAwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucmVzaXphYmxlICYmIFMuYmluZChcInNtYXJ0cmVzaXplLmlzb3RvcGVcIiwgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGwucmVzaXplKClcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlbGVnYXRlKFwiLlwiICsgdGhpcy5vcHRpb25zLmhpZGRlbkNsYXNzLCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2dldEF0b21zOiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbiA9IGUgPyB0LmZpbHRlcihlKS5hZGQodC5maW5kKGUpKSA6IHRcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBpID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiA9IG4uZmlsdGVyKGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgPT09IGUubm9kZVR5cGVcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnVzaW5nVHJhbnNmb3JtcyAmJiAoaS5sZWZ0ID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaS50b3AgPSAwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5jc3MoaSkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLml0ZW1DbGFzcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU29ydERhdGEobiwgITApLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2luaXQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLiRmaWx0ZXJlZEF0b21zID0gdGhpcy5fZmlsdGVyKHRoaXMuJGFsbEF0b21zKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc29ydCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlTGF5b3V0KHQpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgb3B0aW9uOiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKGUuaXNQbGFpbk9iamVjdCh0KSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBlLmV4dGVuZCghMCwgdGhpcy5vcHRpb25zLCB0KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG47XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBcIl91cGRhdGVcIiArIGEoaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW25dICYmIHRoaXNbbl0oKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfdXBkYXRlQW5pbWF0aW9uRW5naW5lOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5hbmltYXRpb25FbmdpbmUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bIF9cXC1dL2csIFwiXCIpLCBlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3NzXCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gITE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImpxdWVyeVwiOlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9ICEwO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gIW8uY3NzdHJhbnNpdGlvbnNcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uID0gZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXNpbmdUcmFuc2Zvcm1zKClcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfdXBkYXRlVHJhbnNmb3Jtc0VuYWJsZWQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVVzaW5nVHJhbnNmb3JtcygpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3VwZGF0ZVVzaW5nVHJhbnNmb3JtczogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLnVzaW5nVHJhbnNmb3JtcyA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1zRW5hYmxlZCAmJiBvLmNzc3RyYW5zZm9ybXMgJiYgby5jc3N0cmFuc2l0aW9ucyAmJiAhdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQgfHwgKGRlbGV0ZSB0aGlzLm9wdGlvbnMuaGlkZGVuU3R5bGUuc2NhbGUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMudmlzaWJsZVN0eWxlLnNjYWxlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvblN0eWxlcyA9IHQgPyB0aGlzLl90cmFuc2xhdGUgOiB0aGlzLl9wb3NpdGlvbkFic1xyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9maWx0ZXI6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IFwiXCIgPT09IHRoaXMub3B0aW9ucy5maWx0ZXIgPyBcIipcIiA6IHRoaXMub3B0aW9ucy5maWx0ZXI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKCFlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXMub3B0aW9ucy5oaWRkZW5DbGFzc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBcIi5cIiArIG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gdC5maWx0ZXIoaSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gbztcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZiAoXCIqXCIgIT09IGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG8uZmlsdGVyKGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHQubm90KGkpLm5vdChlKS5hZGRDbGFzcyhuKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZVF1ZXVlLnB1c2goe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVsOiBzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHRoaXMub3B0aW9ucy5oaWRkZW5TdHlsZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZVF1ZXVlLnB1c2goe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAkZWw6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzLm9wdGlvbnMudmlzaWJsZVN0eWxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGEucmVtb3ZlQ2xhc3MobiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuZmlsdGVyKGUpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgdXBkYXRlU29ydERhdGE6IGZ1bmN0aW9uKHQsIG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHRoaXMsIG8gPSB0aGlzLm9wdGlvbnMuZ2V0U29ydERhdGEsIGEsIHM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhID0gZSh0aGlzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSB7fTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCBpbiBvKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc1t0XSA9IG4gfHwgXCJvcmlnaW5hbC1vcmRlclwiICE9PSB0ID8gb1t0XShhLCBpKSA6IGUuZGF0YSh0aGlzLCBcImlzb3RvcGUtc29ydC1kYXRhXCIpW3RdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEodGhpcywgXCJpc290b3BlLXNvcnQtZGF0YVwiLCBzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3NvcnQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5vcHRpb25zLnNvcnRCeVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGUgPSB0aGlzLl9nZXRTb3J0ZXJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBuID0gdGhpcy5vcHRpb25zLnNvcnRBc2NlbmRpbmcgPyAxIDogLTFcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBpID0gZnVuY3Rpb24oaSwgbykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGUoaSwgdClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgcyA9IGUobywgdCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhID09PSBzICYmIFwib3JpZ2luYWwtb3JkZXJcIiAhPT0gdCAmJiAoYSA9IGUoaSwgXCJvcmlnaW5hbC1vcmRlclwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBlKG8sIFwib3JpZ2luYWwtb3JkZXJcIikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAoYSA+IHMgPyAxIDogcyA+IGEgPyAtMSA6IDApICogblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZmlsdGVyZWRBdG9tcy5zb3J0KGkpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2dldFNvcnRlcjogZnVuY3Rpb24odCwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmRhdGEodCwgXCJpc290b3BlLXNvcnQtZGF0YVwiKVtuXVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF90cmFuc2xhdGU6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IFt0LCBlXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfcG9zaXRpb25BYnM6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGVcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3B1c2hQb3NpdGlvbjogZnVuY3Rpb24odCwgZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUgPSBNYXRoLnJvdW5kKGUgKyB0aGlzLm9mZnNldC5sZWZ0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbiA9IE1hdGgucm91bmQobiArIHRoaXMub2Zmc2V0LnRvcCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmdldFBvc2l0aW9uU3R5bGVzKGUsIG4pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVRdWV1ZS5wdXNoKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgJGVsOiB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogaVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5pdGVtUG9zaXRpb25EYXRhRW5hYmxlZCAmJiB0LmRhdGEoXCJpc290b3BlLWl0ZW0tcG9zaXRpb25cIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB4OiBlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB5OiBuXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBsYXlvdXQ6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXMub3B0aW9ucy5sYXlvdXRNb2RlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW1wiX1wiICsgbiArIFwiTGF5b3V0XCJdKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlc2l6ZXNDb250YWluZXIpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzW1wiX1wiICsgbiArIFwiR2V0Q29udGFpbmVyU2l6ZVwiXSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0eWxlUXVldWUucHVzaCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWw6IHRoaXMuZWxlbWVudCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NTdHlsZVF1ZXVlKHQsIGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGFpZE91dCA9ICEwXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3Byb2Nlc3NTdHlsZVF1ZXVlOiBmdW5jdGlvbih0LCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmlzTGFpZE91dCAmJiB0aGlzLmlzVXNpbmdKUXVlcnlBbmltYXRpb24gPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIsIGEgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uT3B0aW9ucywgcyA9IHRoaXMub3B0aW9ucy5vbkxheW91dCwgciwgbCwgdSwgYztcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZiAobCA9IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuJGVsW2ldKGUuc3R5bGUsIGEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNJbnNlcnRpbmcgJiYgdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGUuJGVsLmhhc0NsYXNzKFwibm8tdHJhbnNpdGlvblwiKSA/IFwiY3NzXCIgOiBpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuJGVsW3JdKGUuc3R5bGUsIGEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG4gfHwgcyB8fCBhLmNvbXBsZXRlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gITFcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgcCA9IFtuLCBzLCBhLmNvbXBsZXRlXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBoID0gdGhpcztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUgPSAhMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZSwgbiA9IDAsIGkgPSBwLmxlbmd0aDsgaSA+IG47IG4rKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gcFtuXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUgJiYgZS5jYWxsKGguZWxlbWVudCwgdCwgaCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gITBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVXNpbmdKUXVlcnlBbmltYXRpb24gJiYgXCJhbmltYXRlXCIgPT09IGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmNvbXBsZXRlID0gYyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gITE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8uY3NzdHJhbnNpdGlvbnMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwLCB2ID0gdGhpcy5zdHlsZVF1ZXVlWzBdLCB5ID0gdiAmJiB2LiRlbCwgdzsgIXkgfHwgIXkubGVuZ3RoOyApIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA9IHRoaXMuc3R5bGVRdWV1ZVtmKytdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXcpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gdy4kZWxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKHlbMF0pW2ddKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPiAwICYmIChsID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuJGVsW2ldKGUuc3R5bGUsIGEpLm9uZShtLCBjKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gITEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5lYWNoKHRoaXMuc3R5bGVRdWV1ZSwgbCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdSAmJiBjKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVRdWV1ZSA9IFtdXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzW1wiX1wiICsgdGhpcy5vcHRpb25zLmxheW91dE1vZGUgKyBcIlJlc2l6ZUNoYW5nZWRcIl0oKSAmJiB0aGlzLnJlTGF5b3V0KClcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICByZUxheW91dDogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXNbXCJfXCIgKyB0aGlzLm9wdGlvbnMubGF5b3V0TW9kZSArIFwiUmVzZXRcIl0oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQodGhpcy4kZmlsdGVyZWRBdG9tcywgdClcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBhZGRJdGVtczogZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5fZ2V0QXRvbXModCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy4kYWxsQXRvbXMgPSB0aGlzLiRhbGxBdG9tcy5hZGQobiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZSAmJiBlKG4pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgaW5zZXJ0OiBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCh0KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJdGVtcyh0LCBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbi5fZmlsdGVyKHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuLl9hZGRIaWRlQXBwZW5kZWQoaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLl9zb3J0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnJlTGF5b3V0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLl9yZXZlYWxBcHBlbmRlZChpLCBlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgYXBwZW5kZWQ6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJdGVtcyh0LCBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4uX2FkZEhpZGVBcHBlbmRlZCh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ubGF5b3V0KHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5fcmV2ZWFsQXBwZW5kZWQodCwgZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9hZGRIaWRlQXBwZW5kZWQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLiRmaWx0ZXJlZEF0b21zID0gdGhpcy4kZmlsdGVyZWRBdG9tcy5hZGQodCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQuYWRkQ2xhc3MoXCJuby10cmFuc2l0aW9uXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0luc2VydGluZyA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0eWxlUXVldWUucHVzaCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWw6IHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5vcHRpb25zLmhpZGRlblN0eWxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3JldmVhbEFwcGVuZGVkOiBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQucmVtb3ZlQ2xhc3MoXCJuby10cmFuc2l0aW9uXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5zdHlsZVF1ZXVlLnB1c2goe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbDogdCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogbi5vcHRpb25zLnZpc2libGVTdHlsZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLl9pc0luc2VydGluZyA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5fcHJvY2Vzc1N0eWxlUXVldWUodCwgZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LCAxMClcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICByZWxvYWRJdGVtczogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy4kYWxsQXRvbXMgPSB0aGlzLl9nZXRBdG9tcyh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLiRhbGxBdG9tcyA9IHRoaXMuJGFsbEF0b21zLm5vdCh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZmlsdGVyZWRBdG9tcyA9IHRoaXMuJGZpbHRlcmVkQXRvbXMubm90KHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5yZW1vdmUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZSAmJiBlLmNhbGwobi5lbGVtZW50KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5maWx0ZXIoXCI6bm90KC5cIiArIHRoaXMub3B0aW9ucy5oaWRkZW5DbGFzcyArIFwiKVwiKS5sZW5ndGggPyAodGhpcy5zdHlsZVF1ZXVlLnB1c2goe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAkZWw6IHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzLm9wdGlvbnMuaGlkZGVuU3R5bGVcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc29ydCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlTGF5b3V0KGkpKSA6IGkoKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIHNodWZmbGU6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNvcnREYXRhKHRoaXMuJGFsbEF0b21zKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNvcnRCeSA9IFwicmFuZG9tXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvcnQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZUxheW91dCh0KVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy51c2luZ1RyYW5zZm9ybXNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBlID0gdGhpcy5vcHRpb25zO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGFsbEF0b21zLnJlbW92ZUNsYXNzKGUuaGlkZGVuQ2xhc3MgKyBcIiBcIiArIGUuaXRlbUNsYXNzKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMuc3R5bGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUucG9zaXRpb24gPSBcIlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50b3AgPSBcIlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5sZWZ0ID0gXCJcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUub3BhY2l0eSA9IFwiXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQgJiYgKGVbbF0gPSBcIlwiKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5lbGVtZW50WzBdLnN0eWxlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5vcmlnaW5hbFN0eWxlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuW2ldID0gdGhpcy5vcmlnaW5hbFN0eWxlW2ldO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC51bmJpbmQoXCIuaXNvdG9wZVwiKS51bmRlbGVnYXRlKFwiLlwiICsgZS5oaWRkZW5DbGFzcywgXCJjbGlja1wiKS5yZW1vdmVDbGFzcyhlLmNvbnRhaW5lckNsYXNzKS5yZW1vdmVEYXRhKFwiaXNvdG9wZVwiKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgUy51bmJpbmQoXCIuaXNvdG9wZVwiKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9nZXRTZWdtZW50czogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5vcHRpb25zLmxheW91dE1vZGUsIG4gPSB0ID8gXCJyb3dIZWlnaHRcIiA6IFwiY29sdW1uV2lkdGhcIiwgaSA9IHQgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLCBvID0gdCA/IFwicm93c1wiIDogXCJjb2xzXCIsIHMgPSB0aGlzLmVsZW1lbnRbaV0oKSwgciwgbCA9IHRoaXMub3B0aW9uc1tlXSAmJiB0aGlzLm9wdGlvbnNbZV1bbl0gfHwgdGhpcy4kZmlsdGVyZWRBdG9tc1tcIm91dGVyXCIgKyBhKGkpXSghMCkgfHwgcztcclxuLy8gICAgICAgICAgICAgICAgICAgICByID0gTWF0aC5mbG9vcihzIC8gbCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBNYXRoLm1heChyLCAxKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tlXVtvXSA9IHIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbZV1bbl0gPSBsXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NoZWNrSWZTZWdtZW50c0NoYW5nZWQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMub3B0aW9ucy5sYXlvdXRNb2RlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbiA9IHQgPyBcInJvd3NcIiA6IFwiY29sc1wiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IHRoaXNbZV1bbl07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNlZ21lbnRzKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXNbZV1bbl0gIT09IGlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfbWFzb25yeVJlc2V0OiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLm1hc29ucnkgPSB7fSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2VnbWVudHMoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMubWFzb25yeS5jb2xzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodGhpcy5tYXNvbnJ5LmNvbFlzID0gW107IHQtLTsgKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hc29ucnkuY29sWXMucHVzaCgwKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9tYXNvbnJ5TGF5b3V0OiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IG4ubWFzb25yeTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LmVhY2goZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZSh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gTWF0aC5jZWlsKHQub3V0ZXJXaWR0aCghMCkgLyBpLmNvbHVtbldpZHRoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPSBNYXRoLm1pbihvLCBpLmNvbHMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSA9PT0gbylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uX21hc29ucnlQbGFjZUJyaWNrKHQsIGkuY29sWXMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gaS5jb2xzICsgMSAtIG8sIHMgPSBbXSwgciwgbDtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobCA9IDA7IGEgPiBsOyBsKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGkuY29sWXMuc2xpY2UobCwgbCArIG8pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzW2xdID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgcik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLl9tYXNvbnJ5UGxhY2VCcmljayh0LCBzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfbWFzb25yeVBsYWNlQnJpY2s6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZSksIGkgPSAwLCBvID0gMCwgYSA9IGUubGVuZ3RoOyBhID4gbzsgbysrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZVtvXSA9PT0gbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLm1hc29ucnkuY29sdW1uV2lkdGggKiBpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgciA9IG47XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHVzaFBvc2l0aW9uKHQsIHMsIHIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gbiArIHQub3V0ZXJIZWlnaHQoITApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgdSA9IHRoaXMubWFzb25yeS5jb2xzICsgMSAtIGE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChvID0gMDsgdSA+IG87IG8rKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXNvbnJ5LmNvbFlzW2kgKyBvXSA9IGxcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfbWFzb25yeUdldENvbnRhaW5lclNpemU6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdGhpcy5tYXNvbnJ5LmNvbFlzKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX21hc29ucnlSZXNpemVDaGFuZ2VkOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZCgpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2ZpdFJvd3NSZXNldDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXRSb3dzID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2ZpdFJvd3NMYXlvdXQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBpID0gdGhpcy5lbGVtZW50LndpZHRoKClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gdGhpcy5maXRSb3dzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlKHRoaXMpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGEgPSB0Lm91dGVyV2lkdGgoITApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHMgPSB0Lm91dGVySGVpZ2h0KCEwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgMCAhPT0gby54ICYmIGEgKyBvLnggPiBpICYmIChvLnggPSAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby55ID0gby5oZWlnaHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5fcHVzaFBvc2l0aW9uKHQsIG8ueCwgby55KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uaGVpZ2h0ID0gTWF0aC5tYXgoby55ICsgcywgby5oZWlnaHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby54ICs9IGFcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9maXRSb3dzR2V0Q29udGFpbmVyU2l6ZTogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmZpdFJvd3MuaGVpZ2h0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9maXRSb3dzUmVzaXplQ2hhbmdlZDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NlbGxzQnlSb3dSZXNldDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZWxsc0J5Um93ID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFNlZ21lbnRzKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFNlZ21lbnRzKCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9jZWxsc0J5Um93TGF5b3V0OiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IHRoaXMuY2VsbHNCeVJvdztcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LmVhY2goZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZSh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvID0gaS5pbmRleCAlIGkuY29sc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gTWF0aC5mbG9vcihpLmluZGV4IC8gaS5jb2xzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzID0gKG8gKyAuNSkgKiBpLmNvbHVtbldpZHRoIC0gdC5vdXRlcldpZHRoKCEwKSAvIDJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgciA9IChhICsgLjUpICogaS5yb3dIZWlnaHQgLSB0Lm91dGVySGVpZ2h0KCEwKSAvIDI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4uX3B1c2hQb3NpdGlvbih0LCBzLCByKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaW5kZXgrK1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NlbGxzQnlSb3dHZXRDb250YWluZXJTaXplOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGguY2VpbCh0aGlzLiRmaWx0ZXJlZEF0b21zLmxlbmd0aCAvIHRoaXMuY2VsbHNCeVJvdy5jb2xzKSAqIHRoaXMuY2VsbHNCeVJvdy5yb3dIZWlnaHQgKyB0aGlzLm9mZnNldC50b3BcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NlbGxzQnlSb3dSZXNpemVDaGFuZ2VkOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZCgpXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3N0cmFpZ2h0RG93blJlc2V0OiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmFpZ2h0RG93biA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfc3RyYWlnaHREb3duTGF5b3V0OiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQuZWFjaChmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gZSh0aGlzKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5fcHVzaFBvc2l0aW9uKGksIDAsIG4uc3RyYWlnaHREb3duLnkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5zdHJhaWdodERvd24ueSArPSBpLm91dGVySGVpZ2h0KCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX3N0cmFpZ2h0RG93bkdldENvbnRhaW5lclNpemU6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5zdHJhaWdodERvd24ueVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfc3RyYWlnaHREb3duUmVzaXplQ2hhbmdlZDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX21hc29ucnlIb3Jpem9udGFsUmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFzb25yeUhvcml6b250YWwgPSB7fSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2VnbWVudHMoITApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dzO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcyA9IFtdOyB0LS07IClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcy5wdXNoKDApXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX21hc29ucnlIb3Jpem9udGFsTGF5b3V0OiBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IG4ubWFzb25yeUhvcml6b250YWw7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGUodGhpcylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IE1hdGguY2VpbCh0Lm91dGVySGVpZ2h0KCEwKSAvIGkucm93SGVpZ2h0KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPSBNYXRoLm1pbihvLCBpLnJvd3MpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSA9PT0gbylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uX21hc29ucnlIb3Jpem9udGFsUGxhY2VCcmljayh0LCBpLnJvd1hzKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGkucm93cyArIDEgLSBvLCBzID0gW10sIHIsIGw7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBhID4gbDsgbCsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBpLnJvd1hzLnNsaWNlKGwsIGwgKyBvKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc1tsXSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5fbWFzb25yeUhvcml6b250YWxQbGFjZUJyaWNrKHQsIHMpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9tYXNvbnJ5SG9yaXpvbnRhbFBsYWNlQnJpY2s6IGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZSksIGkgPSAwLCBvID0gMCwgYSA9IGUubGVuZ3RoOyBhID4gbzsgbysrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZVtvXSA9PT0gbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG87XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBuXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgciA9IHRoaXMubWFzb25yeUhvcml6b250YWwucm93SGVpZ2h0ICogaTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoUG9zaXRpb24odCwgcywgcik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBuICsgdC5vdXRlcldpZHRoKCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIHUgPSB0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd3MgKyAxIC0gYTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKG8gPSAwOyB1ID4gbzsgbysrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd1hzW2kgKyBvXSA9IGxcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfbWFzb25yeUhvcml6b250YWxHZXRDb250YWluZXJTaXplOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMubWFzb25yeUhvcml6b250YWwucm93WHMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9tYXNvbnJ5SG9yaXpvbnRhbFJlc2l6ZUNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja0lmU2VnbWVudHNDaGFuZ2VkKCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9maXRDb2x1bW5zUmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZml0Q29sdW1ucyA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeTogMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2ZpdENvbHVtbnNMYXlvdXQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBpID0gdGhpcy5lbGVtZW50LmhlaWdodCgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbyA9IHRoaXMuZml0Q29sdW1ucztcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LmVhY2goZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZSh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gdC5vdXRlcldpZHRoKCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzID0gdC5vdXRlckhlaWdodCghMCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDAgIT09IG8ueSAmJiBzICsgby55ID4gaSAmJiAoby54ID0gby53aWR0aCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ueSA9IDApLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5fcHVzaFBvc2l0aW9uKHQsIG8ueCwgby55KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ud2lkdGggPSBNYXRoLm1heChvLnggKyBhLCBvLndpZHRoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ueSArPSBzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfZml0Q29sdW1uc0dldENvbnRhaW5lclNpemU6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmZpdENvbHVtbnMud2lkdGhcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2ZpdENvbHVtbnNSZXNpemVDaGFuZ2VkOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gITBcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfY2VsbHNCeUNvbHVtblJlc2V0OiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzQnlDb2x1bW4gPSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2VnbWVudHMoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2VnbWVudHMoITApXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NlbGxzQnlDb2x1bW5MYXlvdXQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBpID0gdGhpcy5jZWxsc0J5Q29sdW1uO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlKHRoaXMpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG8gPSBNYXRoLmZsb29yKGkuaW5kZXggLyBpLnJvd3MpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGEgPSBpLmluZGV4ICUgaS5yb3dzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHMgPSAobyArIC41KSAqIGkuY29sdW1uV2lkdGggLSB0Lm91dGVyV2lkdGgoITApIC8gMlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByID0gKGEgKyAuNSkgKiBpLnJvd0hlaWdodCAtIHQub3V0ZXJIZWlnaHQoITApIC8gMjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5fcHVzaFBvc2l0aW9uKHQsIHMsIHIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pbmRleCsrXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfY2VsbHNCeUNvbHVtbkdldENvbnRhaW5lclNpemU6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLmNlaWwodGhpcy4kZmlsdGVyZWRBdG9tcy5sZW5ndGggLyB0aGlzLmNlbGxzQnlDb2x1bW4ucm93cykgKiB0aGlzLmNlbGxzQnlDb2x1bW4uY29sdW1uV2lkdGhcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgX2NlbGxzQnlDb2x1bW5SZXNpemVDaGFuZ2VkOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZCghMClcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfc3RyYWlnaHRBY3Jvc3NSZXNldDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJhaWdodEFjcm9zcyA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeDogMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfc3RyYWlnaHRBY3Jvc3NMYXlvdXQ6IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBlKHRoaXMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuLl9wdXNoUG9zaXRpb24oaSwgbi5zdHJhaWdodEFjcm9zcy54LCAwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uc3RyYWlnaHRBY3Jvc3MueCArPSBpLm91dGVyV2lkdGgoITApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBfc3RyYWlnaHRBY3Jvc3NHZXRDb250YWluZXJTaXplOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5zdHJhaWdodEFjcm9zcy54XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIF9zdHJhaWdodEFjcm9zc1Jlc2l6ZUNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMFxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICBlLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG4oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5jYWxsKG8sIGEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHQudGFyZ2V0O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG8uc3JjICE9PSByICYmIC0xID09PSBlLmluQXJyYXkobywgbCkgJiYgKGwucHVzaChvKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAtLXMgPD0gMCAmJiAoc2V0VGltZW91dChuKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYS51bmJpbmQoXCIuaW1hZ2VzTG9hZGVkXCIsIGkpKSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHZhciBvID0gdGhpc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgYSA9IG8uZmluZChcImltZ1wiKS5hZGQoby5maWx0ZXIoXCJpbWdcIikpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgLCBzID0gYS5sZW5ndGhcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIHIgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT1cIlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICwgbCA9IFtdO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHMgfHwgbigpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEuYmluZChcImxvYWQuaW1hZ2VzTG9hZGVkIGVycm9yLmltYWdlc0xvYWRlZFwiLCBpKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMuc3JjO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9IHIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9IHRcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBvXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICA7XHJcbi8vICAgICAgICAgdmFyIEMgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgIHQuY29uc29sZSAmJiB0LmNvbnNvbGUuZXJyb3IoZSlcclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgICAgIGUuZm4uaXNvdG9wZSA9IGZ1bmN0aW9uKHQsIG4pIHtcclxuLy8gICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBpID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGUuZGF0YSh0aGlzLCBcImlzb3RvcGVcIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4gPyBlLmlzRnVuY3Rpb24oblt0XSkgJiYgXCJfXCIgIT09IHQuY2hhckF0KDApID8gdm9pZCBuW3RdLmFwcGx5KG4sIGkpIDogdm9pZCBDKFwibm8gc3VjaCBtZXRob2QgJ1wiICsgdCArIFwiJyBmb3IgaXNvdG9wZSBpbnN0YW5jZVwiKSA6IHZvaWQgQyhcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gaXNvdG9wZSBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIiArIHQgKyBcIidcIilcclxuLy8gICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgIH0gZWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gZS5kYXRhKHRoaXMsIFwiaXNvdG9wZVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpID8gKGkub3B0aW9uKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpLl9pbml0KG4pKSA6IGUuZGF0YSh0aGlzLCBcImlzb3RvcGVcIiwgbmV3IGUuSXNvdG9wZSh0LHRoaXMsbikpXHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9KHdpbmRvdywgalF1ZXJ5KSxcclxuLy8gICAgICFmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgZnVuY3Rpb24gbih0KSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiID09IHR5cGVvZiB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGkodCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdFxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBvKHQpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCIgPT0gdHlwZW9mIHRcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gYSh0KSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0ID09PSBlXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHMoKSB7XHJcbi8vICAgICAgICAgICAgIEggPSBnb29nbGUubWFwcyxcclxuLy8gICAgICAgICAgICAgRCB8fCAoRCA9IHtcclxuLy8gICAgICAgICAgICAgICAgIHZlcmJvc2U6ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgcXVlcnlMaW1pdDoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHQ6IDUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDI1MCxcclxuLy8gICAgICAgICAgICAgICAgICAgICByYW5kb206IDI1MFxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzZXM6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0ge307XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuZWFjaChcIk1hcCBNYXJrZXIgSW5mb1dpbmRvdyBDaXJjbGUgUmVjdGFuZ2xlIE92ZXJsYXlWaWV3IFN0cmVldFZpZXdQYW5vcmFtYSBLbWxMYXllciBUcmFmZmljTGF5ZXIgQmljeWNsaW5nTGF5ZXIgR3JvdW5kT3ZlcmxheSBTdHlsZWRNYXBUeXBlIEltYWdlTWFwVHlwZVwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24odCwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlW25dID0gSFtuXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlXHJcbi8vICAgICAgICAgICAgICAgICB9KCksXHJcbi8vICAgICAgICAgICAgICAgICBtYXA6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IEguTWFwVHlwZUlkLlJPQURNQVAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBbNDYuNTc4NDk4LCAyLjQ1NzI3NV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgem9vbTogMlxyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIG92ZXJsYXk6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwYW5lOiBcImZsb2F0UGFuZVwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgZ2VvbG9jOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZ2V0Q3VycmVudFBvc2l0aW9uOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDZlNCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNWUzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiByKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGEodCkgPyBcImdtYXAzX1wiICsgKGUgPyBqICsgMSA6ICsraikgOiB0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGwodCkge1xyXG4vLyAgICAgICAgICAgICB2YXIgZSwgbiA9IEgudmVyc2lvbi5zcGxpdChcIi5cIik7XHJcbi8vICAgICAgICAgICAgIGZvciAodCA9IHQuc3BsaXQoXCIuXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICBlID0gMDsgZSA8IG4ubGVuZ3RoOyBlKyspXHJcbi8vICAgICAgICAgICAgICAgICBuW2VdID0gcGFyc2VJbnQobltlXSwgMTApO1xyXG4vLyAgICAgICAgICAgICBmb3IgKGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKHRbZV0gPSBwYXJzZUludCh0W2VdLCAxMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICFuLmhhc093blByb3BlcnR5KGUpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChuW2VdIDwgdFtlXSlcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gITFcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gITBcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gdShlLCBuLCBpLCBvLCBhKSB7XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIHMobiwgbykge1xyXG4vLyAgICAgICAgICAgICAgICAgbiAmJiB0LmVhY2gobiwgZnVuY3Rpb24odCwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIHIgPSBuO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIFIobikgJiYgKHMgPSBuWzBdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByID0gblsxXSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8oaSwgdCwgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5hcHBseShzLCBbYSB8fCBpLCB0LCBsXSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgdmFyIHIgPSBuLnRkIHx8IHt9XHJcbi8vICAgICAgICAgICAgICAgICAsIGwgPSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZDogbyxcclxuLy8gICAgICAgICAgICAgICAgIGRhdGE6IHIuZGF0YSxcclxuLy8gICAgICAgICAgICAgICAgIHRhZzogci50YWdcclxuLy8gICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgcyhyLmV2ZW50cywgSC5ldmVudC5hZGRMaXN0ZW5lciksXHJcbi8vICAgICAgICAgICAgICAgICBzKHIub25jZXMsIEguZXZlbnQuYWRkTGlzdGVuZXJPbmNlKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBjKHQpIHtcclxuLy8gICAgICAgICAgICAgdmFyIGUsIG4gPSBbXTtcclxuLy8gICAgICAgICAgICAgZm9yIChlIGluIHQpXHJcbi8vICAgICAgICAgICAgICAgICB0Lmhhc093blByb3BlcnR5KGUpICYmIG4ucHVzaChlKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIG5cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gZCh0LCBlKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBuLCBpID0gYXJndW1lbnRzO1xyXG4vLyAgICAgICAgICAgICBmb3IgKG4gPSAyOyBuIDwgaS5sZW5ndGg7IG4rKylcclxuLy8gICAgICAgICAgICAgICAgIGlmIChlIGluIGlbbl0gJiYgaVtuXS5oYXNPd25Qcm9wZXJ0eShlKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAodFtlXSA9IGlbbl1bZV0pXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHAoZSwgbikge1xyXG4vLyAgICAgICAgICAgICB2YXIgaSwgbywgYSA9IFtcImRhdGFcIiwgXCJ0YWdcIiwgXCJpZFwiLCBcImV2ZW50c1wiLCBcIm9uY2VzXCJdLCBzID0ge307XHJcbi8vICAgICAgICAgICAgIGlmIChlLnRkKVxyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChpIGluIGUudGQpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS50ZC5oYXNPd25Qcm9wZXJ0eShpKSAmJiBcIm9wdGlvbnNcIiAhPT0gaSAmJiBcInZhbHVlc1wiICE9PSBpICYmIChzW2ldID0gZS50ZFtpXSk7XHJcbi8vICAgICAgICAgICAgIGZvciAobyA9IDA7IG8gPCBhLmxlbmd0aDsgbysrKVxyXG4vLyAgICAgICAgICAgICAgICAgZChzLCBhW29dLCBuLCBlLnRkKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHMub3B0aW9ucyA9IHQuZXh0ZW5kKHt9LCBlLm9wdHMgfHwge30sIG4ub3B0aW9ucyB8fCB7fSksXHJcbi8vICAgICAgICAgICAgICAgICBzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGgoKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChELnZlcmJvc2UpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciB0LCBlID0gW107XHJcbi8vICAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgVyhjb25zb2xlLmVycm9yKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUucHVzaChhcmd1bWVudHNbdF0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgZSlcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChlID0gXCJcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZSArPSBhcmd1bWVudHNbdF0udG9TdHJpbmcoKSArIFwiIFwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGUpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gZih0KSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiAobyh0KSB8fCBpKHQpKSAmJiBcIlwiICE9PSB0ICYmICFpc05hTih0KVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiB2KHQpIHtcclxuLy8gICAgICAgICAgICAgdmFyIGUsIGkgPSBbXTtcclxuLy8gICAgICAgICAgICAgaWYgKCFhKHQpKVxyXG4vLyAgICAgICAgICAgICAgICAgaWYgKG4odCkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKG8odC5sZW5ndGgpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdDtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZSBpbiB0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5wdXNoKHRbZV0pO1xyXG4vLyAgICAgICAgICAgICAgICAgZWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkucHVzaCh0KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGlcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gbShlKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBlID8gVyhlKSA/IGUgOiAoZSA9IHYoZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oaSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEoaSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKGkpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG8gPSAwOyBvIDwgaS5sZW5ndGg7IG8rKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5pbkFycmF5KGlbb10sIGUpID49IDApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmluQXJyYXkoaSwgZSkgPj0gMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgKSA6IHZvaWQgMFxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBnKHQsIGUsIG4pIHtcclxuLy8gICAgICAgICAgICAgdmFyIG8gPSBlID8gdCA6IG51bGw7XHJcbi8vICAgICAgICAgICAgIHJldHVybiAhdCB8fCBpKHQpID8gbyA6IHQubGF0TG5nID8gZyh0LmxhdExuZykgOiB0IGluc3RhbmNlb2YgSC5MYXRMbmcgPyB0IDogZih0LmxhdCkgPyBuZXcgSC5MYXRMbmcodC5sYXQsdC5sbmcpIDogIW4gJiYgUih0KSAmJiBmKHRbMF0pICYmIGYodFsxXSkgPyBuZXcgSC5MYXRMbmcodFswXSx0WzFdKSA6IG9cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24geSh0KSB7XHJcbi8vICAgICAgICAgICAgIHZhciBlLCBuO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gIXQgfHwgdCBpbnN0YW5jZW9mIEguTGF0TG5nQm91bmRzID8gdCB8fCBudWxsIDogKFIodCkgPyAyID09PSB0Lmxlbmd0aCA/IChlID0gZyh0WzBdKSxcclxuLy8gICAgICAgICAgICAgICAgIG4gPSBnKHRbMV0pKSA6IDQgPT09IHQubGVuZ3RoICYmIChlID0gZyhbdFswXSwgdFsxXV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgbiA9IGcoW3RbMl0sIHRbM11dKSkgOiBcIm5lXCJpbiB0ICYmIFwic3dcImluIHQgPyAoZSA9IGcodC5uZSksXHJcbi8vICAgICAgICAgICAgICAgICBuID0gZyh0LnN3KSkgOiBcIm5cImluIHQgJiYgXCJlXCJpbiB0ICYmIFwic1wiaW4gdCAmJiBcIndcImluIHQgJiYgKGUgPSBnKFt0Lm4sIHQuZV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgbiA9IGcoW3QucywgdC53XSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgZSAmJiBuID8gbmV3IEguTGF0TG5nQm91bmRzKG4sZSkgOiBudWxsKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiB3KHQsIGUsIG4sIG8sIGEpIHtcclxuLy8gICAgICAgICAgICAgdmFyIHMgPSBuID8gZyhvLnRkLCAhMSwgITApIDogITFcclxuLy8gICAgICAgICAgICAgICAgICwgciA9IHMgPyB7XHJcbi8vICAgICAgICAgICAgICAgICBsYXRMbmc6IHNcclxuLy8gICAgICAgICAgICAgfSA6IG8udGQuYWRkcmVzcyA/IGkoby50ZC5hZGRyZXNzKSA/IHtcclxuLy8gICAgICAgICAgICAgICAgIGFkZHJlc3M6IG8udGQuYWRkcmVzc1xyXG4vLyAgICAgICAgICAgICB9IDogby50ZC5hZGRyZXNzIDogITFcclxuLy8gICAgICAgICAgICAgICAgICwgbCA9IHIgPyBVLmdldChyKSA6ICExXHJcbi8vICAgICAgICAgICAgICAgICAsIHUgPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICByID8gKGEgPSBhIHx8IDAsXHJcbi8vICAgICAgICAgICAgICAgICBsID8gKG8ubGF0TG5nID0gbC5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG8ucmVzdWx0cyA9IGwucmVzdWx0cyxcclxuLy8gICAgICAgICAgICAgICAgICAgICBvLnN0YXR1cyA9IGwuc3RhdHVzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUuYXBwbHkodCwgW29dKSkgOiAoci5sb2NhdGlvbiAmJiAoci5sb2NhdGlvbiA9IGcoci5sb2NhdGlvbikpLFxyXG4vLyAgICAgICAgICAgICAgICAgci5ib3VuZHMgJiYgKHIuYm91bmRzID0geShyLmJvdW5kcykpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIEMoKS5nZW9jb2RlKHIsIGZ1bmN0aW9uKGksIHMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcyA9PT0gSC5HZW9jb2RlclN0YXR1cy5PSyA/IChVLnN0b3JlKHIsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IGksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmxhdExuZyA9IGlbMF0uZ2VvbWV0cnkubG9jYXRpb24sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnJlc3VsdHMgPSBpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5zdGF0dXMgPSBzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5hcHBseSh0LCBbb10pKSA6IHMgPT09IEguR2VvY29kZXJTdGF0dXMuT1ZFUl9RVUVSWV9MSU1JVCAmJiBhIDwgRC5xdWVyeUxpbWl0LmF0dGVtcHQgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5hcHBseSh1LCBbdCwgZSwgbiwgbywgYSArIDFdKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBELnF1ZXJ5TGltaXQuZGVsYXkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBELnF1ZXJ5TGltaXQucmFuZG9tKSkgOiAoaChcImdlb2NvZGUgZmFpbGVkXCIsIHMsIHIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5sYXRMbmcgPSBvLnJlc3VsdHMgPSAhMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc3RhdHVzID0gcyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuYXBwbHkodCwgW29dKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSkpIDogKG8ubGF0TG5nID0gZyhvLnRkLCAhMSwgITApLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5hcHBseSh0LCBbb10pKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBiKGUsIG4sIGksIG8pIHtcclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gYSgpIHtcclxuLy8gICAgICAgICAgICAgICAgIGRvXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcisrO1xyXG4vLyAgICAgICAgICAgICAgICAgd2hpbGUgKHIgPCBlLmxlbmd0aCAmJiAhKFwiYWRkcmVzc1wiaW4gZVtyXSkpO3JldHVybiByID49IGUubGVuZ3RoID8gdm9pZCBpLmFwcGx5KG4sIFtvXSkgOiB2b2lkIHcocywgZnVuY3Rpb24obikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuLnRkLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmV4dGVuZChlW3JdLCBuKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYS5hcHBseShzLCBbXSlcclxuLy8gICAgICAgICAgICAgICAgIH0sICEwLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGQ6IGVbcl1cclxuLy8gICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgdmFyIHMgPSB0aGlzXHJcbi8vICAgICAgICAgICAgICAgICAsIHIgPSAtMTtcclxuLy8gICAgICAgICAgICAgYSgpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHgodCwgZSwgbikge1xyXG4vLyAgICAgICAgICAgICB2YXIgaSA9ICExO1xyXG4vLyAgICAgICAgICAgICBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmdlb2xvY2F0aW9uID8gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihvKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpIHx8IChpID0gITAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgbi5sYXRMbmcgPSBuZXcgSC5MYXRMbmcoby5jb29yZHMubGF0aXR1ZGUsby5jb29yZHMubG9uZ2l0dWRlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLmFwcGx5KHQsIFtuXSkpXHJcbi8vICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgaSB8fCAoaSA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4ubGF0TG5nID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5hcHBseSh0LCBbbl0pKVxyXG4vLyAgICAgICAgICAgICB9LCBuLm9wdHMuZ2V0Q3VycmVudFBvc2l0aW9uKSA6IChuLmxhdExuZyA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5hcHBseSh0LCBbbl0pKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBTKHQpIHtcclxuLy8gICAgICAgICAgICAgdmFyIGUsIGkgPSAhMTtcclxuLy8gICAgICAgICAgICAgaWYgKG4odCkgJiYgdC5oYXNPd25Qcm9wZXJ0eShcImdldFwiKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChlIGluIHQpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKFwiZ2V0XCIgIT09IGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuLy8gICAgICAgICAgICAgICAgIGkgPSAhdC5nZXQuaGFzT3duUHJvcGVydHkoXCJjYWxsYmFja1wiKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIEMoKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBxLmdlb2NvZGVyIHx8IChxLmdlb2NvZGVyID0gbmV3IEguR2VvY29kZXIpLFxyXG4vLyAgICAgICAgICAgICAgICAgcS5nZW9jb2RlclxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBfKCkge1xyXG4vLyAgICAgICAgICAgICB2YXIgdCA9IFtdO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICh0Lmxlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBpLCBvLCBhLCBzLCByLCBsID0gYyhlKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHMgPSB0W2ldLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gbC5sZW5ndGggPT09IHMua2V5cy5sZW5ndGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSAwOyBvIDwgbC5sZW5ndGggJiYgcjsgbysrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGxbb10sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGEgaW4gcy5yZXF1ZXN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciAmJiAociA9IG4oZVthXSkgJiYgXCJlcXVhbHNcImluIGVbYV0gJiYgVyhlW2FdKSA/IGVbYV0uZXF1YWxzKHMucmVxdWVzdFthXSkgOiBlW2FdID09PSBzLnJlcXVlc3RbYV0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnJlc3VsdHNcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBmdW5jdGlvbihlLCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAga2V5czogYyhlKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIE0oKSB7XHJcbi8vICAgICAgICAgICAgIHZhciB0ID0gW11cclxuLy8gICAgICAgICAgICAgICAgICwgZSA9IHRoaXM7XHJcbi8vICAgICAgICAgICAgIGUuZW1wdHkgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhdC5sZW5ndGhcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5hZGQgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKGUpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBlLmdldCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0Lmxlbmd0aCA/IHRbMF0gOiAhMVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgZS5hY2sgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LnNoaWZ0KClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gQSgpIHtcclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gZSh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlkOiB0LmlkLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHQubmFtZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHQub2JqLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRhZzogdC50YWcsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZGF0YTogdC5kYXRhXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICBXKHQuc2V0TWFwKSAmJiB0LnNldE1hcChudWxsKSxcclxuLy8gICAgICAgICAgICAgICAgIFcodC5yZW1vdmUpICYmIHQucmVtb3ZlKCksXHJcbi8vICAgICAgICAgICAgICAgICBXKHQuZnJlZSkgJiYgdC5mcmVlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdCA9IG51bGxcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB2YXIgaSA9IHt9XHJcbi8vICAgICAgICAgICAgICAgICAsIG8gPSB7fVxyXG4vLyAgICAgICAgICAgICAgICAgLCBzID0gdGhpcztcclxuLy8gICAgICAgICAgICAgcy5hZGQgPSBmdW5jdGlvbih0LCBlLCBuLCBhKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbCA9IHQudGQgfHwge31cclxuLy8gICAgICAgICAgICAgICAgICAgICAsIHUgPSByKGwuaWQpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGlbZV0gfHwgKGlbZV0gPSBbXSksXHJcbi8vICAgICAgICAgICAgICAgICB1IGluIG8gJiYgcy5jbGVhckJ5SWQodSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgb1t1XSA9IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgb2JqOiBuLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6IGwudGFnLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBsLmRhdGFcclxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlbZV0ucHVzaCh1KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB1XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHMuZ2V0QnlJZCA9IGZ1bmN0aW9uKHQsIG4sIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgYSA9ICExO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0IGluIG8gJiYgKGEgPSBuID8gb1t0XS5zdWIgOiBpID8gZShvW3RdKSA6IG9bdF0ub2JqKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgcy5nZXQgPSBmdW5jdGlvbih0LCBuLCBhLCBzKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHIsIGwsIHUgPSBtKGEpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICghaVt0XSB8fCAhaVt0XS5sZW5ndGgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAociA9IGlbdF0ubGVuZ3RoOyByOyApXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLS0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IGlbdF1bbiA/IHIgOiBpW3RdLmxlbmd0aCAtIHIgLSAxXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgb1tsXSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUgJiYgIXUob1tsXS50YWcpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMgPyBlKG9bbF0pIDogb1tsXS5vYmpcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBzLmFsbCA9IGZ1bmN0aW9uKHQsIG4sIHMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgciA9IFtdXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICwgbCA9IG0obilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCB1ID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgYTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGlbdF0ubGVuZ3RoOyBuKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA9IGlbdF1bbl0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSAmJiBvW2FdKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGwgJiYgIWwob1thXS50YWcpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnB1c2gocyA/IGUob1thXSkgOiBvW2FdLm9iailcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0IGluIGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHUodCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYSh0KSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh0IGluIGkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1KHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiByXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBzLnJtID0gZnVuY3Rpb24odCwgZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBhLCByO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICghaVt0XSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoYSA9IGlbdF0ubGVuZ3RoIC0gMTsgYSA+PSAwICYmIChyID0gaVt0XVthXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZShvW3JdLnRhZykpOyBhLS0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgaVt0XS5sZW5ndGggJiYgKHIgPSBpW3RdW2FdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFlKG9bcl0udGFnKSk7IGErKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhID0gbiA/IGlbdF0ubGVuZ3RoIC0gMSA6IDA7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgaW4gaVt0XSA/IHMuY2xlYXJCeUlkKGlbdF1bYV0sIGEpIDogITFcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHMuY2xlYXJCeUlkID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0IGluIG8pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMsIHIgPSBvW3RdLm5hbWU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocyA9IDA7IGEoZSkgJiYgcyA8IGlbcl0ubGVuZ3RoOyBzKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID09PSBpW3JdW3NdICYmIChlID0gcyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuKG9bdF0ub2JqKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgb1t0XS5zdWIgJiYgbihvW3RdLnN1YiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb1t0XSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlbcl0uc3BsaWNlKGUsIDEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgITBcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBzLm9iakdldEJ5SWQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGUsIG47XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKGkuY2x1c3RlcmVyKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG4gaW4gaS5jbHVzdGVyZXIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGUgPSBvW2kuY2x1c3RlcmVyW25dXS5vYmouZ2V0QnlJZCh0KSkgIT09ICExKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgcy5vYmpDbGVhckJ5SWQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKGkuY2x1c3RlcmVyKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGUgaW4gaS5jbHVzdGVyZXIpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob1tpLmNsdXN0ZXJlcltlXV0ub2JqLmNsZWFyQnlJZCh0KSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHMuY2xlYXIgPSBmdW5jdGlvbih0LCBlLCBuLCBvKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGEsIHIsIGwsIHUgPSBtKG8pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHQubGVuZ3RoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gdih0KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdCA9IFtdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGEgaW4gaSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaChhKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHIgPSAwOyByIDwgdC5sZW5ndGg7IHIrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGwgPSB0W3JdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnJtKGwsIHUsICEwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobilcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucm0obCwgdSwgITEpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgcy5ybShsLCB1LCAhMSk7IClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBzLm9iakNsZWFyID0gZnVuY3Rpb24oZSwgbiwgYSwgcykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciByO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChpLmNsdXN0ZXJlciAmJiAodC5pbkFycmF5KFwibWFya2VyXCIsIGUpID49IDAgfHwgIWUubGVuZ3RoKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChyIGluIGkuY2x1c3RlcmVyKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb1tpLmNsdXN0ZXJlcltyXV0ub2JqLmNsZWFyKG4sIGEsIHMpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIEwoZSwgbiwgbykge1xyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBhKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBlID0ge307XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZVt0XSA9IHt9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBzKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHQ7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKHQgaW4gbylcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAhbC5oYXNPd25Qcm9wZXJ0eSh0KSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB2YXIgciwgbCA9IHt9LCB1ID0gdGhpcywgYyA9IHtcclxuLy8gICAgICAgICAgICAgICAgIGxhdExuZzoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG1hcDogITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiAhMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpbmZvd2luZG93OiAhMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBjaXJjbGU6ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGdldGxhdGxuZzogITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZ2V0bWF4em9vbTogITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZ2V0ZWxldmF0aW9uOiAhMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdHJlZXR2aWV3cGFub3JhbWE6ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGdldGFkZHJlc3M6ICEwXHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgZ2VvbG9jOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZ2V0Z2VvbG9jOiAhMFxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICBpKG8pICYmIChvID0gYShvKSksXHJcbi8vICAgICAgICAgICAgICAgICB1LnJ1biA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGksIGE7IGkgPSBzKCk7ICkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVyhlW2ldKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByID0gaSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gdC5leHRlbmQoITAsIHt9LCBEW2ldIHx8IHt9LCBvW2ldLm9wdGlvbnMgfHwge30pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKGkgaW4gYy5sYXRMbmcgPyBvW2ldLnZhbHVlcyA/IGIob1tpXS52YWx1ZXMsIGUsIGVbaV0sIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IG9baV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IGxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IHcoZSwgZVtpXSwgYy5sYXRMbmdbaV0sIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IG9baV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IGxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IGkgaW4gYy5nZW9sb2MgPyB4KGUsIGVbaV0sIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IG9baV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IGxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IGVbaV0uYXBwbHkoZSwgW3tcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IG9baV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IGEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IGxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSkpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsW2ldID0gbnVsbFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICBuLmFwcGx5KGUsIFtvLCBsXSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIHUuYWNrID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGxbcl0gPSB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB1LnJ1bi5hcHBseSh1LCBbXSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gVCgpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHEuZHMgfHwgKHEuZHMgPSBuZXcgSC5EaXJlY3Rpb25zU2VydmljZSksXHJcbi8vICAgICAgICAgICAgICAgICBxLmRzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIFAoKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBxLmRtcyB8fCAocS5kbXMgPSBuZXcgSC5EaXN0YW5jZU1hdHJpeFNlcnZpY2UpLFxyXG4vLyAgICAgICAgICAgICAgICAgcS5kbXNcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gSSgpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHEubXpzIHx8IChxLm16cyA9IG5ldyBILk1heFpvb21TZXJ2aWNlKSxcclxuLy8gICAgICAgICAgICAgICAgIHEubXpzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIGsoKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBxLmVzIHx8IChxLmVzID0gbmV3IEguRWxldmF0aW9uU2VydmljZSksXHJcbi8vICAgICAgICAgICAgICAgICBxLmVzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIEUodCkge1xyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBlKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHQub25BZGQgPSBmdW5jdGlvbigpIHt9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQub25SZW1vdmUgPSBmdW5jdGlvbigpIHt9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQuZHJhdyA9IGZ1bmN0aW9uKCkge31cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgRC5jbGFzc2VzLk92ZXJsYXlWaWV3LmFwcGx5KHQsIFtdKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGUucHJvdG90eXBlID0gRC5jbGFzc2VzLk92ZXJsYXlWaWV3LnByb3RvdHlwZTtcclxuLy8gICAgICAgICAgICAgdmFyIG4gPSBuZXcgZTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIG4uc2V0TWFwKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgblxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBOKGUsIGksIG8pIHtcclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gYSh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICBOW3RdIHx8IChkZWxldGUgelt0XS5vcHRpb25zLm1hcCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBOW3RdID0gbmV3IEQuY2xhc3Nlcy5NYXJrZXIoelt0XS5vcHRpb25zKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICB1KGUsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IHpbdF1cclxuLy8gICAgICAgICAgICAgICAgICAgICB9LCBOW3RdLCB6W3RdLmlkKSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBzKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICh5ID0gQi5nZXRQcm9qZWN0aW9uKCkpID8gKE0gPSAhMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBULnB1c2goSC5ldmVudC5hZGRMaXN0ZW5lcihpLCBcInpvb21fY2hhbmdlZFwiLCBoKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgVC5wdXNoKEguZXZlbnQuYWRkTGlzdGVuZXIoaSwgXCJib3VuZHNfY2hhbmdlZFwiLCBoKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdm9pZCB2KCkpIDogdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHMuYXBwbHkoTCwgW10pXHJcbi8vICAgICAgICAgICAgICAgICB9LCAyNSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBsKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIG4oUFt0XSkgPyAoVyhQW3RdLm9iai5zZXRNYXApICYmIFBbdF0ub2JqLnNldE1hcChudWxsKSxcclxuLy8gICAgICAgICAgICAgICAgIFcoUFt0XS5vYmoucmVtb3ZlKSAmJiBQW3RdLm9iai5yZW1vdmUoKSxcclxuLy8gICAgICAgICAgICAgICAgIFcoUFt0XS5zaGFkb3cucmVtb3ZlKSAmJiBQW3RdLm9iai5yZW1vdmUoKSxcclxuLy8gICAgICAgICAgICAgICAgIFcoUFt0XS5zaGFkb3cuc2V0TWFwKSAmJiBQW3RdLnNoYWRvdy5zZXRNYXAobnVsbCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFBbdF0ub2JqLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBQW3RdLnNoYWRvdykgOiBOW3RdICYmIE5bdF0uc2V0TWFwKG51bGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBQW3RdXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gYygpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciB0LCBlLCBuLCBpLCBvLCBhLCBzLCByLCBsID0gTWF0aC5jb3MsIHUgPSBNYXRoLnNpbiwgYyA9IGFyZ3VtZW50cztcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjWzBdaW5zdGFuY2VvZiBILkxhdExuZyA/ICh0ID0gY1swXS5sYXQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBuID0gY1swXS5sbmcoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBjWzFdaW5zdGFuY2VvZiBILkxhdExuZyA/IChlID0gY1sxXS5sYXQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGNbMV0ubG5nKCkpIDogKGUgPSBjWzFdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpID0gY1syXSkpIDogKHQgPSBjWzBdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4gPSBjWzFdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNbMl1pbnN0YW5jZW9mIEguTGF0TG5nID8gKGUgPSBjWzJdLmxhdCgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpID0gY1syXS5sbmcoKSkgOiAoZSA9IGNbMl0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBjWzNdKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgbyA9IE1hdGguUEkgKiB0IC8gMTgwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEgPSBNYXRoLlBJICogbiAvIDE4MCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzID0gTWF0aC5QSSAqIGUgLyAxODAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgciA9IE1hdGguUEkgKiBpIC8gMTgwLFxyXG4vLyAgICAgICAgICAgICAgICAgNjM3MWUzICogTWF0aC5hY29zKE1hdGgubWluKGwobykgKiBsKHMpICogbChhKSAqIGwocikgKyBsKG8pICogdShhKSAqIGwocykgKiB1KHIpICsgdShvKSAqIHUocyksIDEpKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIGQoKSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdCA9IGMoaS5nZXRDZW50ZXIoKSwgaS5nZXRCb3VuZHMoKS5nZXROb3J0aEVhc3QoKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIGUgPSBuZXcgSC5DaXJjbGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogaS5nZXRDZW50ZXIoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEuMjUgKiB0XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEJvdW5kcygpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gcCgpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciB0LCBlID0ge307XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKHQgaW4gUClcclxuLy8gICAgICAgICAgICAgICAgICAgICBlW3RdID0gITA7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIGgoKSB7XHJcbi8vICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZyA9IHNldFRpbWVvdXQodiwgMjUpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gZih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZSA9IHkuZnJvbUxhdExuZ1RvRGl2UGl4ZWwodClcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIG4gPSB5LmZyb21EaXZQaXhlbFRvTGF0TG5nKG5ldyBILlBvaW50KGUueCArIG8ucmFkaXVzLGUueSAtIG8ucmFkaXVzKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAsIGkgPSB5LmZyb21EaXZQaXhlbFRvTGF0TG5nKG5ldyBILlBvaW50KGUueCAtIG8ucmFkaXVzLGUueSArIG8ucmFkaXVzKSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEguTGF0TG5nQm91bmRzKGksbilcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiB2KCkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFTICYmICFfICYmIE0pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgZSwgbiwgYSwgcywgciwgdSwgYywgaCwgdiwgbSwgZywgeSA9ICExLCB4ID0gW10sIEwgPSB7fSwgVCA9IGkuZ2V0Wm9vbSgpLCBJID0gXCJtYXhab29tXCJpbiBvICYmIFQgPiBvLm1heFpvb20sIGsgPSBwKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChDID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICBUID4gMyAmJiAociA9IGQoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gci5nZXRTb3V0aFdlc3QoKS5sbmcoKSA8IHIuZ2V0Tm9ydGhFYXN0KCkubG5nKCkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAwOyBlIDwgei5sZW5ndGg7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgIXpbZV0gfHwgeSAmJiAhci5jb250YWlucyh6W2VdLm9wdGlvbnMucG9zaXRpb24pIHx8IHcgJiYgIXcoT1tlXSkgfHwgeC5wdXNoKGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAoOyA7ICkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGUgPSAwOyBMW2VdICYmIGUgPCB4Lmxlbmd0aDsgKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSsrO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSA9PT0geC5sZW5ndGgpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgJiYgIUkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSAxMDtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChoID0gcyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gW10sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZy0tLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBoLmxlbmd0aCA/IHIuZ2V0Q2VudGVyKCkgOiB6W3hbZV1dLm9wdGlvbnMucG9zaXRpb24sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGYoYyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGU7IG4gPCB4Lmxlbmd0aDsgbisrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMW25dIHx8IHIuY29udGFpbnMoelt4W25dXS5vcHRpb25zLnBvc2l0aW9uKSAmJiBzLnB1c2gobik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaC5sZW5ndGggPCBzLmxlbmd0aCAmJiBzLmxlbmd0aCA+IDEgJiYgZylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG4gPSBlOyBuIDwgeC5sZW5ndGg7IG4rKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUxbbl0pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wdXNoKG4pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh1ID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlczogW10sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IFtdXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBtID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDA7IGEgPCBzLmxlbmd0aDsgYSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTFtzW2FdXSA9ICEwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUuaW5kZXhlcy5wdXNoKHhbc1thXV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUucmVmLnB1c2goeFtzW2FdXSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiArPSB6W3hbc1thXV1dLm9wdGlvbnMucG9zaXRpb24ubGF0KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSArPSB6W3hbc1thXV1dLm9wdGlvbnMucG9zaXRpb24ubG5nKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHYgLz0gcy5sZW5ndGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtIC89IHMubGVuZ3RoLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5sYXRMbmcgPSBuZXcgSC5MYXRMbmcodixtKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUucmVmID0gdS5yZWYuam9pbihcIi1cIiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LnJlZiBpbiBrID8gZGVsZXRlIGtbdS5yZWZdIDogKDEgPT09IHMubGVuZ3RoICYmIChQW3UucmVmXSA9ICEwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiKHUpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICB0LmVhY2goaywgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsKHQpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAhMVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHZhciBnLCB5LCB3LCBiLCB4LCBTID0gITEsIEMgPSAhMSwgXyA9ICExLCBNID0gITEsIEEgPSAhMCwgTCA9IHRoaXMsIFQgPSBbXSwgUCA9IHt9LCBJID0ge30sIGsgPSB7fSwgTiA9IFtdLCB6ID0gW10sIE8gPSBbXSwgQiA9IEUoaSwgby5yYWRpdXMpO1xyXG4vLyAgICAgICAgICAgICBzKCksXHJcbi8vICAgICAgICAgICAgICAgICBMLmdldEJ5SWQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgaW4gSSA/IChhKElbdF0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBOW0lbdF1dKSA6ICExXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBMLnJtID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gSVt0XTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBOW2VdICYmIE5bZV0uc2V0TWFwKG51bGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgTltlXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTltlXSA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgeltlXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeltlXSA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgT1tlXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgT1tlXSA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgSVt0XSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGtbZV0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIEMgPSAhMFxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgTC5jbGVhckJ5SWQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgaW4gSSA/IChMLnJtKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAhMCkgOiB2b2lkIDBcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuY2xlYXIgPSBmdW5jdGlvbih0LCBlLCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGksIG8sIGEsIHMsIHIsIGwgPSBbXSwgdSA9IG0obik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yICh0ID8gKGkgPSB6Lmxlbmd0aCAtIDEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSAtMSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYSA9IC0xKSA6IChpID0gMCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHoubGVuZ3RoLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhID0gMSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IGk7IHMgIT09IG8gJiYgKCF6W3NdIHx8IHUgJiYgIXUoeltzXS50YWcpIHx8IChsLnB1c2goa1tzXSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgIWUgJiYgIXQpKTsgcyArPSBhKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChyID0gMDsgciA8IGwubGVuZ3RoOyByKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIEwucm0obFtyXSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuYWRkID0gZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQuaWQgPSByKHQuaWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBMLmNsZWFyQnlJZCh0LmlkKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgSVt0LmlkXSA9IE4ubGVuZ3RoLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBrW04ubGVuZ3RoXSA9IHQuaWQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIE4ucHVzaChudWxsKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgei5wdXNoKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBPLnB1c2goZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIEMgPSAhMFxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgTC5hZGRNYXJrZXIgPSBmdW5jdGlvbih0LCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbiA9IG4gfHwge30sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4uaWQgPSByKG4uaWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBMLmNsZWFyQnlJZChuLmlkKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBuLm9wdGlvbnMgfHwgKG4ub3B0aW9ucyA9IHt9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbi5vcHRpb25zLnBvc2l0aW9uID0gdC5nZXRQb3NpdGlvbigpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB1KGUsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiBuXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHQsIG4uaWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBJW24uaWRdID0gTi5sZW5ndGgsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGtbTi5sZW5ndGhdID0gbi5pZCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTi5wdXNoKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB6LnB1c2gobiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIE8ucHVzaChuLmRhdGEgfHwge30pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBDID0gITBcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwudGQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHpbdF1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwudmFsdWUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9bdF1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwubWFya2VyID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0IGluIE4gPyAoYSh0KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTlt0XSkgOiAhMVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgTC5tYXJrZXJJc1NldCA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbihOW3RdKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgTC5zZXRNYXJrZXIgPSBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgTlt0XSA9IGVcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuc3RvcmUgPSBmdW5jdGlvbih0LCBlLCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgUFt0LnJlZl0gPSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG9iajogZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93OiBuXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgTC5mcmVlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChlID0gMDsgZSA8IFQubGVuZ3RoOyBlKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIEguZXZlbnQucmVtb3ZlTGlzdGVuZXIoVFtlXSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgVCA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goUCwgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCh0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgUCA9IHt9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goeiwgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgelt0XSA9IG51bGxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHogPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKE4sIGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5bdF0gJiYgKE5bdF0uc2V0TWFwKG51bGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBOW3RdKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTiA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goTywgZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIE9bdF1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIE8gPSBbXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgSSA9IHt9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBrID0ge31cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuZmlsdGVyID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHcgPSB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2KClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuZW5hYmxlID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIEEgIT09IHQgJiYgKEEgPSB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2KCkpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBMLmRpc3BsYXkgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgYiA9IHRcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuZXJyb3IgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgeCA9IHRcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuYmVnaW5VcGRhdGUgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBTID0gITBcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIEwuZW5kVXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgUyA9ICExLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIEMgJiYgdigpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBMLmF1dG9maXQgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yIChlID0gMDsgZSA8IHoubGVuZ3RoOyBlKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHpbZV0gJiYgdC5leHRlbmQoeltlXS5vcHRpb25zLnBvc2l0aW9uKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiB6KHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgdmFyIG4gPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICBuLmlkID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdFxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBuLmZpbHRlciA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLmZpbHRlcih0KVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgbi5lbmFibGUgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlLmVuYWJsZSghMClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIG4uZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUuZW5hYmxlKCExKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgbi5hZGQgPSBmdW5jdGlvbih0LCBuLCBpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaSB8fCBlLmJlZ2luVXBkYXRlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUuYWRkTWFya2VyKHQsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkgfHwgZS5lbmRVcGRhdGUoKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgbi5nZXRCeUlkID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEJ5SWQodClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIG4uY2xlYXJCeUlkID0gZnVuY3Rpb24odCwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuIHx8IGUuYmVnaW5VcGRhdGUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGUuY2xlYXJCeUlkKHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4gfHwgZS5lbmRVcGRhdGUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgbi5jbGVhciA9IGZ1bmN0aW9uKHQsIG4sIGksIG8pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBvIHx8IGUuYmVnaW5VcGRhdGUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5jbGVhcih0LCBuLCBpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBvIHx8IGUuZW5kVXBkYXRlKClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZnVuY3Rpb24gTyhlLCBuLCBpLCBvKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBhID0gdGhpc1xyXG4vLyAgICAgICAgICAgICAgICAgLCBzID0gW107XHJcbi8vICAgICAgICAgICAgIEQuY2xhc3Nlcy5PdmVybGF5Vmlldy5jYWxsKGEpLFxyXG4vLyAgICAgICAgICAgICAgICAgYS5zZXRNYXAoZSksXHJcbi8vICAgICAgICAgICAgICAgICBhLm9uQWRkID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBhLmdldFBhbmVzKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbi5wYW5lIGluIGUgJiYgdChlW24ucGFuZV0pLmFwcGVuZChvKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKFwiZGJsY2xpY2sgY2xpY2sgbW91c2VvdmVyIG1vdXNlbW92ZSBtb3VzZW91dCBtb3VzZXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wdXNoKEguZXZlbnQuYWRkRG9tTGlzdGVuZXIob1swXSwgbiwgZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuRXZlbnQoZSkuc3RvcFByb3BhZ2F0aW9uKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEguZXZlbnQudHJpZ2dlcihhLCBuLCBbZV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmRyYXcoKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzLnB1c2goSC5ldmVudC5hZGREb21MaXN0ZW5lcihvWzBdLCBcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuRXZlbnQoZSkuc3RvcFByb3BhZ2F0aW9uKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSC5ldmVudC50cmlnZ2VyKGEsIFwicmlnaHRjbGlja1wiLCBbZV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZHJhdygpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgYS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBhLnNldFBvc2l0aW9uID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkgPSB0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhLmRyYXcoKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgYS5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBhLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9EaXZQaXhlbChpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBvLmNzcyhcImxlZnRcIiwgdC54ICsgbi5vZmZzZXQueCArIFwicHhcIikuY3NzKFwidG9wXCIsIHQueSArIG4ub2Zmc2V0LnkgKyBcInB4XCIpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBhLm9uUmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gMDsgdCA8IHMubGVuZ3RoOyB0KyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIEguZXZlbnQucmVtb3ZlTGlzdGVuZXIoc1t0XSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgby5yZW1vdmUoKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgYS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgby5oaWRlKClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIGEuc2hvdyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG8uc2hvdygpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBhLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG8gJiYgKG8uaXMoXCI6dmlzaWJsZVwiKSA/IGEuc2hvdygpIDogYS5oaWRlKCkpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBhLnRvZ2dsZURPTSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGEuc2V0TWFwKGEuZ2V0TWFwKCkgPyBudWxsIDogZSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIGEuZ2V0RE9NRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvWzBdXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIEIobykge1xyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBzKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgIXggJiYgKHggPSBDLmdldCgpKSAmJiB4LnJ1bigpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gYygpIHtcclxuLy8gICAgICAgICAgICAgICAgIHggPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIEMuYWNrKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcy5jYWxsKFMpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZnVuY3Rpb24gZCh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZSwgbiA9IHQudGQuY2FsbGJhY2s7XHJcbi8vICAgICAgICAgICAgICAgICBuICYmIChlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBXKG4pID8gbi5hcHBseShvLCBlKSA6IFIobikgJiYgVyhuWzFdKSAmJiBuWzFdLmFwcGx5KG5bMF0sIGUpKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIGYodCwgZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgbiAmJiB1KG8sIHQsIGUsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGQodCwgZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgeC5hY2soZSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBtKGUsIG4pIHtcclxuLy8gICAgICAgICAgICAgICAgIG4gPSBuIHx8IHt9O1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGkgPSBuLnRkICYmIG4udGQub3B0aW9ucyA/IG4udGQub3B0aW9ucyA6IDA7XHJcbi8vICAgICAgICAgICAgICAgICBFID8gaSAmJiAoaS5jZW50ZXIgJiYgKGkuY2VudGVyID0gZyhpLmNlbnRlcikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIEUuc2V0T3B0aW9ucyhpKSkgOiAoaSA9IG4ub3B0cyB8fCB0LmV4dGVuZCghMCwge30sIEQubWFwLCBpIHx8IHt9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBpLmNlbnRlciA9IGUgfHwgZyhpLmNlbnRlciksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgRSA9IG5ldyBELmNsYXNzZXMuTWFwKG8uZ2V0KDApLGkpKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZ1bmN0aW9uIHcobikge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGksIGEsIHMgPSBuZXcgTihvLEUsbiksIHIgPSB7fSwgbCA9IHt9LCBjID0gW10sIGQgPSAvXlswLTldKyQvO1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChhIGluIG4pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZC50ZXN0KGEpID8gKGMucHVzaCgxICogYSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGxbYV0gPSBuW2FdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsW2FdLndpZHRoID0gbFthXS53aWR0aCB8fCAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsW2FdLmhlaWdodCA9IGxbYV0uaGVpZ2h0IHx8IDApIDogclthXSA9IG5bYV07XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gYy5zb3J0KGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCA+IGVcclxuLy8gICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkgPSByLmNhbGN1bGF0b3IgPyBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFtdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuZWFjaChlLCBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKHMudmFsdWUoZSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLmNhbGN1bGF0b3IuYXBwbHkobywgW25dKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDogZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQubGVuZ3RoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcy5lcnJvcihmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaC5hcHBseShTLCBhcmd1bWVudHMpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcy5kaXNwbGF5KGZ1bmN0aW9uKGEpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQsIHAsIGgsIGYsIHYsIG0sIHkgPSBpKGEuaW5kZXhlcyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuLmZvcmNlIHx8IHkgPiAxKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkID0gMDsgZCA8IGMubGVuZ3RoOyBkKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY1tkXSA8PSB5ICYmIChwID0gbFtjW2RdXSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHAgPyAodiA9IHAub2Zmc2V0IHx8IFstcC53aWR0aCAvIDIsIC1wLmhlaWdodCAvIDJdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHQuZXh0ZW5kKHt9LCByKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgub3B0aW9ucyA9IHQuZXh0ZW5kKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lOiBcIm92ZXJsYXlMYXllclwiLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHAuY29udGVudCA/IHAuY29udGVudC5yZXBsYWNlKFwiQ0xVU1RFUl9DT1VOVFwiLCB5KSA6IFwiXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IChcInhcImluIHYgPyB2LnggOiB2WzBdKSB8fCAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAoXCJ5XCJpbiB2ID8gdi55IDogdlsxXSkgfHwgMFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHIub3B0aW9ucyB8fCB7fSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmID0gUy5vdmVybGF5KHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZDogaCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzOiBoLm9wdGlvbnMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0TG5nOiBnKGEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAhMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLm9wdGlvbnMucGFuZSA9IFwiZmxvYXRTaGFkb3dcIixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgub3B0aW9ucy5jb250ZW50ID0gdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS53aWR0aChwLndpZHRoICsgXCJweFwiKS5oZWlnaHQocC5oZWlnaHQgKyBcInB4XCIpLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0gUy5vdmVybGF5KHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZDogaCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzOiBoLm9wdGlvbnMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0TG5nOiBnKGEpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAhMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLmRhdGEgPSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0TG5nOiBnKGEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IFtdXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGEuaW5kZXhlcywgZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuZGF0YS5tYXJrZXJzLnB1c2gocy52YWx1ZShlKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXJrZXJJc1NldChlKSAmJiBzLm1hcmtlcihlKS5zZXRNYXAobnVsbClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdShvLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IHJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG0sIGUsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBmLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdzogbVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0b3JlKGEsIGYsIG0pKSA6IHQuZWFjaChhLmluZGV4ZXMsIGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWFya2VyKGUpLnNldE1hcChFKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmdW5jdGlvbiBiKGUsIG4sIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBhID0gW11cclxuLy8gICAgICAgICAgICAgICAgICAgICAsIHMgPSBcInZhbHVlc1wiaW4gZS50ZDtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBzIHx8IChlLnRkLnZhbHVlcyA9IFt7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZS5vcHRzXHJcbi8vICAgICAgICAgICAgICAgICB9XSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS50ZC52YWx1ZXMubGVuZ3RoID8gKG0oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGUudGQudmFsdWVzLCBmdW5jdGlvbih0LCBzKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgciwgbCwgYywgZCwgaCA9IHAoZSwgcyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5vcHRpb25zW2ldKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoLm9wdGlvbnNbaV1bMF1bMF0gJiYgUihoLm9wdGlvbnNbaV1bMF1bMF0pKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgaC5vcHRpb25zW2ldLmxlbmd0aDsgbCsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjID0gMDsgYyA8IGgub3B0aW9uc1tpXVtsXS5sZW5ndGg7IGMrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLm9wdGlvbnNbaV1bbF1bY10gPSBnKGgub3B0aW9uc1tpXVtsXVtjXSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgaC5vcHRpb25zW2ldLmxlbmd0aDsgbCsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5vcHRpb25zW2ldW2xdID0gZyhoLm9wdGlvbnNbaV1bbF0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5vcHRpb25zLm1hcCA9IEUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IG5ldyBIW25dKGgub3B0aW9ucyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKGQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBfLmFkZCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiBoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbi50b0xvd2VyQ2FzZSgpLCBkKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1KG8sIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IGhcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBkLCByKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBmKGUsIHMgPyBhIDogYVswXSkpIDogdm9pZCBmKGUsICExKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHZhciB4LCBTID0gdGhpcywgQyA9IG5ldyBNLCBfID0gbmV3IEEsIEUgPSBudWxsO1xyXG4vLyAgICAgICAgICAgICBTLl9wbGFuID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICBDLmFkZChuZXcgTChTLGMsdFtlXSkpO1xyXG4vLyAgICAgICAgICAgICAgICAgcygpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMubWFwID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG0odC5sYXRMbmcsIHQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB1KG8sIHQsIEUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmKHQsIEUpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmRlc3Ryb3kgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgXy5jbGVhcigpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvLmVtcHR5KCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgRSAmJiAoRSA9IG51bGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmKHQsICEwKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5vdmVybGF5ID0gZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gW11cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLCBhID0gXCJ2YWx1ZXNcImluIGUudGQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgfHwgKGUudGQudmFsdWVzID0gW3tcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbGF0TG5nOiBlLmxhdExuZyxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZS5vcHRzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLnRkLnZhbHVlcy5sZW5ndGggPyAoTy5fX2luaXRpYWxpc2VkIHx8IChPLnByb3RvdHlwZSA9IG5ldyBELmNsYXNzZXMuT3ZlcmxheVZpZXcsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPLl9faW5pdGlhbGlzZWQgPSAhMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goZS50ZC52YWx1ZXMsIGZ1bmN0aW9uKGEsIHMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgciwgbCwgYyA9IHAoZSwgcyksIGQgPSB0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5hcHBlbmQoYy5vcHRpb25zLmNvbnRlbnQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gbmV3IE8oRSxjLm9wdGlvbnMsZyhjKSB8fCBnKHMpLGQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnB1c2gobCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBudWxsLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gfHwgKHIgPSBfLmFkZChlLCBcIm92ZXJsYXlcIiwgbCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUobywge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IGNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCwgcikpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPyBpWzBdIDogdm9pZCBmKGUsIGEgPyBpIDogaVswXSkpIDogdm9pZCBmKGUsICExKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5tYXJrZXIgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIGksIGEsIHMgPSBcInZhbHVlc1wiaW4gZS50ZCwgbCA9ICFFO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzIHx8IChlLm9wdHMucG9zaXRpb24gPSBlLmxhdExuZyB8fCBnKGUub3B0cy5wb3NpdGlvbiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzID0gW3tcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGUub3B0c1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzLmxlbmd0aCA/IChsICYmIG0oKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQuY2x1c3RlciAmJiAhRS5nZXRCb3VuZHMoKSA/IHZvaWQgSC5ldmVudC5hZGRMaXN0ZW5lck9uY2UoRSwgXCJib3VuZHNfY2hhbmdlZFwiLCBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTLm1hcmtlci5hcHBseShTLCBbZV0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IHZvaWQgKGUudGQuY2x1c3RlciA/IChlLnRkLmNsdXN0ZXIgaW5zdGFuY2VvZiB6ID8gKGkgPSBlLnRkLmNsdXN0ZXIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IF8uZ2V0QnlJZChpLmlkKCksICEwKSkgOiAoYSA9IHcoZS50ZC5jbHVzdGVyKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbmV3IHoocihlLnRkLmlkLCAhMCksYSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5hZGQoZSwgXCJjbHVzdGVyZXJcIiwgaSwgYSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuYmVnaW5VcGRhdGUoKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goZS50ZC52YWx1ZXMsIGZ1bmN0aW9uKHQsIG4pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBwKGUsIG4pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9wdGlvbnMucG9zaXRpb24gPSBnKGkub3B0aW9ucy5wb3NpdGlvbiA/IGkub3B0aW9ucy5wb3NpdGlvbiA6IG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9wdGlvbnMucG9zaXRpb24gJiYgKGkub3B0aW9ucy5tYXAgPSBFLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsICYmIChFLnNldENlbnRlcihpLm9wdGlvbnMucG9zaXRpb24pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9ICExKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuYWRkKGksIG4pKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZW5kVXBkYXRlKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZihlLCBpKSkgOiAobiA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZWFjaChlLnRkLnZhbHVlcywgZnVuY3Rpb24odCwgaSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSwgcywgciA9IHAoZSwgaSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIub3B0aW9ucy5wb3NpdGlvbiA9IGcoci5vcHRpb25zLnBvc2l0aW9uID8gci5vcHRpb25zLnBvc2l0aW9uIDogaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIub3B0aW9ucy5wb3NpdGlvbiAmJiAoci5vcHRpb25zLm1hcCA9IEUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgKEUuc2V0Q2VudGVyKHIub3B0aW9ucy5wb3NpdGlvbiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gITEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG5ldyBELmNsYXNzZXMuTWFya2VyKHIub3B0aW9ucyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnB1c2gocyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gXy5hZGQoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBcIm1hcmtlclwiLCBzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUobywge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzLCBhKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmKGUsIHMgPyBuIDogblswXSkpKSkgOiB2b2lkIGYoZSwgITEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmdldHJvdXRlID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHQub3B0cy5vcmlnaW4gPSBnKHQub3B0cy5vcmlnaW4sICEwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdC5vcHRzLmRlc3RpbmF0aW9uID0gZyh0Lm9wdHMuZGVzdGluYXRpb24sICEwKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgVCgpLnJvdXRlKHQub3B0cywgZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCh0LCBuID09PSBILkRpcmVjdGlvbnNTdGF0dXMuT0sgPyBlIDogITEsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguYWNrKClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZ2V0ZGlzdGFuY2UgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZm9yICh0Lm9wdHMub3JpZ2lucyA9IHYodC5vcHRzLm9yaWdpbnMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAwOyBlIDwgdC5vcHRzLm9yaWdpbnMubGVuZ3RoOyBlKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHQub3B0cy5vcmlnaW5zW2VdID0gZyh0Lm9wdHMub3JpZ2luc1tlXSwgITApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZvciAodC5vcHRzLmRlc3RpbmF0aW9ucyA9IHYodC5vcHRzLmRlc3RpbmF0aW9ucyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IDA7IGUgPCB0Lm9wdHMuZGVzdGluYXRpb25zLmxlbmd0aDsgZSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0Lm9wdHMuZGVzdGluYXRpb25zW2VdID0gZyh0Lm9wdHMuZGVzdGluYXRpb25zW2VdLCAhMCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgUCgpLmdldERpc3RhbmNlTWF0cml4KHQub3B0cywgZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBkKHQsIG4gPT09IEguRGlzdGFuY2VNYXRyaXhTdGF0dXMuT0sgPyBlIDogITEsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5hY2soKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmluZm93aW5kb3cgPSBmdW5jdGlvbihuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBbXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIHMgPSBcInZhbHVlc1wiaW4gbi50ZDtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzIHx8IChuLmxhdExuZyAmJiAobi5vcHRzLnBvc2l0aW9uID0gbi5sYXRMbmcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuLnRkLnZhbHVlcyA9IFt7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBuLm9wdHNcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfV0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2gobi50ZC52YWx1ZXMsIGZ1bmN0aW9uKHQsIHIpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsLCBjLCBkID0gcChuLCByKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQub3B0aW9ucy5wb3NpdGlvbiA9IGcoZC5vcHRpb25zLnBvc2l0aW9uID8gZC5vcHRpb25zLnBvc2l0aW9uIDogci5sYXRMbmcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRSB8fCBtKGQub3B0aW9ucy5wb3NpdGlvbiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG5ldyBELmNsYXNzZXMuSW5mb1dpbmRvdyhkLm9wdGlvbnMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyAmJiAoYShkLm9wZW4pIHx8IGQub3BlbikgJiYgKHMgPyBjLm9wZW4oRSwgZC5hbmNob3IgfHwgZSkgOiBjLm9wZW4oRSwgZC5hbmNob3IgfHwgKG4ubGF0TG5nID8gZSA6IG4uc2Vzc2lvbi5tYXJrZXIgPyBuLnNlc3Npb24ubWFya2VyIDogZSkpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnB1c2goYyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IF8uYWRkKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQ6IGRcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBcImluZm93aW5kb3dcIiwgYyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdShvLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiBkXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYywgbClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYobiwgcyA/IGkgOiBpWzBdKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5jaXJjbGUgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBbXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBcInZhbHVlc1wiaW4gZS50ZDtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSB8fCAoZS5vcHRzLmNlbnRlciA9IGUubGF0TG5nIHx8IGcoZS5vcHRzLmNlbnRlciksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzID0gW3tcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGUub3B0c1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzLmxlbmd0aCA/ICh0LmVhY2goZS50ZC52YWx1ZXMsIGZ1bmN0aW9uKHQsIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhLCBzLCByID0gcChlLCBpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIub3B0aW9ucy5jZW50ZXIgPSBnKHIub3B0aW9ucy5jZW50ZXIgPyByLm9wdGlvbnMuY2VudGVyIDogaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFIHx8IG0oci5vcHRpb25zLmNlbnRlciksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5vcHRpb25zLm1hcCA9IEUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG5ldyBELmNsYXNzZXMuQ2lyY2xlKHIub3B0aW9ucyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKHMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBfLmFkZCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJjaXJjbGVcIiwgcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdShvLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcywgYSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIGYoZSwgaSA/IG4gOiBuWzBdKSkgOiB2b2lkIGYoZSwgITEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmdldGFkZHJlc3MgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZCh0LCB0LnJlc3VsdHMsIHQuc3RhdHVzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeC5hY2soKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5nZXRsYXRsbmcgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZCh0LCB0LnJlc3VsdHMsIHQuc3RhdHVzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgeC5hY2soKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5nZXRtYXh6b29tID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIEkoKS5nZXRNYXhab29tQXRMYXRMbmcodC5sYXRMbmcsIGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZCh0LCBlLnN0YXR1cyA9PT0gSC5NYXhab29tU3RhdHVzLk9LID8gZS56b29tIDogITEsIHN0YXR1cyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmFjaygpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZ2V0ZWxldmF0aW9uID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlLCBuID0gW10sIGkgPSBmdW5jdGlvbihlLCBuKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGQodCwgbiA9PT0gSC5FbGV2YXRpb25TdGF0dXMuT0sgPyBlIDogITEsIG4pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5hY2soKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHQubGF0TG5nKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuLnB1c2godC5sYXRMbmcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChuID0gdih0LnRkLmxvY2F0aW9ucyB8fCBbXSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAwOyBlIDwgbi5sZW5ndGg7IGUrKylcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5bZV0gPSBnKG5bZV0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChuLmxlbmd0aClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaygpLmdldEVsZXZhdGlvbkZvckxvY2F0aW9ucyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnM6IG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwgaSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LnRkLnBhdGggJiYgdC50ZC5wYXRoLmxlbmd0aClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZSA9IDA7IGUgPCB0LnRkLnBhdGgubGVuZ3RoOyBlKyspXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKGcodC50ZC5wYXRoW2VdKSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG4ubGVuZ3RoID8gaygpLmdldEVsZXZhdGlvbkFsb25nUGF0aCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBuLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlczogdC50ZC5zYW1wbGVzXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGkpIDogeC5hY2soKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZGVmYXVsdHMgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKGUudGQsIGZ1bmN0aW9uKGUsIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgRFtlXSA9IG4oRFtlXSkgPyB0LmV4dGVuZCh7fSwgRFtlXSwgaSkgOiBpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHguYWNrKCEwKVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgLFxyXG4vLyAgICAgICAgICAgICAgICAgUy5yZWN0YW5nbGUgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBbXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBcInZhbHVlc1wiaW4gZS50ZDtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSB8fCAoZS50ZC52YWx1ZXMgPSBbe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBlLm9wdHNcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzLmxlbmd0aCA/ICh0LmVhY2goZS50ZC52YWx1ZXMsIGZ1bmN0aW9uKHQsIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhLCBzLCByID0gcChlLCBpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIub3B0aW9ucy5ib3VuZHMgPSB5KHIub3B0aW9ucy5ib3VuZHMgPyByLm9wdGlvbnMuYm91bmRzIDogaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFIHx8IG0oci5vcHRpb25zLmJvdW5kcy5nZXRDZW50ZXIoKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5vcHRpb25zLm1hcCA9IEUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG5ldyBELmNsYXNzZXMuUmVjdGFuZ2xlKHIub3B0aW9ucyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKHMpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBfLmFkZCh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJyZWN0YW5nbGVcIiwgcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdShvLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiByXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcywgYSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIGYoZSwgaSA/IG4gOiBuWzBdKSkgOiB2b2lkIGYoZSwgITEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLnBvbHlsaW5lID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGIodCwgXCJQb2x5bGluZVwiLCBcInBhdGhcIilcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMucG9seWdvbiA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBiKHQsIFwiUG9seWdvblwiLCBcInBhdGhzXCIpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLnRyYWZmaWNsYXllciA9IGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBtKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBfLmdldChcInRyYWZmaWNsYXllclwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlIHx8IChlID0gbmV3IEQuY2xhc3Nlcy5UcmFmZmljTGF5ZXIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUuc2V0TWFwKEUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBfLmFkZCh0LCBcInRyYWZmaWNsYXllclwiLCBlKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYodCwgZSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuYmljeWNsaW5nbGF5ZXIgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gXy5nZXQoXCJiaWN5Y2xpbmdsYXllclwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlIHx8IChlID0gbmV3IEQuY2xhc3Nlcy5CaWN5Y2xpbmdMYXllcixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5zZXRNYXAoRSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIF8uYWRkKHQsIFwiYmljeWNsaW5nbGF5ZXJcIiwgZSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBmKHQsIGUpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmdyb3VuZG92ZXJsYXkgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5vcHRzLmJvdW5kcyA9IHkodC5vcHRzLmJvdW5kcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5vcHRzLmJvdW5kcyAmJiBtKHQub3B0cy5ib3VuZHMuZ2V0Q2VudGVyKCkpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlLCBuID0gbmV3IEQuY2xhc3Nlcy5Hcm91bmRPdmVybGF5KHQub3B0cy51cmwsdC5vcHRzLmJvdW5kcyx0Lm9wdHMub3B0cyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbi5zZXRNYXAoRSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBfLmFkZCh0LCBcImdyb3VuZG92ZXJsYXlcIiwgbiksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYodCwgbiwgZSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuc3RyZWV0dmlld3Bhbm9yYW1hID0gZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUub3B0cy5vcHRzIHx8IChlLm9wdHMub3B0cyA9IHt9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZS5sYXRMbmcgPyBlLm9wdHMub3B0cy5wb3NpdGlvbiA9IGUubGF0TG5nIDogZS5vcHRzLm9wdHMucG9zaXRpb24gJiYgKGUub3B0cy5vcHRzLnBvc2l0aW9uID0gZyhlLm9wdHMub3B0cy5wb3NpdGlvbikpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLnRkLmRpdklkID8gZS5vcHRzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUudGQuZGl2SWQpIDogZS5vcHRzLmNvbnRhaW5lciAmJiAoZS5vcHRzLmNvbnRhaW5lciA9IHQoZS5vcHRzLmNvbnRhaW5lcikuZ2V0KDApKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiwgaSA9IG5ldyBELmNsYXNzZXMuU3RyZWV0Vmlld1Bhbm9yYW1hKGUub3B0cy5jb250YWluZXIsZS5vcHRzLm9wdHMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGkgJiYgRS5zZXRTdHJlZXRWaWV3KGkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuID0gXy5hZGQoZSwgXCJzdHJlZXR2aWV3cGFub3JhbWFcIiwgaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYoZSwgaSwgbilcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMua21sbGF5ZXIgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBbXVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBcInZhbHVlc1wiaW4gZS50ZDtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSB8fCAoZS50ZC52YWx1ZXMgPSBbe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBlLm9wdHNcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFsdWVzLmxlbmd0aCA/ICh0LmVhY2goZS50ZC52YWx1ZXMsIGZ1bmN0aW9uKHQsIGkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhLCBzLCByLCBjID0gcChlLCBpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUgfHwgbSgpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBjLm9wdGlvbnMsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLm9wdGlvbnMub3B0cyAmJiAociA9IGMub3B0aW9ucy5vcHRzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5vcHRpb25zLnVybCAmJiAoci51cmwgPSBjLm9wdGlvbnMudXJsKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5tYXAgPSBFLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBsKFwiMy4xMFwiKSA/IG5ldyBELmNsYXNzZXMuS21sTGF5ZXIocikgOiBuZXcgRC5jbGFzc2VzLkttbExheWVyKHIudXJsLHIpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaChzKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gXy5hZGQoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZDogY1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwia21sbGF5ZXJcIiwgcyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdShvLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkOiBjXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcywgYSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIGYoZSwgaSA/IG4gOiBuWzBdKSkgOiB2b2lkIGYoZSwgITEpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLnBhbmVsID0gZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG0oKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiwgaSwgcyA9IDAsIHIgPSAwLCBsID0gdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBsLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMWUzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS5vcHRzLmNvbnRlbnQgJiYgKGkgPSB0KGUub3B0cy5jb250ZW50KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbC5hcHBlbmQoaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8uZmlyc3QoKS5wcmVwZW5kKGwpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBhKGUub3B0cy5sZWZ0KSA/IGEoZS5vcHRzLnJpZ2h0KSA/IGUub3B0cy5jZW50ZXIgJiYgKHMgPSAoby53aWR0aCgpIC0gaS53aWR0aCgpKSAvIDIpIDogcyA9IG8ud2lkdGgoKSAtIGkud2lkdGgoKSAtIGUub3B0cy5yaWdodCA6IHMgPSBlLm9wdHMubGVmdCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYShlLm9wdHMudG9wKSA/IGEoZS5vcHRzLmJvdHRvbSkgPyBlLm9wdHMubWlkZGxlICYmIChyID0gKG8uaGVpZ2h0KCkgLSBpLmhlaWdodCgpKSAvIDIpIDogciA9IG8uaGVpZ2h0KCkgLSBpLmhlaWdodCgpIC0gZS5vcHRzLmJvdHRvbSA6IHIgPSBlLm9wdHMudG9wLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsLmNzcyh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHIsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuID0gXy5hZGQoZSwgXCJwYW5lbFwiLCBsKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZihlLCBsLCBuKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbCA9IG51bGxcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZGlyZWN0aW9uc3JlbmRlcmVyID0gZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUub3B0cy5tYXAgPSBFO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBpID0gbmV3IEguRGlyZWN0aW9uc1JlbmRlcmVyKGUub3B0cyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZS50ZC5kaXZJZCA/IGkuc2V0UGFuZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS50ZC5kaXZJZCkpIDogZS50ZC5jb250YWluZXIgJiYgaS5zZXRQYW5lbCh0KGUudGQuY29udGFpbmVyKS5nZXQoMCkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBuID0gXy5hZGQoZSwgXCJkaXJlY3Rpb25zcmVuZGVyZXJcIiwgaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYoZSwgaSwgbilcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZ2V0Z2VvbG9jID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGYodCwgdC5sYXRMbmcpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLnN0eWxlZG1hcHR5cGUgPSBmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gbmV3IEQuY2xhc3Nlcy5TdHlsZWRNYXBUeXBlKHQudGQuc3R5bGVzLHQub3B0cyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgRS5tYXBUeXBlcy5zZXQodC50ZC5pZCwgZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYodCwgZSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuaW1hZ2VtYXB0eXBlID0gZnVuY3Rpb24odCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIG0oKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBELmNsYXNzZXMuSW1hZ2VNYXBUeXBlKHQub3B0cyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgRS5tYXBUeXBlcy5zZXQodC50ZC5pZCwgZSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYodCwgZSlcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuYXV0b2ZpdCA9IGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IG5ldyBILkxhdExuZ0JvdW5kcztcclxuLy8gICAgICAgICAgICAgICAgICAgICB0LmVhY2goXy5hbGwoKSwgZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmdldFBvc2l0aW9uID8gbi5leHRlbmQoZS5nZXRQb3NpdGlvbigpKSA6IGUuZ2V0Qm91bmRzID8gKG4uZXh0ZW5kKGUuZ2V0Qm91bmRzKCkuZ2V0Tm9ydGhFYXN0KCkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5leHRlbmQoZS5nZXRCb3VuZHMoKS5nZXRTb3V0aFdlc3QoKSkpIDogZS5nZXRQYXRocyA/IGUuZ2V0UGF0aHMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZm9yRWFjaChmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5leHRlbmQodClcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogZS5nZXRQYXRoID8gZS5nZXRQYXRoKCkuZm9yRWFjaChmdW5jdGlvbih0KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLmV4dGVuZCh0KVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IGUuZ2V0Q2VudGVyID8gbi5leHRlbmQoZS5nZXRDZW50ZXIoKSkgOiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHogJiYgZSBpbnN0YW5jZW9mIHogJiYgKGUgPSBfLmdldEJ5SWQoZS5pZCgpLCAhMCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUgJiYgZS5hdXRvZml0KG4pKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG4uaXNFbXB0eSgpIHx8IEUuZ2V0Qm91bmRzKCkgJiYgRS5nZXRCb3VuZHMoKS5lcXVhbHMobikgfHwgKFwibWF4Wm9vbVwiaW4gZS50ZCAmJiBILmV2ZW50LmFkZExpc3RlbmVyT25jZShFLCBcImJvdW5kc19jaGFuZ2VkXCIsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFpvb20oKSA+IGUudGQubWF4Wm9vbSAmJiB0aGlzLnNldFpvb20oZS50ZC5tYXhab29tKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBFLmZpdEJvdW5kcyhuKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGYoZSwgITApXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmNsZWFyID0gZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChpKGUudGQpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmNsZWFyQnlJZChlLnRkKSB8fCBfLm9iakNsZWFyQnlJZChlLnRkKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIGYoZSwgITApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLnRkID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50ZFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGUudGQuaWQgPyB0LmVhY2godihlLnRkLmlkKSwgZnVuY3Rpb24odCwgZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBfLmNsZWFyQnlJZChlKSB8fCBfLm9iakNsZWFyQnlJZChlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pIDogKF8uY2xlYXIodihlLnRkLm5hbWUpLCBlLnRkLmxhc3QsIGUudGQuZmlyc3QsIGUudGQudGFnKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgXy5vYmpDbGVhcih2KGUudGQubmFtZSksIGUudGQubGFzdCwgZS50ZC5maXJzdCwgZS50ZC50YWcpKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZihlLCAhMClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMuZ2V0ID0gZnVuY3Rpb24obiwgbywgYSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBzLCByLCBsID0gbyA/IG4gOiBuLnRkO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvIHx8IChhID0gbC5mdWxsKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaShsKSA/IChyID0gXy5nZXRCeUlkKGwsICExLCBhKSB8fCBfLm9iakdldEJ5SWQobCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHIgPT09ICExICYmIChzID0gbCxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB7fSkpIDogcyA9IGwubmFtZSxcclxuLy8gICAgICAgICAgICAgICAgICAgICBcIm1hcFwiID09PSBzICYmIChyID0gRSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgciB8fCAociA9IFtdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsLmlkID8gKHQuZWFjaCh2KGwuaWQpLCBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnB1c2goXy5nZXRCeUlkKGUsICExLCBhKSB8fCBfLm9iakdldEJ5SWQoZSkpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBSKGwuaWQpIHx8IChyID0gclswXSkpIDogKHQuZWFjaChzID8gdihzKSA6IFtlXSwgZnVuY3Rpb24oZSwgbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLmZpcnN0ID8gKGkgPSBfLmdldChuLCAhMSwgbC50YWcsIGEpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiByLnB1c2goaSkpIDogbC5hbGwgPyB0LmVhY2goXy5hbGwobiwgbC50YWcsIGEpLCBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5wdXNoKGUpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IChpID0gXy5nZXQobiwgITAsIGwudGFnLCBhKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgJiYgci5wdXNoKGkpKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbC5hbGwgfHwgUihzKSB8fCAociA9IHJbMF0pKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBSKHIpIHx8ICFsLmFsbCA/IHIgOiBbcl0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIG8gPyByIDogdm9pZCBmKG4sIHIpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAsXHJcbi8vICAgICAgICAgICAgICAgICBTLmV4ZWMgPSBmdW5jdGlvbihlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdC5lYWNoKHYoZS50ZC5mdW5jKSwgZnVuY3Rpb24obiwgaSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0LmVhY2goUy5nZXQoZS50ZCwgITAsIGUudGQuaGFzT3duUHJvcGVydHkoXCJmdWxsXCIpID8gZS50ZC5mdWxsIDogITApLCBmdW5jdGlvbih0LCBlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNhbGwobywgZSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZihlLCAhMClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICxcclxuLy8gICAgICAgICAgICAgICAgIFMudHJpZ2dlciA9IGZ1bmN0aW9uKGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaShlLnRkKSlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgSC5ldmVudC50cmlnZ2VyKEUsIGUudGQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFtFLCBlLnRkLmV2ZW50TmFtZV07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGUudGQudmFyX2FyZ3MgJiYgdC5lYWNoKGUudGQudmFyX2FyZ3MsIGZ1bmN0aW9uKHQsIGUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaChlKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEguZXZlbnQudHJpZ2dlci5hcHBseShILmV2ZW50LCBuKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICBkKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB4LmFjaygpXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHZhciBELCBILCBqID0gMCwgVyA9IHQuaXNGdW5jdGlvbiwgUiA9IHQuaXNBcnJheSwgcSA9IHt9LCBVID0gbmV3IF87XHJcbi8vICAgICAgICAgdC5mbi5nbWFwMyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICB2YXIgZSwgbiA9IFtdLCBpID0gITAsIG8gPSBbXTtcclxuLy8gICAgICAgICAgICAgZm9yIChzKCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgIGUgPSAwOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKVxyXG4vLyAgICAgICAgICAgICAgICAgYXJndW1lbnRzW2VdICYmIG4ucHVzaChhcmd1bWVudHNbZV0pO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gbi5sZW5ndGggfHwgbi5wdXNoKFwibWFwXCIpLFxyXG4vLyAgICAgICAgICAgICAgICAgdC5lYWNoKHRoaXMsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gdCh0aGlzKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAsIGEgPSBlLmRhdGEoXCJnbWFwM1wiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpID0gITEsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgYSB8fCAoYSA9IG5ldyBCKGUpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEoXCJnbWFwM1wiLCBhKSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDEgIT09IG4ubGVuZ3RoIHx8IFwiZ2V0XCIgIT09IG5bMF0gJiYgIVMoblswXSkgPyBhLl9wbGFuKG4pIDogby5wdXNoKFwiZ2V0XCIgPT09IG5bMF0gPyBhLmdldChcIm1hcFwiLCAhMCkgOiBhLmdldChuWzBdLmdldCwgITAsIG5bMF0uZ2V0LmZ1bGwpKVxyXG4vLyAgICAgICAgICAgICAgICAgfSksXHJcbi8vICAgICAgICAgICAgICAgICBvLmxlbmd0aCA/IDEgPT09IG8ubGVuZ3RoID8gb1swXSA6IG8gOiB0aGlzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfShqUXVlcnkpO1xyXG4iLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgJCgnI2Fib3V0LXRhYnMgYScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHY9JCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgICAkKCcuYWJvdXQgLnRpdGxlJykudGV4dCh2KTtcclxuICAgIH0pO1xyXG4gICAgJCgnI3N0dWRlbnRzcGFnZS10YWJzIGEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB2PSQodGhpcykudGV4dCgpO1xyXG4gICAgICAgJCgnLnVrLXN3aXRjaGVyICN0aXRsZScpLnRleHQodik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcubW5zcnlfY29udGFpbmVyJykubWFzb25yeSh7XHJcbiAgICAgICAgLy8gb3B0aW9uc1xyXG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5pdGVtJyxcclxuICAgICAgICBjb2x1bW5XaWR0aDogMjAwXHJcblxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbiQoJy5jaXJjbGUnKS5jaXJjbGVQcm9ncmVzcyh7XHJcbiAgICBzaXplOjEwMCxcclxuICAgIGZpbGw6IHtcclxuICAgICAgICBjb2xvcjogJyMzOGI0NDknXHJcbiAgICB9XHJcbn0pXHJcbiIsIi8vIChmdW5jdGlvbiAoJCwgZG9jdW1lbnQsIHdpbmRvdykge1xyXG4vL1xyXG4vLyAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4vL1xyXG4vLyAgICAgICAgIHZhciAkY29udGFpbmVyID0gJCgnLm91cnByb2plY3QgLmZpbHRlcmFibGUtaXRlbXMnKTtcclxuLy9cclxuLy8gICAgICAgICAkY29udGFpbmVyLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICRjb250YWluZXIuaXNvdG9wZSh7XHJcbi8vICAgICAgICAgICAgICAgICBmaWx0ZXI6ICcqJyxcclxuLy8gICAgICAgICAgICAgICAgIGxheW91dE1vZGU6ICdmaXRSb3dzJyxcclxuLy8gICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcXVldWU6IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vL1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICQoJy5maWx0ZXJhYmxlLW5hdiBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgICAgICAkKCcuZmlsdGVyYWJsZS1uYXYgLmN1cnJlbnQnKS5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xyXG4vLyAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdjdXJyZW50Jyk7XHJcbi8vICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9ICQodGhpcykuYXR0cignZGF0YS1maWx0ZXInKTtcclxuLy8gICAgICAgICAgICAgJGNvbnRhaW5lci5pc290b3BlKHtcclxuLy8gICAgICAgICAgICAgICAgIGZpbHRlcjogc2VsZWN0b3IsXHJcbi8vICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDc1MCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHF1ZXVlOiBmYWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICQoJy5tb2JpbGUtZmlsdGVyJykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuLy9cclxuLy8gICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJCh0aGlzKS52YWwoKTtcclxuLy8gICAgICAgICAgICAgJGNvbnRhaW5lci5pc290b3BlKHtcclxuLy8gICAgICAgICAgICAgICAgIGZpbHRlcjogc2VsZWN0b3IsXHJcbi8vICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDc1MCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHF1ZXVlOiBmYWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vL1xyXG4vL1xyXG4vLyAgICAgICAgIG5ldyBXT1coKS5pbml0KCk7XHJcbi8vICAgICB9KTtcclxuLy9cclxuLy8gICAgIC8vZmFjdWx0eVxyXG4vLyAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4vL1xyXG4vLyAgICAgICAgIHZhciAkY29udGFpbmVyID0gJCgnLmZhY3VsdHkgLmZpbHRlcmFibGUtaXRlbXMnKTtcclxuLy9cclxuLy8gICAgICAgICAkY29udGFpbmVyLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICRjb250YWluZXIuaXNvdG9wZSh7XHJcbi8vICAgICAgICAgICAgICAgICBmaWx0ZXI6ICcuYmlvdGVjaG5vbG9neScsXHJcbi8vICAgICAgICAgICAgICAgICBsYXlvdXRNb2RlOiAnZml0Um93cycsXHJcbi8vICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zOiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDc1MCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHF1ZXVlOiBmYWxzZVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy9cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICAkKCcuZmlsdGVyYWJsZS1uYXYgYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuLy8gICAgICAgICAgICAgJCgnLmZpbHRlcmFibGUtbmF2IC5iZy1nb2xkJykucmVtb3ZlQ2xhc3MoJ2JnLWdvbGQnKTtcclxuLy8gICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYmctZ29sZCcpO1xyXG4vL1xyXG4vLyAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmlsdGVyJyk7XHJcbi8vICAgICAgICAgICAgICRjb250YWluZXIuaXNvdG9wZSh7XHJcbi8vICAgICAgICAgICAgICAgICBmaWx0ZXI6IHNlbGVjdG9yLFxyXG4vLyAgICAgICAgICAgICAgICAgYW5pbWF0aW9uT3B0aW9uczoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuLy8gICAgICAgICAgICAgICAgICAgICBxdWV1ZTogZmFsc2VcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICAkKCcubW9iaWxlLWZpbHRlcicpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbi8vXHJcbi8vICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9ICQodGhpcykudmFsKCk7XHJcbi8vICAgICAgICAgICAgICRjb250YWluZXIuaXNvdG9wZSh7XHJcbi8vICAgICAgICAgICAgICAgICBmaWx0ZXI6IHNlbGVjdG9yLFxyXG4vLyAgICAgICAgICAgICAgICAgYW5pbWF0aW9uT3B0aW9uczoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuLy8gICAgICAgICAgICAgICAgICAgICBxdWV1ZTogZmFsc2VcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9KTtcclxuLy9cclxuLy9cclxuLy8gICAgICAgICBuZXcgV09XKCkuaW5pdCgpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICAvL2NvbGxlZ2VsaWZlXHJcbi8vICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbi8vXHJcbi8vICAgICAgICAgdmFyICRjb250YWluZXIgPSAkKCcuY29sbGVnZWxpZmUgLmZpbHRlcmFibGUtaXRlbXMnKTtcclxuLy9cclxuLy8gICAgICAgICAkY29udGFpbmVyLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICRjb250YWluZXIuaXNvdG9wZSh7XHJcbi8vICAgICAgICAgICAgICAgICBmaWx0ZXI6ICcuY29sbGVnZWxpZmUnLFxyXG4vLyAgICAgICAgICAgICAgICAgbGF5b3V0TW9kZTogJ2ZpdFJvd3MnLFxyXG4vLyAgICAgICAgICAgICAgICAgYW5pbWF0aW9uT3B0aW9uczoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuLy8gICAgICAgICAgICAgICAgICAgICBxdWV1ZTogZmFsc2VcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vXHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgJCgnLmZpbHRlcmFibGUtbmF2IGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4vLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgICQoJy5maWx0ZXJhYmxlLW5hdiAuYmctZ29sZCcpLnJlbW92ZUNsYXNzKCdiZy1nb2xkJyk7XHJcbi8vICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2JnLWdvbGQnKTtcclxuLy9cclxuLy8gICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4vLyAgICAgICAgICAgICAkY29udGFpbmVyLmlzb3RvcGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgZmlsdGVyOiBzZWxlY3RvcixcclxuLy8gICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcXVldWU6IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgJCgnLm1vYmlsZS1maWx0ZXInKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4vL1xyXG4vLyAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSAkKHRoaXMpLnZhbCgpO1xyXG4vLyAgICAgICAgICAgICAkY29udGFpbmVyLmlzb3RvcGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgZmlsdGVyOiBzZWxlY3RvcixcclxuLy8gICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcXVldWU6IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vXHJcbi8vXHJcbi8vICAgICAgICAgbmV3IFdPVygpLmluaXQoKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgLy9nYWxsZXJ5XHJcbi8vICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbi8vXHJcbi8vICAgICAgICAgdmFyICRjb250YWluZXIgPSAkKCcuZ2FsbGVyeSAuZmlsdGVyYWJsZS1pdGVtcycpO1xyXG4vL1xyXG4vLyAgICAgICAgICRjb250YWluZXIuaW1hZ2VzTG9hZGVkKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgJGNvbnRhaW5lci5pc290b3BlKHtcclxuLy8gICAgICAgICAgICAgICAgIGZpbHRlcjogJyonLFxyXG4vLyAgICAgICAgICAgICAgICAgbGF5b3V0TW9kZTogJ2ZpdFJvd3MnLFxyXG4vLyAgICAgICAgICAgICAgICAgYW5pbWF0aW9uT3B0aW9uczoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuLy8gICAgICAgICAgICAgICAgICAgICBxdWV1ZTogZmFsc2VcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vXHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgJCgnLmZpbHRlcmFibGUtbmF2IGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4vLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgICQoJy5maWx0ZXJhYmxlLW5hdiAuYmctZ29sZCcpLnJlbW92ZUNsYXNzKCdiZy1nb2xkJyk7XHJcbi8vICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2JnLWdvbGQnKTtcclxuLy9cclxuLy8gICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4vLyAgICAgICAgICAgICAkY29udGFpbmVyLmlzb3RvcGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgZmlsdGVyOiBzZWxlY3RvcixcclxuLy8gICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcXVldWU6IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgJCgnLm1vYmlsZS1maWx0ZXInKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4vL1xyXG4vLyAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSAkKHRoaXMpLnZhbCgpO1xyXG4vLyAgICAgICAgICAgICAkY29udGFpbmVyLmlzb3RvcGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgZmlsdGVyOiBzZWxlY3RvcixcclxuLy8gICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnM6IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcXVldWU6IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vXHJcbi8vXHJcbi8vICAgICAgICAgbmV3IFdPVygpLmluaXQoKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgJCh3aW5kb3cpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuLy9cclxuLy8gICAgIH0pO1xyXG4vL1xyXG4vLyB9KShqUXVlcnksIGRvY3VtZW50LCB3aW5kb3cpO1xyXG4vL1xyXG4vL1xyXG4vLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAkKCcubmF2LS1saXN0cyBhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICQoJy5uYXYtLWxpc3RzIGEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbi8vICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbi8vICAgICB9KTtcclxuLy8gfSk7XHJcbi8vXHJcbiQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKCcuZ3JpZCcpLmlzb3RvcGUoe1xyXG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nXHJcbiAgICB9KTtcclxuXHJcbi8vIGZpbHRlciBpdGVtcyBvbiBidXR0b24gY2xpY2tcclxuICAgICQoJy5maWx0ZXItYnV0dG9uLWdyb3VwJykub24oICdjbGljaycsICdsaScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBmaWx0ZXJWYWx1ZSA9ICQodGhpcykuYXR0cignZGF0YS1maWx0ZXInKTtcclxuICAgICAgICAkKCcuZ3JpZCcpLmlzb3RvcGUoeyBmaWx0ZXI6IGZpbHRlclZhbHVlIH0pO1xyXG4gICAgICAgICQoJy5maWx0ZXItYnV0dG9uLWdyb3VwIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcbn0pOyJdfQ==
